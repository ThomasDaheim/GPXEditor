myMap.options.worldCopyJump=!0;myMap.options.zoomAnimation=!1;myMap.options.preferCanvas=!0;myMap.options.renderer=L.canvas();function disableCntrlDrag(a){a.originalEvent.ctrlKey&&(myMap.dragging.disable(),myMap.boxZoom.disable())}function enableCntrlDrag(a){a.originalEvent.ctrlKey&&(myMap.dragging.enable(),myMap.boxZoom.enable())}myMap.on("mousedown",disableCntrlDrag);myMap.on("mouseup",enableCntrlDrag);
function mapViewChanged(a){var b=getMapBounds();jscallback.mapViewChanged(a.type,b[0],b[1],b[2],b[3])}myMap.on("zoomend",mapViewChanged);myMap.on("moveend",mapViewChanged);myMap.on("resize",mapViewChanged);function mapViewChanging(a){var b=getMapBounds();jscallback.mapViewChanging(a.type,b[0],b[1],b[2],b[3])}myMap.on("zoomstart",mapViewChanging);myMap.on("movestart",mapViewChanging);var mapBounds;function setMapBounds(a,b,c,e,d){mapBounds=[[a,c],[b,e]];d&&doSetMapBounds(mapBounds)}
function doSetMapBounds(a){"undefined"!==typeof a&&myMap.fitBounds(a)}function getMapBounds(){var a=myMap.getBounds();return[a.getSouthWest().lat,a.getSouthWest().lng,a.getNorthEast().lat,a.getNorthEast().lng]}function updateMarkerIcon(a,b){window[a].setIcon(window[b])}function updateMarkerColor(a,b){window[a].setStyle({color:b,weight:2})}function highlightMarker(a){window[a].valueOf()._icon.style.backgroundColor="red"}
function unlightMarker(a){window[a].valueOf()._icon.style.backgroundColor="transparent"}function updateMarkerLocation(a,b,c){a=window[a];b=new L.LatLng(b,c);a.setLatLng(b)}function addClickToLayer(a,b,c){window[a].on("click",function(e){jscallback.selectMarker(a,b,c,e.originalEvent.shiftKey)})}function addNameToLayer(a,b){var c=window[a];c instanceof L.Polyline&&(c.options.interactive=!0,c.bindTooltip(b,{sticky:!0}),setTitle(a,b))}
function makeDraggable(a,b,c,e){var d=window[a],f=window[e];d.on("dragstart",function(a){if(""!==e){a=f.getLatLngs();for(var b=d.getLatLng(),c=0;c<a.length;c++)b.equals(a[c])&&(this.polylineLatlng=c)}});d.on("drag",function(a){if(""!==e){a=f.getLatLngs();var b=d.getLatLng();a.splice(this.polylineLatlng,1,b);f.setLatLngs(a)}});d.on("dragend",function(f){f=d.getLatLng();jscallback.moveMarker(a,b,c,f.lat,f.lng);""!==e&&delete d.polylineLatlng});d.dragging.enable()}
function setTitle(a,b){a=window[a];a._icon?a._icon.title=b:a.options.title=b}function getLatLngForPoint(a,b){a=L.point(a,b);a=myMap.containerPointToLatLng(a);return[a.lat,a.lng]}function getLatLngForRect(a,b,c,e){return getLatLngForPoint(a,b).concat(getLatLngForPoint(c,e))}function getPointForLatLng(a,b){a=L.latLng(a,b);a=myMap.latLngToContainerPoint(a);return[a.x,a.y]}
function getPointsForLatLngs(a){for(var b=[],c=a.length,e=0;e<c;e++){var d=a[e];d=getPointForLatLng(d[0],d[1]);b.push(L.point(d[0],d[1]))}return pointsToString(b)}function coordsToString(a){for(var b="",c=a.length,e=0;e<c;e++){var d=a[e];b=b+"lat:"+d.lat+", lon:"+d.lng;e<c-1&&(b+=" - ")}return b}function pointsToString(a){for(var b="",c=a.length,e=0;e<c;e++){var d=a[e];b=b+"x:"+d.x+", y:"+d.y;e<c-1&&(b+=" - ")}return b}
function registerMarker(a){a=a.target;var b=a.getLatLng();jscallback.registerMarker(JSON.stringify(a.properties),b.lat,b.lng)}function deregisterMarker(a){a=a.target;var b=a.getLatLng();jscallback.deregisterMarker(JSON.stringify(a.properties),b.lat,b.lng)}var searchResultsLayer=L.layerGroup().addTo(myMap),searchResults,searchCount;function clearSearchResults(){searchResultsLayer.clearLayers();searchResults=[];searchCount=0}clearSearchResults();
function removeSearchResult(a){a in searchResults&&searchResultsLayer.removeLayer(searchResults[a])}
function showSearchResults(a,b,c){b=JSON.parse(b);c=window[c];if(b.hasOwnProperty("elements")&&0<b.elements.length)for(var e in b.elements){var d=(new L.marker([b.elements[e].lat,b.elements[e].lon],{icon:c})).addTo(searchResultsLayer);d.properties={};d.properties.SearchItem=a;d.on("mouseover",registerMarker);d.on("mouseout",deregisterMarker);var f=getTitleFromTags(d,b.elements[e]);0<f.length&&(d._icon?d._icon.title=f:d.options.title=f);d.properties.MarkerCount=searchCount;searchResults.push(d);searchCount++}}
function getTitleFromTags(a,b){var c="";b.hasOwnProperty("tags")&&(b.tags.hasOwnProperty("name")&&(c=b.tags.name,a.properties.Name=b.tags.name),b.tags.hasOwnProperty("cuisine")&&(0<c.length&&(c+="\n"),c+=b.tags.cuisine,a.properties.Cuisine=b.tags.cuisine),b.tags.hasOwnProperty("phone")&&(0<c.length&&(c+="\n"),c+=b.tags.phone,a.properties.Phone=b.tags.phone),b.tags.hasOwnProperty("email")&&(0<c.length&&(c+="\n"),c+=b.tags.email,a.properties.Email=b.tags.email),b.tags.hasOwnProperty("website")&&(0<
c.length&&(c+="\n"),c+=b.tags.website,a.properties.Website=b.tags.website),b.tags.hasOwnProperty("description")&&(0<c.length&&(c+="\n"),c+=b.tags.description,a.properties.Description=b.tags.description));return c}function addMouseOverToLayer(a){var b=window[a];b.on("mouseover",function(b){b=b.target.getLatLng();jscallback.registerWaypoint(a,b.lat,b.lng)});b.on("mouseout",function(b){b=b.target.getLatLng();jscallback.deregisterWaypoint(a,b.lat,b.lng)})};