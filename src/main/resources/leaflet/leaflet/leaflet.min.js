(function(h,v){"object"===typeof exports&&"undefined"!==typeof module?v(exports):"function"===typeof define&&define.amd?define(["exports"],v):v(h.L={})})(this,function(h){function v(a){var b,c;var d=1;for(c=arguments.length;d<c;d++){var e=arguments[d];for(b in e)a[b]=e[b]}return a}function x(a,b){var c=Array.prototype.slice;if(a.bind)return a.bind.apply(a,c.call(arguments,1));var d=c.call(arguments,2);return function(){return a.apply(b,d.length?d.concat(c.call(arguments)):arguments)}}function u(a){a._leaflet_id=
a._leaflet_id||++kc;return a._leaflet_id}function lc(a,b,c){var d,e,f;var g=function(){d=!1;e&&(f.apply(c,e),e=!1)};return f=function(){d?e=arguments:(a.apply(c,arguments),setTimeout(g,b),d=!0)}}function Ha(a,b,c){var d=b[1];b=b[0];var e=d-b;return a===d&&c?a:((a-b)%e+e)%e+b}function F(){return!1}function U(a,b){b=Math.pow(10,void 0===b?6:b);return Math.round(a*b)/b}function ub(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function sa(a){return ub(a).split(/\s+/)}function y(a,b){a.hasOwnProperty("options")||
(a.options=a.options?Xa(a.options):{});for(var c in b)a.options[c]=b[c];return a.options}function mc(a,b,c){var d=[],e;for(e in a)d.push(encodeURIComponent(c?e.toUpperCase():e)+"="+encodeURIComponent(a[e]));return(b&&-1!==b.indexOf("?")?"&":"?")+d.join("&")}function nc(a,b){return a.replace(rd,function(a,d){d=b[d];if(void 0===d)throw Error("No value provided for variable "+a);"function"===typeof d&&(d=d(b));return d})}function oc(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function vb(a){return window["webkit"+
a]||window["moz"+a]||window["ms"+a]}function pc(a){var b=+new Date,c=Math.max(0,16-(b-qc));qc=b+c;return window.setTimeout(a,c)}function H(a,b,c){if(c&&wb===pc)a.call(b);else return wb.call(window,x(a,b))}function I(a){a&&rc.call(window,a)}function ba(){}function sd(a){if("undefined"!==typeof L&&L&&L.Mixin){a=V(a)?a:[a];for(var b=0;b<a.length;b++)a[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",
Error().stack)}}function l(a,b,c){this.x=c?Math.round(a):a;this.y=c?Math.round(b):b}function m(a,b,c){return a instanceof l?a:V(a)?new l(a[0],a[1]):void 0===a||null===a?a:"object"===typeof a&&"x"in a&&"y"in a?new l(a.x,a.y):new l(a,b,c)}function z(a,b){if(a){a=b?[a,b]:a;b=0;for(var c=a.length;b<c;b++)this.extend(a[b])}}function P(a,b){return!a||a instanceof z?a:new z(a,b)}function J(a,b){if(a){a=b?[a,b]:a;b=0;for(var c=a.length;b<c;b++)this.extend(a[b])}}function G(a,b){return a instanceof J?a:new J(a,
b)}function w(a,b,c){if(isNaN(a)||isNaN(b))throw Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=+a;this.lng=+b;void 0!==c&&(this.alt=+c)}function B(a,b,c){return a instanceof w?a:V(a)&&"object"!==typeof a[0]?3===a.length?new w(a[0],a[1],a[2]):2===a.length?new w(a[0],a[1]):null:void 0===a||null===a?a:"object"===typeof a&&"lat"in a?new w(a.lat,"lng"in a?a.lng:a.lon,a.alt):void 0===b?null:new w(a,b,c)}function xb(a,b,c,d){V(a)?(this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3]):(this._a=a,
this._b=b,this._c=c,this._d=d)}function Ia(a,b,c,d){return new xb(a,b,c,d)}function sc(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function tc(a,b){var c="",d,e;var f=0;for(d=a.length;f<d;f++){var g=a[f];var k=0;for(e=g.length;k<e;k++){var t=g[k];c+=(k?"L":"M")+t.x+" "+t.y}c+=b?Ya?"z":"x":""}return c||"M0 0"}function W(a){return 0<=navigator.userAgent.toLowerCase().indexOf(a)}function td(a,b,c,d){"touchstart"===b?ud(a,c,d):"touchmove"===b?vd(a,c,d):"touchend"===b&&wd(a,c,d);
return this}function xd(a,b,c){c=a["_leaflet_"+b+c];"touchstart"===b?a.removeEventListener(yb,c,!1):"touchmove"===b?a.removeEventListener(zb,c,!1):"touchend"===b&&(a.removeEventListener(Ab,c,!1),a.removeEventListener(Bb,c,!1));return this}function ud(a,b,c){var d=x(function(a){if("mouse"!==a.pointerType&&a.MSPOINTER_TYPE_MOUSE&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE)if(0>yd.indexOf(a.target.tagName))M(a);else return;Cb(a,b)});a["_leaflet_touchstart"+c]=d;a.addEventListener(yb,d,!1);uc||(document.documentElement.addEventListener(yb,
zd,!0),document.documentElement.addEventListener(zb,Ad,!0),document.documentElement.addEventListener(Ab,vc,!0),document.documentElement.addEventListener(Bb,vc,!0),uc=!0)}function zd(a){ta[a.pointerId]=a;Db++}function Ad(a){ta[a.pointerId]&&(ta[a.pointerId]=a)}function vc(a){delete ta[a.pointerId];Db--}function Cb(a,b){a.touches=[];for(var c in ta)a.touches.push(ta[c]);a.changedTouches=[a];b(a)}function vd(a,b,c){var d=function(a){(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==
a.buttons)&&Cb(a,b)};a["_leaflet_touchmove"+c]=d;a.addEventListener(zb,d,!1)}function wd(a,b,c){var d=function(a){Cb(a,b)};a["_leaflet_touchend"+c]=d;a.addEventListener(Ab,d,!1);a.addEventListener(Bb,d,!1)}function wc(a,b,c){function d(a){if(Q){if(!Ja||"mouse"===a.pointerType)return;var b=Db}else b=a.touches.length;if(!(1<b)){b=Date.now();var c=b-(f||b);g=a.touches?a.touches[0]:a;k=0<c&&250>=c;f=b}}function e(a){if(k&&!g.cancelBubble){if(Q){if(!Ja||"mouse"===a.pointerType)return;a={};var c;for(c in g){var d=
g[c];a[c]=d&&d.bind?d.bind(g):d}g=a}g.type="dblclick";g.button=0;b(g);f=null}}var f,g,k=!1;a["_leaflet_"+Za+c]=d;a["_leaflet_"+$a+c]=e;a["_leaflet_dblclick"+c]=b;a.addEventListener(Za,d,na?{passive:!1}:!1);a.addEventListener($a,e,na?{passive:!1}:!1);a.addEventListener("dblclick",b,!1);return this}function xc(a,b){var c=a["_leaflet_"+$a+b],d=a["_leaflet_dblclick"+b];a.removeEventListener(Za,a["_leaflet_"+Za+b],na?{passive:!1}:!1);a.removeEventListener($a,c,na?{passive:!1}:!1);Ja||a.removeEventListener("dblclick",
d,!1);return this}function yc(a){return"string"===typeof a?document.getElementById(a):a}function Ka(a,b){var c=a.style[b]||a.currentStyle&&a.currentStyle[b];c&&"auto"!==c||!document.defaultView||(c=(a=document.defaultView.getComputedStyle(a,null))?a[b]:null);return"auto"===c?null:c}function q(a,b,c){a=document.createElement(a);a.className=b||"";c&&c.appendChild(a);return a}function A(a){var b=a.parentNode;b&&b.removeChild(a)}function ab(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function ua(a){var b=
a.parentNode;b&&b.lastChild!==a&&b.appendChild(a)}function va(a){var b=a.parentNode;b&&b.firstChild!==a&&b.insertBefore(a,b.firstChild)}function Eb(a,b){if(void 0!==a.classList)return a.classList.contains(b);a=bb(a);return 0<a.length&&(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a)}function n(a,b){if(void 0!==a.classList){b=sa(b);for(var c=0,d=b.length;c<d;c++)a.classList.add(b[c])}else Eb(a,b)||(c=bb(a),Fb(a,(c?c+" ":"")+b))}function C(a,b){void 0!==a.classList?a.classList.remove(b):Fb(a,ub((" "+bb(a)+
" ").replace(" "+b+" "," ")))}function Fb(a,b){void 0===a.className.baseVal?a.className=b:a.className.baseVal=b}function bb(a){a.correspondingElement&&(a=a.correspondingElement);return void 0===a.className.baseVal?a.className:a.className.baseVal}function N(a,b){if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style)a:{var c=!1;try{c=a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){if(1===b)break a}b=Math.round(100*b);c?(c.Enabled=100!==b,c.Opacity=b):a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+
b+")"}}function cb(a){for(var b=document.documentElement.style,c=0;c<a.length;c++)if(a[c]in b)return a[c];return!1}function oa(a,b,c){b=b||new l(0,0);a.style[Gb]=(Hb?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(c?" scale("+c+")":"")}function E(a,b){a._leaflet_pos=b;O?oa(a,b):(a.style.left=b.x+"px",a.style.top=b.y+"px")}function ia(a){return a._leaflet_pos||new l(0,0)}function Ib(){p(window,"dragstart",M)}function Jb(){D(window,"dragstart",M)}function Kb(a){for(;-1===a.tabIndex;)a=
a.parentNode;a.style&&(db(),eb=a,Lb=a.style.outline,a.style.outline="none",p(window,"keydown",db))}function db(){eb&&(eb.style.outline=Lb,Lb=eb=void 0,D(window,"keydown",db))}function zc(a){do a=a.parentNode;while(!(a.offsetWidth&&a.offsetHeight||a===document.body));return a}function Mb(a){var b=a.getBoundingClientRect();return{x:b.width/a.offsetWidth||1,y:b.height/a.offsetHeight||1,boundingClientRect:b}}function p(a,b,c,d){if("object"===typeof b)for(var e in b)fb(a,e,b[e],c);else{b=sa(b);e=0;for(var f=
b.length;e<f;e++)fb(a,b[e],c,d)}return this}function D(a,b,c,d){if("object"===typeof b)for(var e in b)Nb(a,e,b[e],c);else if(b){b=sa(b);e=0;for(var f=b.length;e<f;e++)Nb(a,b[e],c,d)}else{for(f in a[R])Nb(a,f,a[R][f]);delete a[R]}return this}function fb(a,b,c,d){var e=b+u(c)+(d?"_"+u(d):"");if(a[R]&&a[R][e])return this;var f=function(b){return c.call(d||a,b||window.event)},g=f;Q&&0===b.indexOf("touch")?td(a,b,f,e):!X||"dblclick"!==b||!wc||Q&&La?"addEventListener"in a?"mousewheel"===b?a.addEventListener("onwheel"in
a?"wheel":"mousewheel",f,na?{passive:!1}:!1):"mouseenter"===b||"mouseleave"===b?(f=function(b){b=b||window.event;gb(a,b)&&g(b)},a.addEventListener("mouseenter"===b?"mouseover":"mouseout",f,!1)):("click"===b&&wa&&(f=function(a){var b=a.timeStamp||a.originalEvent&&a.originalEvent.timeStamp,c=Ob&&b-Ob;c&&100<c&&500>c||a.target._simulatedClick&&!a._simulated?Y(a):(Ob=b,g(a))}),a.addEventListener(b,f,!1)):"attachEvent"in a&&a.attachEvent("on"+b,f):wc(a,f,e);a[R]=a[R]||{};a[R][e]=f}function Nb(a,b,c,d){c=
b+u(c)+(d?"_"+u(d):"");d=a[R]&&a[R][c];if(!d)return this;Q&&0===b.indexOf("touch")?xd(a,b,c):!X||"dblclick"!==b||!xc||Q&&La?"removeEventListener"in a?"mousewheel"===b?a.removeEventListener("onwheel"in a?"wheel":"mousewheel",d,na?{passive:!1}:!1):a.removeEventListener("mouseenter"===b?"mouseover":"mouseleave"===b?"mouseout":b,d,!1):"detachEvent"in a&&a.detachEvent("on"+b,d):xc(a,c);a[R][c]=null}function pa(a){a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=
!0;Pb(a);return this}function Qb(a){fb(a,"mousewheel",pa);return this}function Ma(a){p(a,"mousedown touchstart dblclick",pa);fb(a,"click",Rb);return this}function M(a){a.preventDefault?a.preventDefault():a.returnValue=!1;return this}function Y(a){M(a);pa(a);return this}function Ac(a,b){if(!b)return new l(a.clientX,a.clientY);var c=Mb(b),d=c.boundingClientRect;return new l((a.clientX-d.left)/c.x-b.clientLeft,(a.clientY-d.top)/c.y-b.clientTop)}function Bc(a){return Ja?a.wheelDeltaY/2:a.deltaY&&0===
a.deltaMode?-a.deltaY/Bd:a.deltaY&&1===a.deltaMode?20*-a.deltaY:a.deltaY&&2===a.deltaMode?60*-a.deltaY:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&32765>Math.abs(a.detail)?20*-a.detail:a.detail?a.detail/-32765*60:0}function Rb(a){Sb[a.type]=!0}function Pb(a){var b=Sb[a.type];Sb[a.type]=!1;return b}function gb(a,b){b=b.relatedTarget;if(!b)return!0;try{for(;b&&b!==a;)b=b.parentNode}catch(c){return!1}return b!==a}function Cc(a,b){if(!b||!a.length)return a.slice();b*=b;
for(var c=[a[0]],d=1,e=0,f=a.length;d<f;d++){var g=a[d],k=a[e],t=k.x-g.x;g=k.y-g.y;t*t+g*g>b&&(c.push(a[d]),e=d)}e<f-1&&c.push(a[f-1]);a=c;c=a.length;d=new ("undefined"!==typeof Uint8Array?Uint8Array:Array)(c);d[0]=d[c-1]=1;Tb(a,d,b,0,c-1);e=[];for(b=0;b<c;b++)d[b]&&e.push(a[b]);return e}function Dc(a,b,c){return Math.sqrt(Na(a,b,c,!0))}function Tb(a,b,c,d,e){var f=0,g;for(g=d+1;g<=e-1;g++){var k=Na(a[g],a[d],a[e],!0);if(k>f){var t=g;f=k}}f>c&&(b[t]=1,Tb(a,b,c,d,t),Tb(a,b,c,t,e))}function Ec(a,b,
c,d,e){d=d?Fc:qa(a,c);var f=qa(b,c);for(Fc=f;;){if(!(d|f))return[a,b];if(d&f)return!1;var g=d||f;var k=hb(a,b,g,c,e);var t=qa(k,c);g===d?(a=k,d=t):(b=k,f=t)}}function hb(a,b,c,d,e){var f=b.x-a.x;b=b.y-a.y;var g=d.min;d=d.max;if(c&8){var k=a.x+f*(d.y-a.y)/b;var t=d.y}else c&4?(k=a.x+f*(g.y-a.y)/b,t=g.y):c&2?(k=d.x,t=a.y+b*(d.x-a.x)/f):c&1&&(k=g.x,t=a.y+b*(g.x-a.x)/f);return new l(k,t,e)}function qa(a,b){var c=0;a.x<b.min.x?c|=1:a.x>b.max.x&&(c|=2);a.y<b.min.y?c|=4:a.y>b.max.y&&(c|=8);return c}function Na(a,
b,c,d){var e=b.x;b=b.y;var f=c.x-e,g=c.y-b,k=f*f+g*g;0<k&&(k=((a.x-e)*f+(a.y-b)*g)/k,1<k?(e=c.x,b=c.y):0<k&&(e+=f*k,b+=g*k));f=a.x-e;g=a.y-b;return d?f*f+g*g:new l(e,b)}function ca(a){return!V(a[0])||"object"!==typeof a[0][0]&&"undefined"!==typeof a[0][0]}function Gc(a){console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");return ca(a)}function Hc(a,b,c){var d=[1,4,2,8],e,f,g;var k=0;for(g=a.length;k<g;k++)a[k]._code=qa(a[k],b);for(f=0;4>f;f++){var t=d[f];var h=[];k=0;g=a.length;
for(e=g-1;k<g;e=k++){var l=a[k];e=a[e];l._code&t?e._code&t||(e=hb(e,l,t,b,c),e._code=qa(e,b),h.push(e)):(e._code&t&&(e=hb(e,l,t,b,c),e._code=qa(e,b),h.push(e)),h.push(l))}a=h}return a}function Ub(a,b){var c="Feature"===a.type?a.geometry:a,d=c?c.coordinates:null,e=[],f=b&&b.pointToLayer,g=b&&b.coordsToLatLng||Vb,k;if(!d&&!c)return null;switch(c.type){case "Point":return c=g(d),Ic(f,a,c,b);case "MultiPoint":var t=0;for(k=d.length;t<k;t++)c=g(d[t]),e.push(Ic(f,a,c,b));return new xa(e);case "LineString":case "MultiLineString":return a=
ib(d,"LineString"===c.type?0:1,g),new da(a,b);case "Polygon":case "MultiPolygon":return a=ib(d,"Polygon"===c.type?1:2,g),new ya(a,b);case "GeometryCollection":t=0;for(k=c.geometries.length;t<k;t++)(d=Ub({geometry:c.geometries[t],type:"Feature",properties:a.properties},b))&&e.push(d);return new xa(e);default:throw Error("Invalid GeoJSON object.");}}function Ic(a,b,c,d){return a?a(b,c):new jb(c,d&&d.markersInheritOptions&&d)}function Vb(a){return new w(a[1],a[0],a[2])}function ib(a,b,c){for(var d=[],
e=0,f=a.length,g;e<f;e++)g=b?ib(a[e],b-1,c):(c||Vb)(a[e]),d.push(g);return d}function Wb(a,b){b="number"===typeof b?b:6;return void 0!==a.alt?[U(a.lng,b),U(a.lat,b),U(a.alt,b)]:[U(a.lng,b),U(a.lat,b)]}function kb(a,b,c,d){for(var e=[],f=0,g=a.length;f<g;f++)e.push(b?kb(a[f],b-1,c,d):Wb(a[f],d));!b&&c&&e.push(e[0]);return e}function za(a,b){return a.feature?v({},a.feature,{geometry:b}):lb(b)}function lb(a){return"Feature"===a.type||"FeatureCollection"===a.type?a:{type:"Feature",properties:{},geometry:a}}
function Jc(a,b){return new ea(a,b)}function Kc(a,b){return new Aa(a,b)}function Lc(a){return Mc?new Nc(a):null}function Oc(a){return Ya||mb?new Oa(a):null}var Pc=Object.freeze;Object.freeze=function(a){return a};var Xa=Object.create||function(){function a(){}return function(b){a.prototype=b;return new a}}(),kc=0,rd=/\{ *([\w_-]+) *\}/g,V=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},qc=0,wb=window.requestAnimationFrame||vb("RequestAnimationFrame")||pc,rc=
window.cancelAnimationFrame||vb("CancelAnimationFrame")||vb("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)},Cd=(Object.freeze||Object)({freeze:Pc,extend:v,create:Xa,bind:x,lastId:kc,stamp:u,throttle:lc,wrapNum:Ha,falseFn:F,formatNum:U,trim:ub,splitWords:sa,setOptions:y,getParamString:mc,template:nc,isArray:V,indexOf:oc,emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",requestFn:wb,cancelFn:rc,requestAnimFrame:H,cancelAnimFrame:I});ba.extend=function(a){var b=
function(){this.initialize&&this.initialize.apply(this,arguments);this.callInitHooks()},c=b.__super__=this.prototype,d=Xa(c);d.constructor=b;b.prototype=d;for(var e in this)this.hasOwnProperty(e)&&"prototype"!==e&&"__super__"!==e&&(b[e]=this[e]);a.statics&&(v(b,a.statics),delete a.statics);a.includes&&(sd(a.includes),v.apply(null,[d].concat(a.includes)),delete a.includes);d.options&&(a.options=v(Xa(d.options),a.options));v(d,a);d._initHooks=[];d.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&
c.callInitHooks.call(this);this._initHooksCalled=!0;for(var a=0,b=d._initHooks.length;a<b;a++)d._initHooks[a].call(this)}};return b};ba.include=function(a){v(this.prototype,a);return this};ba.mergeOptions=function(a){v(this.prototype.options,a);return this};ba.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1);this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push("function"===typeof a?a:function(){this[a].apply(this,b)});return this};var K={on:function(a,
b,c){if("object"===typeof a)for(var d in a)this._on(d,a[d],b);else{a=sa(a);d=0;for(var e=a.length;d<e;d++)this._on(a[d],b,c)}return this},off:function(a,b,c){if(a)if("object"===typeof a)for(var d in a)this._off(d,a[d],b);else{a=sa(a);d=0;for(var e=a.length;d<e;d++)this._off(a[d],b,c)}else delete this._events;return this},_on:function(a,b,c){this._events=this._events||{};var d=this._events[a];d||(d=[],this._events[a]=d);c===this&&(c=void 0);a={fn:b,ctx:c};for(var e=0,f=d.length;e<f;e++)if(d[e].fn===
b&&d[e].ctx===c)return;d.push(a)},_off:function(a,b,c){var d,e;if(this._events&&(d=this._events[a]))if(b){if(c===this&&(c=void 0),d){var f=0;for(e=d.length;f<e;f++){var g=d[f];if(g.ctx===c&&g.fn===b){g.fn=F;this._firingCount&&(this._events[a]=d=d.slice());d.splice(f,1);break}}}}else{f=0;for(e=d.length;f<e;f++)d[f].fn=F;delete this._events[a]}},fire:function(a,b,c){if(!this.listens(a,c))return this;b=v({},b,{type:a,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events&&(a=this._events[a])){this._firingCount=
this._firingCount+1||1;for(var d=0,e=a.length;d<e;d++){var f=a[d];f.fn.call(f.ctx||this,b)}this._firingCount--}c&&this._propagateEvent(b);return this},listens:function(a,b){var c=this._events&&this._events[a];if(c&&c.length)return!0;if(b)for(var d in this._eventParents)if(this._eventParents[d].listens(a,b))return!0;return!1},once:function(a,b,c){if("object"===typeof a){for(var d in a)this.once(d,a[d],b);return this}var e=x(function(){this.off(a,b,c).off(a,e,c)},this);return this.on(a,b,c).on(a,e,
c)},addEventParent:function(a){this._eventParents=this._eventParents||{};this._eventParents[u(a)]=a;return this},removeEventParent:function(a){this._eventParents&&delete this._eventParents[u(a)];return this},_propagateEvent:function(a){for(var b in this._eventParents)this._eventParents[b].fire(a.type,v({layer:a.target,propagatedFrom:a.target},a),!0)}};K.addEventListener=K.on;K.removeEventListener=K.clearAllEventListeners=K.off;K.addOneTimeEventListener=K.once;K.fireEvent=K.fire;K.hasEventListeners=
K.listens;var Pa=ba.extend(K),Qc=Math.trunc||function(a){return 0<a?Math.floor(a):Math.ceil(a)};l.prototype={clone:function(){return new l(this.x,this.y)},add:function(a){return this.clone()._add(m(a))},_add:function(a){this.x+=a.x;this.y+=a.y;return this},subtract:function(a){return this.clone()._subtract(m(a))},_subtract:function(a){this.x-=a.x;this.y-=a.y;return this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){this.x/=a;this.y/=a;return this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},
_multiplyBy:function(a){this.x*=a;this.y*=a;return this},scaleBy:function(a){return new l(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new l(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=
Math.ceil(this.x);this.y=Math.ceil(this.y);return this},trunc:function(){return this.clone()._trunc()},_trunc:function(){this.x=Qc(this.x);this.y=Qc(this.y);return this},distanceTo:function(a){a=m(a);var b=a.x-this.x;a=a.y-this.y;return Math.sqrt(b*b+a*a)},equals:function(a){a=m(a);return a.x===this.x&&a.y===this.y},contains:function(a){a=m(a);return Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+U(this.x)+", "+U(this.y)+")"}};z.prototype={extend:function(a){a=
m(a);this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone());return this},getCenter:function(a){return new l((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new l(this.min.x,this.max.y)},getTopRight:function(){return new l(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},
getSize:function(){return this.max.subtract(this.min)},contains:function(a){a="number"===typeof a[0]||a instanceof l?m(a):P(a);if(a instanceof z){var b=a.min;a=a.max}else b=a;return b.x>=this.min.x&&a.x<=this.max.x&&b.y>=this.min.y&&a.y<=this.max.y},intersects:function(a){a=P(a);var b=this.min,c=this.max,d=a.min;a=a.max;var e=a.y>=b.y&&d.y<=c.y;return a.x>=b.x&&d.x<=c.x&&e},overlaps:function(a){a=P(a);var b=this.min,c=this.max,d=a.min;a=a.max;var e=a.y>b.y&&d.y<c.y;return a.x>b.x&&d.x<c.x&&e},isValid:function(){return!(!this.min||
!this.max)}};J.prototype={extend:function(a){var b=this._southWest,c=this._northEast;if(a instanceof w)var d=a;else if(a instanceof J){if(d=a._southWest,a=a._northEast,!d||!a)return this}else return a?this.extend(B(a)||G(a)):this;b||c?(b.lat=Math.min(d.lat,b.lat),b.lng=Math.min(d.lng,b.lng),c.lat=Math.max(a.lat,c.lat),c.lng=Math.max(a.lng,c.lng)):(this._southWest=new w(d.lat,d.lng),this._northEast=new w(a.lat,a.lng));return this},pad:function(a){var b=this._southWest,c=this._northEast,d=Math.abs(b.lat-
c.lat)*a;a*=Math.abs(b.lng-c.lng);return new J(new w(b.lat-d,b.lng-a),new w(c.lat+d,c.lng+a))},getCenter:function(){return new w((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new w(this.getNorth(),this.getWest())},getSouthEast:function(){return new w(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},
getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a="number"===typeof a[0]||a instanceof w||"lat"in a?B(a):G(a);var b=this._southWest,c=this._northEast;if(a instanceof J){var d=a.getSouthWest();a=a.getNorthEast()}else d=a;return d.lat>=b.lat&&a.lat<=c.lat&&d.lng>=b.lng&&a.lng<=c.lng},intersects:function(a){a=G(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest();a=a.getNorthEast();
var e=a.lng>=b.lng&&d.lng<=c.lng;return a.lat>=b.lat&&d.lat<=c.lat&&e},overlaps:function(a){a=G(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest();a=a.getNorthEast();var e=a.lng>b.lng&&d.lng<c.lng;return a.lat>b.lat&&d.lat<c.lat&&e},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(a,b){if(!a)return!1;a=G(a);return this._southWest.equals(a.getSouthWest(),b)&&this._northEast.equals(a.getNorthEast(),b)},isValid:function(){return!(!this._southWest||
!this._northEast)}};w.prototype={equals:function(a,b){if(!a)return!1;a=B(a);return Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=(void 0===b?1E-9:b)},toString:function(a){return"LatLng("+U(this.lat,a)+", "+U(this.lng,a)+")"},distanceTo:function(a){return ja.distance(this,B(a))},wrap:function(){return ja.wrapLatLng(this)},toBounds:function(a){a=180*a/40075017;var b=a/Math.cos(Math.PI/180*this.lat);return G([this.lat-a,this.lng-b],[this.lat+a,this.lng+b])},clone:function(){return new w(this.lat,
this.lng,this.alt)}};var fa={latLngToPoint:function(a,b){a=this.projection.project(a);b=this.scale(b);return this.transformation._transform(a,b)},pointToLatLng:function(a,b){b=this.scale(b);a=this.transformation.untransform(a,b);return this.projection.unproject(a)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;
var b=this.projection.bounds,c=this.scale(a);a=this.transformation.transform(b.min,c);b=this.transformation.transform(b.max,c);return new z(a,b)},infinite:!1,wrapLatLng:function(a){var b=this.wrapLng?Ha(a.lng,this.wrapLng,!0):a.lng,c=this.wrapLat?Ha(a.lat,this.wrapLat,!0):a.lat;return new w(c,b,a.alt)},wrapLatLngBounds:function(a){var b=a.getCenter(),c=this.wrapLatLng(b),d=b.lat-c.lat;b=b.lng-c.lng;if(0===d&&0===b)return a;c=a.getSouthWest();a=a.getNorthEast();c=new w(c.lat-d,c.lng-b);d=new w(a.lat-
d,a.lng-b);return new J(c,d)}},ja=v({},fa,{wrapLng:[-180,180],R:6371E3,distance:function(a,b){var c=Math.PI/180,d=Math.sin((b.lat-a.lat)*c/2),e=Math.sin((b.lng-a.lng)*c/2);a=d*d+Math.cos(a.lat*c)*Math.cos(b.lat*c)*e*e;return 2*this.R*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}}),Xb={R:6378137,MAX_LATITUDE:85.0511287798,project:function(a){var b=Math.PI/180,c=this.MAX_LATITUDE;c=Math.sin(Math.max(Math.min(c,a.lat),-c)*b);return new l(this.R*a.lng*b,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(a){var b=
180/Math.PI;return new w((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*b,a.x*b/this.R)},bounds:function(){var a=6378137*Math.PI;return new z([-a,-a],[a,a])}()};xb.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){b=b||1;a.x=b*(this._a*a.x+this._b);a.y=b*(this._c*a.y+this._d);return a},untransform:function(a,b){b=b||1;return new l((a.x/b-this._b)/this._a,(a.y/b-this._d)/this._c)}};var Yb=v({},ja,{code:"EPSG:3857",projection:Xb,transformation:function(){var a=
.5/(Math.PI*Xb.R);return Ia(a,.5,-a,.5)}()}),Dd=v({},Yb,{code:"EPSG:900913"}),Zb=document.documentElement.style,nb="ActiveXObject"in window,Ba=nb&&!document.addEventListener,Ja="msLaunchUri"in navigator&&!("documentMode"in document),ob=W("webkit"),wa=W("android"),Qa=W("android 2")||W("android 3"),Ed=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Rc=wa&&W("Google")&&537>Ed&&!("AudioNode"in window),$b=!!window.opera,La=W("chrome"),ac=W("gecko")&&!ob&&!$b&&!nb,Sc=!La&&W("safari"),Tc=
W("phantom"),Uc="OTransition"in Zb,Vc=0===navigator.platform.indexOf("Win"),Hb=nb&&"transition"in Zb,bc="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qa,Wc="MozPerspective"in Zb,O=!window.L_DISABLE_3D&&(Hb||bc||Wc)&&!Uc&&!Tc,Ca="undefined"!==typeof orientation||W("mobile"),Fd=Ca&&ob,Gd=Ca&&bc,ka=!window.PointerEvent&&window.MSPointerEvent,Q=!ob&&!(!window.PointerEvent&&!ka),X=!window.L_NO_TOUCH&&(Q||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),
Xc=Ca&&$b,Hd=Ca&&ac,la=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),na=function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",F,b);window.removeEventListener("testPassiveEventSupport",F,b)}catch(c){}return a},Mc=!!document.createElement("canvas").getContext,Ya=!(!document.createElementNS||!sc("svg").createSVGRect),mb=!Ya&&function(){try{var a=document.createElement("div");a.innerHTML=
'<v:shape adj="1"/>';var b=a.firstChild;b.style.behavior="url(#default#VML)";return b&&"object"===typeof b.adj}catch(c){return!1}}(),Id=(Object.freeze||Object)({ie:nb,ielt9:Ba,edge:Ja,webkit:ob,android:wa,android23:Qa,androidStock:Rc,opera:$b,chrome:La,gecko:ac,safari:Sc,phantom:Tc,opera12:Uc,win:Vc,ie3d:Hb,webkit3d:bc,gecko3d:Wc,any3d:O,mobile:Ca,mobileWebkit:Fd,mobileWebkit3d:Gd,msPointer:ka,pointer:Q,touch:X,mobileOpera:Xc,mobileGecko:Hd,retina:la,passiveEvents:na,canvas:Mc,svg:Ya,vml:mb}),yb=
ka?"MSPointerDown":"pointerdown",zb=ka?"MSPointerMove":"pointermove",Ab=ka?"MSPointerUp":"pointerup",Bb=ka?"MSPointerCancel":"pointercancel",yd=["INPUT","SELECT","OPTION"],ta={},uc=!1,Db=0,Za=ka?"MSPointerDown":Q?"pointerdown":"touchstart",$a=ka?"MSPointerUp":Q?"pointerup":"touchend",Gb=cb(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ra=cb(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yc="webkitTransition"===Ra||"OTransition"===Ra?Ra+
"End":"transitionend",cc;if("onselectstart"in document){var pb=function(){p(window,"selectstart",M)};var qb=function(){D(window,"selectstart",M)}}else{var Sa=cb(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);pb=function(){if(Sa){var a=document.documentElement.style;cc=a[Sa];a[Sa]="none"}};qb=function(){Sa&&(document.documentElement.style[Sa]=cc,cc=void 0)}}var eb,Lb,Jd=(Object.freeze||Object)({TRANSFORM:Gb,TRANSITION:Ra,TRANSITION_END:Yc,get:yc,getStyle:Ka,create:q,
remove:A,empty:ab,toFront:ua,toBack:va,hasClass:Eb,addClass:n,removeClass:C,setClass:Fb,getClass:bb,setOpacity:N,testProp:cb,setTransform:oa,setPosition:E,getPosition:ia,disableTextSelection:pb,enableTextSelection:qb,disableImageDrag:Ib,enableImageDrag:Jb,preventOutline:Kb,restoreOutline:db,getSizedParentNode:zc,getScale:Mb}),R="_leaflet_events",Bd=Vc&&La?2*window.devicePixelRatio:ac?window.devicePixelRatio:1,Sb={},Ob,Kd=(Object.freeze||Object)({on:p,off:D,stopPropagation:pa,disableScrollPropagation:Qb,
disableClickPropagation:Ma,preventDefault:M,stop:Y,getMousePosition:Ac,getWheelDelta:Bc,fakeStop:Rb,skipped:Pb,isExternalTarget:gb,addListener:p,removeListener:D}),Zc=Pa.extend({run:function(a,b,c,d){this.stop();this._el=a;this._inProgress=!0;this._duration=c||.25;this._easeOutPower=1/Math.max(d||.5,.2);this._startPos=ia(a);this._offset=b.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=
H(this._animate,this);this._step()},_step:function(a){var b=+new Date-this._startTime,c=1E3*this._duration;b<c?this._runFrame(this._easeOut(b/c),a):(this._runFrame(1),this._complete())},_runFrame:function(a,b){a=this._startPos.add(this._offset.multiplyBy(a));b&&a._round();E(this._el,a);this.fire("step")},_complete:function(){I(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),r=Pa.extend({options:{crs:Yb,center:void 0,zoom:void 0,
minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,b){b=y(this,b);this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this._initContainer(a);this._initLayout();this._onResize=x(this._onResize,this);this._initEvents();b.maxBounds&&this.setMaxBounds(b.maxBounds);void 0!==b.zoom&&(this._zoom=
this._limitZoom(b.zoom));b.center&&void 0!==b.zoom&&this.setView(B(b.center),b.zoom,{reset:!0});this.callInitHooks();if(this._zoomAnimated=Ra&&O&&!Xc&&this.options.zoomAnimation)this._createAnimProxy(),p(this._proxy,Yc,this._catchTransitionEnd,this);this._addLayers(this.options.layers)},setView:function(a,b,c){b=void 0===b?this._zoom:this._limitZoom(b);a=this._limitCenter(B(a),b,this.options.maxBounds);c=c||{};this._stop();if(this._loaded&&!c.reset&&!0!==c&&(void 0!==c.animate&&(c.zoom=v({animate:c.animate},
c.zoom),c.pan=v({animate:c.animate,duration:c.duration},c.pan)),this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,b,c.zoom):this._tryAnimatedPan(a,c.pan)))return clearTimeout(this._sizeTimer),this;this._resetView(a,b);return this},setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=a,this)},zoomIn:function(a,b){a=a||(O?this.options.zoomDelta:1);return this.setZoom(this._zoom+a,b)},zoomOut:function(a,b){a=a||(O?this.options.zoomDelta:1);return this.setZoom(this._zoom-
a,b)},setZoomAround:function(a,b,c){var d=this.getZoomScale(b),e=this.getSize().divideBy(2);a=(a instanceof l?a:this.latLngToContainerPoint(a)).subtract(e).multiplyBy(1-1/d);e=this.containerPointToLatLng(e.add(a));return this.setView(e,b,{zoom:c})},_getBoundsCenterZoom:function(a,b){b=b||{};a=a.getBounds?a.getBounds():G(a);var c=m(b.paddingTopLeft||b.padding||[0,0]),d=m(b.paddingBottomRight||b.padding||[0,0]),e=this.getBoundsZoom(a,!1,c.add(d));e="number"===typeof b.maxZoom?Math.min(b.maxZoom,e):
e;if(Infinity===e)return{center:a.getCenter(),zoom:e};b=d.subtract(c).divideBy(2);c=this.project(a.getSouthWest(),e);a=this.project(a.getNorthEast(),e);return{center:this.unproject(c.add(a).divideBy(2).add(b),e),zoom:e}},fitBounds:function(a,b){a=G(a);if(!a.isValid())throw Error("Bounds are not valid.");a=this._getBoundsCenterZoom(a,b);return this.setView(a.center,a.zoom,b)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},
panBy:function(a,b){a=m(a).round();b=b||{};if(!a.x&&!a.y)return this.fire("moveend");if(!0!==b.animate&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;this._panAnim||(this._panAnim=new Zc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this));b.noMoveStart||this.fire("movestart");!1!==b.animate?(n(this._mapPane,"leaflet-pan-anim"),a=this._getMapPanePos().subtract(a).round(),this._panAnim.run(this._mapPane,
a,b.duration||.25,b.easeLinearity)):(this._rawPanBy(a),this.fire("move").fire("moveend"));return this},flyTo:function(a,b,c){function d(a){a=(p*p-m*m+2.0164*(a?-1:1)*2.0164*r*r)/(4.0328*(a?p:m)*r);a=Math.sqrt(a*a+1)-a;return 1E-9>a?-18:Math.log(a)}function e(a){return(Math.exp(a)+Math.exp(-a))/2}function f(a){return m*(e(q)/e(q+1.42*a))}function g(a){var b=e(q);a=q+1.42*a;a=(Math.exp(a)-Math.exp(-a))/2/e(a);return m*(b*a-(Math.exp(q)-Math.exp(-q))/2)/2.0164}function k(){var c=(Date.now()-v)/w,d=(1-
Math.pow(1-c,1.5))*u;1>=c?(this._flyToFrame=H(k,this),this._move(this.unproject(t.add(h.subtract(t).multiplyBy(g(d)/r)),n),this.getScaleZoom(m/f(d),n),{flyTo:!0})):this._move(a,b)._moveEnd(!0)}c=c||{};if(!1===c.animate||!O)return this.setView(a,b,c);this._stop();var t=this.project(this.getCenter()),h=this.project(a),l=this.getSize(),n=this._zoom;a=B(a);b=void 0===b?n:b;var m=Math.max(l.x,l.y),p=m*this.getZoomScale(n,b),r=h.distanceTo(t)||1,q=d(0),v=Date.now(),u=(d(1)-q)/1.42,w=c.duration?1E3*c.duration:
800*u;this._moveStart(!0,c.noMoveStart);k.call(this);return this},flyToBounds:function(a,b){a=this._getBoundsCenterZoom(a,b);return this.flyTo(a.center,a.zoom,b)},setMaxBounds:function(a){a=G(a);if(a.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);this.options.maxBounds=a;this._loaded&&this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(a){var b=
this.options.minZoom;this.options.minZoom=a;return this._loaded&&b!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var b=this.options.maxZoom;this.options.maxZoom=a;return this._loaded&&b!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,b){this._enforcingBounds=!0;var c=this.getCenter();a=this._limitCenter(c,this._zoom,G(a));c.equals(a)||this.panTo(a,b);this._enforcingBounds=
!1;return this},panInside:function(a,b){b=b||{};var c=m(b.paddingTopLeft||b.padding||[0,0]),d=m(b.paddingBottomRight||b.padding||[0,0]),e=this.getCenter();e=this.project(e);a=this.project(a);var f=this.getPixelBounds(),g=f.getSize().divideBy(2);f=P([f.min.add(c),f.max.subtract(d)]);if(!f.contains(a)){this._enforcingBounds=!0;var k=e.subtract(a),h=m(a.x+k.x,a.y+k.y);if(a.x<f.min.x||a.x>f.max.x)h.x=e.x-k.x,h.x=0<k.x?h.x+(g.x-c.x):h.x-(g.x-d.x);if(a.y<f.min.y||a.y>f.max.y)h.y=e.y-k.y,h.y=0<k.y?h.y+(g.y-
c.y):h.y-(g.y-d.y);this.panTo(this.unproject(h),b);this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=v({animate:!1,pan:!0},!0===a?{animate:!0}:a);var b=this.getSize();this._sizeChanged=!0;this._lastCenter=null;var c=this.getSize(),d=b.divideBy(2).round(),e=c.divideBy(2).round();d=d.subtract(e);if(!d.x&&!d.y)return this;a.animate&&a.pan?this.panBy(d):(a.pan&&this._rawPanBy(d),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=
setTimeout(x(this.fire,this,"moveend"),200)):this.fire("moveend"));return this.fire("resize",{oldSize:b,newSize:c})},stop:function(){this.setZoom(this._limitZoom(this._zoom));this.options.zoomSnap||this.fire("viewreset");return this._stop()},locate:function(a){a=this._locateOptions=v({timeout:1E4,watch:!1},a);if(!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=x(this._handleGeolocationResponse,this),c=x(this._handleGeolocationError,
this);a.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,c,a):navigator.geolocation.getCurrentPosition(b,c,a);return this},stopLocate:function(){navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId);this._locateOptions&&(this._locateOptions.setView=!1);return this},_handleGeolocationError:function(a){var b=a.code;a=a.message||(1===b?"permission denied":2===b?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&
this.fitWorld();this.fire("locationerror",{code:b,message:"Geolocation error: "+a+"."})},_handleGeolocationResponse:function(a){var b=new w(a.coords.latitude,a.coords.longitude),c=b.toBounds(2*a.coords.accuracy),d=this._locateOptions;if(d.setView){var e=this.getBoundsZoom(c);this.setView(b,d.maxZoom?Math.min(e,d.maxZoom):e)}b={latlng:b,bounds:c,timestamp:a.timestamp};for(var f in a.coords)"number"===typeof a.coords[f]&&(b[f]=a.coords[f]);this.fire("locationfound",b)},addHandler:function(a,b){if(!b)return this;
b=this[a]=new b(this);this._handlers.push(b);this.options[a]&&b.enable();return this},remove:function(){this._initEvents(!0);if(this._containerId!==this._container._leaflet_id)throw Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(b){this._containerId=this._container._leaflet_id=void 0}void 0!==this._locationWatchId&&this.stopLocate();this._stop();A(this._mapPane);this._clearControlPos&&this._clearControlPos();this._resizeRequest&&
(I(this._resizeRequest),this._resizeRequest=null);this._clearHandlers();this._loaded&&this.fire("unload");for(var a in this._layers)this._layers[a].remove();for(a in this._panes)A(this._panes[a]);this._layers=[];this._panes=[];delete this._mapPane;delete this._renderer;return this},createPane:function(a,b){var c="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":"");b=q("div",c,b||this._mapPane);a&&(this._panes[a]=b);return b},getCenter:function(){this._checkIfLoaded();return this._lastCenter&&
!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),b=this.unproject(a.getBottomLeft());a=this.unproject(a.getTopRight());return new J(b,a)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?Infinity:this._layersMaxZoom:this.options.maxZoom},
getBoundsZoom:function(a,b,c){a=G(a);c=m(c||[0,0]);var d=this.getZoom()||0,e=this.getMinZoom(),f=this.getMaxZoom(),g=a.getNorthWest();a=a.getSouthEast();c=this.getSize().subtract(c);var k=P(this.project(a,d),this.project(g,d)).getSize();g=O?this.options.zoomSnap:1;a=c.x/k.x;c=c.y/k.y;d=this.getScaleZoom(b?Math.max(a,c):Math.min(a,c),d);g&&(d=g/100*Math.round(d/(g/100)),d=b?Math.ceil(d/g)*g:Math.floor(d/g)*g);return Math.max(e,Math.min(f,d))},getSize:function(){if(!this._size||this._sizeChanged)this._size=
new l(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1;return this._size.clone()},getPixelBounds:function(a,b){a=this._getTopLeftPoint(a,b);return new z(a,a.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(void 0===a?this.getZoom():a)},getPane:function(a){return"string"===typeof a?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},
getZoomScale:function(a,b){var c=this.options.crs;b=void 0===b?this._zoom:b;return c.scale(a)/c.scale(b)},getScaleZoom:function(a,b){var c=this.options.crs;b=void 0===b?this._zoom:b;a=c.zoom(a*c.scale(b));return isNaN(a)?Infinity:a},project:function(a,b){b=void 0===b?this._zoom:b;return this.options.crs.latLngToPoint(B(a),b)},unproject:function(a,b){b=void 0===b?this._zoom:b;return this.options.crs.pointToLatLng(m(a),b)},layerPointToLatLng:function(a){a=m(a).add(this.getPixelOrigin());return this.unproject(a)},
latLngToLayerPoint:function(a){return this.project(B(a))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(B(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(G(a))},distance:function(a,b){return this.options.crs.distance(B(a),B(b))},containerPointToLayerPoint:function(a){return m(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return m(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){a=
this.containerPointToLayerPoint(m(a));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(B(a)))},mouseEventToContainerPoint:function(a){return Ac(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){a=this._container=yc(a);
if(!a)throw Error("Map container not found.");if(a._leaflet_id)throw Error("Map container is already initialized.");p(a,"scroll",this._onScroll,this);this._containerId=u(a)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&O;n(a,"leaflet-container"+(X?" leaflet-touch":"")+(la?" leaflet-retina":"")+(Ba?" leaflet-oldie":"")+(Sc?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=Ka(a,"position");"absolute"!==b&&"relative"!==b&&"fixed"!==
b&&(a.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);E(this._mapPane,new l(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");this.options.markerZoomAnimation||(n(a.markerPane,"leaflet-zoom-hide"),n(a.shadowPane,
"leaflet-zoom-hide"))},_resetView:function(a,b){E(this._mapPane,new l(0,0));var c=!this._loaded;this._loaded=!0;b=this._limitZoom(b);this.fire("viewprereset");var d=this._zoom!==b;this._moveStart(d,!1)._move(a,b)._moveEnd(d);this.fire("viewreset");c&&this.fire("load")},_moveStart:function(a,b){a&&this.fire("zoomstart");b||this.fire("movestart");return this},_move:function(a,b,c){void 0===b&&(b=this._zoom);var d=this._zoom!==b;this._zoom=b;this._lastCenter=a;this._pixelOrigin=this._getNewPixelOrigin(a);
(d||c&&c.pinch)&&this.fire("zoom",c);return this.fire("move",c)},_moveEnd:function(a){a&&this.fire("zoomend");return this.fire("moveend")},_stop:function(){I(this._flyToFrame);this._panAnim&&this._panAnim.stop();return this},_rawPanBy:function(a){E(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");
},_initEvents:function(a){this._targets={};this._targets[u(this._container)]=this;var b=a?D:p;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this);this.options.trackResize&&b(window,"resize",this._onResize,this);O&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){I(this._resizeRequest);this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},
this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,b){for(var c=[],d,e="mouseout"===b||"mouseover"===b,f=a.target||a.srcElement,g=!1;f;){if((d=this._targets[u(f)])&&("click"===b||"preclick"===b)&&!a._simulated&&this._draggableMoved(d)){g=!0;break}if(d&&d.listens(b,!0)){if(e&&
!gb(f,a))break;c.push(d);if(e)break}if(f===this._container)break;f=f.parentNode}c.length||g||e||!gb(f,a)||(c=[this]);return c},_handleDOMEvent:function(a){if(this._loaded&&!Pb(a)){var b=a.type;"mousedown"!==b&&"keypress"!==b&&"keyup"!==b&&"keydown"!==b||Kb(a.target||a.srcElement);this._fireDOMEvent(a,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,b,c){if("click"===a.type){var d=v({},a);d.type="preclick";this._fireDOMEvent(d,d.type,c)}if(!a._stopped&&
(c=(c||[]).concat(this._findEventTargets(a,b)),c.length)){var e=c[0];"contextmenu"===b&&e.listens(b,!0)&&M(a);d={originalEvent:a};if("keypress"!==a.type&&"keydown"!==a.type&&"keyup"!==a.type){var f=e.getLatLng&&(!e._radius||10>=e._radius);d.containerPoint=f?this.latLngToContainerPoint(e.getLatLng()):this.mouseEventToContainerPoint(a);d.layerPoint=this.containerPointToLayerPoint(d.containerPoint);d.latlng=f?e.getLatLng():this.layerPointToLatLng(d.layerPoint)}for(a=0;a<c.length&&!(c[a].fire(b,d,!0),
d.originalEvent._stopped||!1===c[a].options.bubblingMouseEvents&&-1!==oc(this._mouseEvents,b));a++);}},_draggableMoved:function(a){a=a.dragging&&a.dragging.enabled()?a:this;return a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,b=this._handlers.length;a<b;a++)this._handlers[a].disable()},whenReady:function(a,b){if(this._loaded)a.call(b||this,{target:this});else this.on("load",a,b);return this},_getMapPanePos:function(){return ia(this._mapPane)||
new l(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,b){return(a&&void 0!==b?this._getNewPixelOrigin(a,b):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,b){var c=this.getSize()._divideBy(2);return this.project(a,b)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,b,c){c=this._getNewPixelOrigin(c,b);return this.project(a,b)._subtract(c)},_latLngBoundsToNewLayerBounds:function(a,
b,c){c=this._getNewPixelOrigin(c,b);return P([this.project(a.getSouthWest(),b)._subtract(c),this.project(a.getNorthWest(),b)._subtract(c),this.project(a.getSouthEast(),b)._subtract(c),this.project(a.getNorthEast(),b)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,b,c){if(!c)return a;var d=this.project(a,
b),e=this.getSize().divideBy(2);e=new z(d.subtract(e),d.add(e));c=this._getBoundsOffset(e,c,b);return c.round().equals([0,0])?a:this.unproject(d.add(c),b)},_limitOffset:function(a,b){if(!b)return a;var c=this.getPixelBounds();c=new z(c.min.add(a),c.max.add(a));return a.add(this._getBoundsOffset(c,b))},_getBoundsOffset:function(a,b,c){c=P(this.project(b.getNorthEast(),c),this.project(b.getSouthWest(),c));b=c.min.subtract(a.min);c=c.max.subtract(a.max);a=this._rebound(b.x,-c.x);b=this._rebound(b.y,
-c.y);return new l(a,b)},_rebound:function(a,b){return 0<a+b?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var b=this.getMinZoom(),c=this.getMaxZoom(),d=O?this.options.zoomSnap:1;d&&(a=Math.round(a/d)*d);return Math.max(b,Math.min(c,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){C(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(a,b){a=this._getCenterOffset(a)._trunc();if(!0!==(b&&
b.animate)&&!this.getSize().contains(a))return!1;this.panBy(a,b);return!0},_createAnimProxy:function(){var a=this._proxy=q("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a);this.on("zoomanim",function(a){var b=Gb,d=this._proxy.style[b];oa(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1));d===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",this._animMoveEnd,this);this._on("unload",this._destroyAnimProxy,
this)},_destroyAnimProxy:function(){A(this._proxy);this.off("load moveend",this._animMoveEnd,this);delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),b=this.getZoom();oa(this._proxy,this.project(a,b),this.getZoomScale(b,1))},_catchTransitionEnd:function(a){this._animatingZoom&&0<=a.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,
c){if(this._animatingZoom)return!0;c=c||{};if(!this._zoomAnimated||!1===c.animate||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(b);d=this._getCenterOffset(a)._divideBy(1-1/d);if(!0!==c.animate&&!this.getSize().contains(d))return!1;H(function(){this._moveStart(!0,!1)._animateZoom(a,b,!0)},this);return!0},_animateZoom:function(a,b,c,d){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=b,n(this._mapPane,
"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:b,noUpdate:d}),setTimeout(x(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&C(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),H(function(){this._moveEnd(!0)},this))}}),S=ba.extend({options:{position:"topright"},initialize:function(a){y(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=
this._map;b&&b.removeControl(this);this.options.position=a;b&&b.addControl(this);return this},getContainer:function(){return this._container},addTo:function(a){this.remove();this._map=a;var b=this._container=this.onAdd(a),c=this.getPosition();a=a._controlCorners[c];n(b,"leaflet-control");-1!==c.indexOf("bottom")?a.insertBefore(b,a.firstChild):a.appendChild(b);this._map.on("unload",this.remove,this);return this},remove:function(){if(!this._map)return this;A(this._container);if(this.onRemove)this.onRemove(this._map);
this._map.off("unload",this.remove,this);this._map=null;return this},_refocusOnMap:function(a){this._map&&a&&0<a.screenX&&0<a.screenY&&this._map.getContainer().focus()}}),Ta=function(a){return new S(a)};r.include({addControl:function(a){a.addTo(this);return this},removeControl:function(a){a.remove();return this},_initControlPos:function(){function a(a,e){b[a+e]=q("div","leaflet-"+a+" leaflet-"+e,c)}var b=this._controlCorners={},c=this._controlContainer=q("div","leaflet-control-container",this._container);
a("top","left");a("top","right");a("bottom","left");a("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)A(this._controlCorners[a]);A(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var $c=S.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,b,c,d){return c<d?-1:d<c?1:0}},initialize:function(a,b,c){y(this,c);this._layerControlInputs=[];this._layers=[];this._lastZIndex=
0;this._handlingClick=!1;for(var d in a)this._addLayer(a[d],d);for(d in b)this._addLayer(b[d],d,!0)},onAdd:function(a){this._initLayout();this._update();this._map=a;a.on("zoomend",this._checkDisabledLayers,this);for(a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){S.prototype.addTo.call(this,a);return this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=
0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,b){this._addLayer(a,b);return this._map?this._update():this},addOverlay:function(a,b){this._addLayer(a,b,!0);return this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);(a=this._getLayer(u(a)))&&this._layers.splice(this._layers.indexOf(a),1);return this._map?this._update():this},expand:function(){n(this._container,"leaflet-control-layers-expanded");
this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);a<this._section.clientHeight?(n(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):C(this._section,"leaflet-control-layers-scrollbar");this._checkDisabledLayers();return this},collapse:function(){C(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var a=this._container=q("div","leaflet-control-layers"),b=this.options.collapsed;a.setAttribute("aria-haspopup",
!0);Ma(a);Qb(a);var c=this._section=q("section","leaflet-control-layers-list");b&&(this._map.on("click",this.collapse,this),wa||p(a,{mouseenter:this.expand,mouseleave:this.collapse},this));var d=this._layersLink=q("a","leaflet-control-layers-toggle",a);d.href="#";d.title="Layers";X?(p(d,"click",Y),p(d,"click",this.expand,this)):p(d,"focus",this.expand,this);b||this.expand();this._baseLayersList=q("div","leaflet-control-layers-base",c);this._separator=q("div","leaflet-control-layers-separator",c);
this._overlaysList=q("div","leaflet-control-layers-overlays",c);a.appendChild(c)},_getLayer:function(a){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&u(this._layers[b].layer)===a)return this._layers[b]},_addLayer:function(a,b,c){if(this._map)a.on("add remove",this._onLayerChange,this);this._layers.push({layer:a,name:b,overlay:c});this.options.sortLayers&&this._layers.sort(x(function(a,b){return this.options.sortFunction(a.layer,b.layer,a.name,b.name)},this));this.options.autoZIndex&&a.setZIndex&&
(this._lastZIndex++,a.setZIndex(this._lastZIndex));this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ab(this._baseLayersList);ab(this._overlaysList);this._layerControlInputs=[];var a,b=0;for(a=0;a<this._layers.length;a++){var c=this._layers[a];this._addItem(c);var d=d||c.overlay;var e=e||!c.overlay;b+=c.overlay?0:1}this.options.hideSingleBase&&(e=e&&1<b,this._baseLayersList.style.display=e?"":"none");this._separator.style.display=d&&e?"":"none";return this},_onLayerChange:function(a){this._handlingClick||
this._update();var b=this._getLayer(u(a.target));(a=b.overlay?"add"===a.type?"overlayadd":"overlayremove":"add"===a.type?"baselayerchange":null)&&this._map.fire(a,b)},_createRadioElement:function(a,b){a='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(b?' checked="checked"':"")+"/>";b=document.createElement("div");b.innerHTML=a;return b.firstChild},_addItem:function(a){var b=document.createElement("label"),c=this._map.hasLayer(a.layer);if(a.overlay){var d=document.createElement("input");
d.type="checkbox";d.className="leaflet-control-layers-selector";d.defaultChecked=c}else d=this._createRadioElement("leaflet-base-layers_"+u(this),c);this._layerControlInputs.push(d);d.layerId=u(a.layer);p(d,"click",this._onInputClick,this);c=document.createElement("span");c.innerHTML=" "+a.name;var e=document.createElement("div");b.appendChild(e);e.appendChild(d);e.appendChild(c);(a.overlay?this._overlaysList:this._baseLayersList).appendChild(b);this._checkDisabledLayers();return b},_onInputClick:function(){var a=
this._layerControlInputs,b=[],c=[];this._handlingClick=!0;for(var d=a.length-1;0<=d;d--){var e=a[d];var f=this._getLayer(e.layerId).layer;e.checked?b.push(f):e.checked||c.push(f)}for(d=0;d<c.length;d++)this._map.hasLayer(c[d])&&this._map.removeLayer(c[d]);for(d=0;d<b.length;d++)this._map.hasLayer(b[d])||this._map.addLayer(b[d]);this._handlingClick=!1;this._refocusOnMap()},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,b,c,d=this._map.getZoom(),e=a.length-1;0<=e;e--)b=a[e],c=this._getLayer(b.layerId).layer,
b.disabled=void 0!==c.options.minZoom&&d<c.options.minZoom||void 0!==c.options.maxZoom&&d>c.options.maxZoom},_expandIfNotCollapsed:function(){this._map&&!this.options.collapsed&&this.expand();return this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),dc=S.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(a){var b=q("div","leaflet-control-zoom leaflet-bar"),c=this.options;
this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,"leaflet-control-zoom-in",b,this._zoomIn);this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,"leaflet-control-zoom-out",b,this._zoomOut);this._updateDisabled();a.on("zoomend zoomlevelschange",this._updateDisabled,this);return b},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=!0;this._updateDisabled();return this},enable:function(){this._disabled=!1;
this._updateDisabled();return this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,b,c,d,e){c=q("a",c,d);c.innerHTML=a;c.href="#";c.title=b;c.setAttribute("role","button");c.setAttribute("aria-label",b);Ma(c);p(c,"click",Y);p(c,"click",e,this);
p(c,"click",this._refocusOnMap,this);return c},_updateDisabled:function(){var a=this._map;C(this._zoomInButton,"leaflet-disabled");C(this._zoomOutButton,"leaflet-disabled");(this._disabled||a._zoom===a.getMinZoom())&&n(this._zoomOutButton,"leaflet-disabled");(this._disabled||a._zoom===a.getMaxZoom())&&n(this._zoomInButton,"leaflet-disabled")}});r.mergeOptions({zoomControl:!0});r.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new dc,this.addControl(this.zoomControl))});var ad=S.extend({options:{position:"bottomleft",
maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var b=q("div","leaflet-control-scale"),c=this.options;this._addScales(c,"leaflet-control-scale-line",b);a.on(c.updateWhenIdle?"moveend":"move",this._update,this);a.whenReady(this._update,this);return b},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,c){a.metric&&(this._mScale=q("div",b,c));a.imperial&&(this._iScale=q("div",b,c))},_update:function(){var a=this._map,b=a.getSize().y/
2;a=a.distance(a.containerPointToLatLng([0,b]),a.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(a)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a);this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var b=this._getRoundNum(a);this._updateScale(this._mScale,1E3>b?b+" m":b/1E3+" km",b/a)},_updateImperial:function(a){a*=3.2808399;if(5280<a){a/=5280;var b=this._getRoundNum(a);this._updateScale(this._iScale,b+" mi",b/a)}else b=this._getRoundNum(a),
this._updateScale(this._iScale,b+" ft",b/a)},_updateScale:function(a,b,c){a.style.width=Math.round(this.options.maxWidth*c)+"px";a.innerHTML=b},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1);a/=b;return b*(10<=a?10:5<=a?5:3<=a?3:2<=a?2:1)}}),ec=S.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){y(this,a);this._attributions={}},onAdd:function(a){a.attributionControl=
this;this._container=q("div","leaflet-control-attribution");Ma(this._container);for(var b in a._layers)a._layers[b].getAttribution&&this.addAttribution(a._layers[b].getAttribution());this._update();return this._container},setPrefix:function(a){this.options.prefix=a;this._update();return this},addAttribution:function(a){if(!a)return this;this._attributions[a]||(this._attributions[a]=0);this._attributions[a]++;this._update();return this},removeAttribution:function(a){if(!a)return this;this._attributions[a]&&
(this._attributions[a]--,this._update());return this},_update:function(){if(this._map){var a=[];for(b in this._attributions)this._attributions[b]&&a.push(b);var b=[];this.options.prefix&&b.push(this.options.prefix);a.length&&b.push(a.join(", "));this._container.innerHTML=b.join(" | ")}}});r.mergeOptions({attributionControl:!0});r.addInitHook(function(){this.options.attributionControl&&(new ec).addTo(this)});S.Layers=$c;S.Zoom=dc;S.Scale=ad;S.Attribution=ec;Ta.layers=function(a,b,c){return new $c(a,
b,c)};Ta.zoom=function(a){return new dc(a)};Ta.scale=function(a){return new ad(a)};Ta.attribution=function(a){return new ec(a)};var Z=ba.extend({initialize:function(a){this._map=a},enable:function(){if(this._enabled)return this;this._enabled=!0;this.addHooks();return this},disable:function(){if(!this._enabled)return this;this._enabled=!1;this.removeHooks();return this},enabled:function(){return!!this._enabled}});Z.addTo=function(a,b){a.addHandler(b,this);return this};var Ld={Events:K},bd=X?"touchstart mousedown":
"mousedown",cd={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},fc={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ra=Pa.extend({options:{clickTolerance:3},initialize:function(a,b,c,d){y(this,d);this._element=a;this._dragStartTarget=b||a;this._preventOutline=c},enable:function(){this._enabled||(p(this._dragStartTarget,bd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ra._dragging===
this&&this.finishDrag(),D(this._dragStartTarget,bd,this._onDown,this),this._moved=this._enabled=!1)},_onDown:function(a){if(!a._simulated&&this._enabled&&(this._moved=!1,!(Eb(this._element,"leaflet-zoom-anim")||ra._dragging||a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(ra._dragging=this,this._preventOutline&&Kb(this._element),Ib(),pb(),this._moving)))){this.fire("down");var b=a.touches?a.touches[0]:a,c=zc(this._element);this._startPoint=new l(b.clientX,b.clientY);this._parentScale=Mb(c);p(document,
fc[a.type],this._onMove,this);p(document,cd[a.type],this._onUp,this)}},_onMove:function(a){if(!a._simulated&&this._enabled)if(a.touches&&1<a.touches.length)this._moved=!0;else{var b=a.touches&&1===a.touches.length?a.touches[0]:a;b=(new l(b.clientX,b.clientY))._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,M(a),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ia(this._element).subtract(b),
n(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),n(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,I(this._animRequest),this._lastEvent=a,this._animRequest=H(this._updatePosition,this,!0))}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a);E(this._element,
this._newPos);this.fire("drag",a)},_onUp:function(a){!a._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){C(document.body,"leaflet-dragging");this._lastTarget&&(C(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var a in fc)D(document,fc[a],this._onMove,this),D(document,cd[a],this._onUp,this);Jb();qb();this._moved&&this._moving&&(I(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1;ra._dragging=!1}}),Fc,Md=
(Object.freeze||Object)({simplify:Cc,pointToSegmentDistance:Dc,closestPointOnSegment:function(a,b,c){return Na(a,b,c)},clipSegment:Ec,_getEdgeIntersection:hb,_getBitCode:qa,_sqClosestPointOnSegment:Na,isFlat:ca,_flat:Gc}),Nd=(Object.freeze||Object)({clipPolygon:Hc}),gc={project:function(a){return new l(a.lng,a.lat)},unproject:function(a){return new w(a.y,a.x)},bounds:new z([-180,-90],[180,90])},hc={R:6378137,R_MINOR:6356752.314245179,bounds:new z([-2.003750834279E7,-1.549657073972E7],[2.003750834279E7,
1.876465623138E7]),project:function(a){var b=Math.PI/180,c=this.R,d=a.lat*b,e=this.R_MINOR/c;e=Math.sqrt(1-e*e);var f=e*Math.sin(d);d=-c*Math.log(Math.max(Math.tan(Math.PI/4-d/2)/Math.pow((1-f)/(1+f),e/2),1E-10));return new l(a.lng*b*c,d)},unproject:function(a){var b=180/Math.PI,c=this.R,d=this.R_MINOR/c;d=Math.sqrt(1-d*d);for(var e=Math.exp(-a.y/c),f=Math.PI/2-2*Math.atan(e),g=0,k=.1;15>g&&1E-7<Math.abs(k);g++)k=d*Math.sin(f),k=Math.pow((1-k)/(1+k),d/2),k=Math.PI/2-2*Math.atan(e*k)-f,f+=k;return new w(f*
b,a.x*b/c)}},Od=(Object.freeze||Object)({LonLat:gc,Mercator:hc,SphericalMercator:Xb}),Pd=v({},ja,{code:"EPSG:3395",projection:hc,transformation:function(){var a=.5/(Math.PI*hc.R);return Ia(a,.5,-a,.5)}()}),dd=v({},ja,{code:"EPSG:4326",projection:gc,transformation:Ia(1/180,1,-1/180,.5)}),Qd=v({},fa,{projection:gc,transformation:Ia(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,b){var c=b.lng-a.lng;a=b.lat-a.lat;return Math.sqrt(c*
c+a*a)},infinite:!0});fa.Earth=ja;fa.EPSG3395=Pd;fa.EPSG3857=Yb;fa.EPSG900913=Dd;fa.EPSG4326=dd;fa.Simple=Qd;var T=Pa.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){a.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){a&&a.removeLayer(this);return this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){this._map._targets[u(a)]=
this;return this},removeInteractiveTarget:function(a){delete this._map._targets[u(a)];return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var b=a.target;if(b.hasLayer(this)){this._map=b;this._zoomAnimated=b._zoomAnimated;if(this.getEvents){var c=this.getEvents();b.on(c,this);this.once("remove",function(){b.off(c,this)},this)}this.onAdd(b);this.getAttribution&&b.attributionControl&&b.attributionControl.addAttribution(this.getAttribution());this.fire("add");
b.fire("layeradd",{layer:this})}}});r.include({addLayer:function(a){if(!a._layerAdd)throw Error("The provided object is not a Layer.");var b=u(a);if(this._layers[b])return this;this._layers[b]=a;a._mapToAdd=this;a.beforeAdd&&a.beforeAdd(this);this.whenReady(a._layerAdd,a);return this},removeLayer:function(a){var b=u(a);if(!this._layers[b])return this;if(this._loaded)a.onRemove(this);a.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(a.getAttribution());delete this._layers[b];
this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove"));a._map=a._mapToAdd=null;return this},hasLayer:function(a){return!!a&&u(a)in this._layers},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},_addLayers:function(a){a=a?V(a)?a:[a]:[];for(var b=0,c=a.length;b<c;b++)this.addLayer(a[b])},_addZoomLimit:function(a){if(isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels()},_removeZoomLimit:function(a){a=
u(a);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var a=Infinity,b=-Infinity,c=this._getZoomSpan(),d;for(d in this._zoomBoundLayers){var e=this._zoomBoundLayers[d].options;a=void 0===e.minZoom?a:Math.min(a,e.minZoom);b=void 0===e.maxZoom?b:Math.max(b,e.maxZoom)}this._layersMaxZoom=-Infinity===b?void 0:b;this._layersMinZoom=Infinity===a?void 0:a;c!==this._getZoomSpan()&&this.fire("zoomlevelschange");void 0===this.options.maxZoom&&
this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom);void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Da=T.extend({initialize:function(a,b){y(this,b);this._layers={};var c;if(a)for(b=0,c=a.length;b<c;b++)this.addLayer(a[b])},addLayer:function(a){var b=this.getLayerId(a);this._layers[b]=a;this._map&&this._map.addLayer(a);return this},removeLayer:function(a){a=a in this._layers?a:this.getLayerId(a);
this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]);delete this._layers[a];return this},hasLayer:function(a){return!!a&&(a in this._layers||this.getLayerId(a)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var b=Array.prototype.slice.call(arguments,1),c;for(c in this._layers){var d=this._layers[c];d[a]&&d[a].apply(d,b)}return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,
a)},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];this.eachLayer(a.push,a);return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),xa=Da.extend({addLayer:function(a){if(this.hasLayer(a))return this;a.addEventParent(this);Da.prototype.addLayer.call(this,a);return this.fire("layeradd",{layer:a})},removeLayer:function(a){if(!this.hasLayer(a))return this;
a in this._layers&&(a=this._layers[a]);a.removeEventParent(this);Da.prototype.removeLayer.call(this,a);return this.fire("layerremove",{layer:a})},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new J,b;for(b in this._layers){var c=this._layers[b];a.extend(c.getBounds?c.getBounds():c.getLatLng())}return a}}),Ea=ba.extend({options:{popupAnchor:[0,0],
tooltipAnchor:[0,0]},initialize:function(a){y(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var c=this._getIconUrl(a);if(!c){if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");return null}b=this._createImg(c,b&&"IMG"===b.tagName?b:null);this._setIconStyles(b,a);return b},_setIconStyles:function(a,b){var c=this.options,d=c[b+"Size"];"number"===typeof d&&(d=[d,d]);d=
m(d);var e=m("shadow"===b&&c.shadowAnchor||c.iconAnchor||d&&d.divideBy(2,!0));a.className="leaflet-marker-"+b+" "+(c.className||"");e&&(a.style.marginLeft=-e.x+"px",a.style.marginTop=-e.y+"px");d&&(a.style.width=d.x+"px",a.style.height=d.y+"px")},_createImg:function(a,b){b=b||document.createElement("img");b.src=a;return b},_getIconUrl:function(a){return la&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}}),Ua=Ea.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",
iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){Ua.imagePath||(Ua.imagePath=this._detectIconPath());return(this.options.imagePath||Ua.imagePath)+Ea.prototype._getIconUrl.call(this,a)},_detectIconPath:function(){var a=q("div","leaflet-default-icon-path",document.body),b=Ka(a,"background-image")||Ka(a,"backgroundImage");document.body.removeChild(a);return b=null===b||0!==b.indexOf("url")?"":b.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,
"")}}),ed=Z.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new ra(a,a,!0));this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();n(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&C(this._marker._icon,
"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var b=this._marker,c=b._map,d=this._marker.options.autoPanSpeed,e=this._marker.options.autoPanPadding,f=ia(b._icon),g=c.getPixelBounds(),k=c.getPixelOrigin();e=P(g.min._subtract(k).add(e),g.max._subtract(k).subtract(e));e.contains(f)||(d=m((Math.max(e.max.x,f.x)-e.max.x)/(g.max.x-e.max.x)-(Math.min(e.min.x,f.x)-e.min.x)/(g.min.x-e.min.x),(Math.max(e.max.y,f.y)-e.max.y)/(g.max.y-e.max.y)-
(Math.min(e.min.y,f.y)-e.min.y)/(g.min.y-e.min.y)).multiplyBy(d),c.panBy(d,{animate:!1}),this._draggable._newPos._add(d),this._draggable._startPos._add(d),E(b._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=H(this._adjustPan.bind(this,a)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(I(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,
a)))},_onDrag:function(a){var b=this._marker,c=b._shadow,d=ia(b._icon),e=b._map.layerPointToLatLng(d);c&&E(c,d);b._latlng=e;a.latlng=e;a.oldLatLng=this._oldLatLng;b.fire("move",a).fire("drag",a)},_onDragEnd:function(a){I(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",a)}}),jb=T.extend({options:{icon:new Ua,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,
draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,b){y(this,b);this._latlng=B(a)},onAdd:function(a){if(this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation)a.on("zoomanim",this._animateZoom,this);this._initIcon();this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks());delete this.dragging;this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this);this._removeIcon();this._removeShadow()},
getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var b=this._latlng;this._latlng=B(a);this.update();return this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(a){this.options.zIndexOffset=a;return this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){this.options.icon=a;this._map&&(this._initIcon(),this.update());this._popup&&this.bindPopup(this._popup,this._popup.options);
return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=a.icon.createIcon(this._icon),d=!1;c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,a.title&&(c.title=a.title),"IMG"===c.tagName&&(c.alt=a.alt||""));n(c,b);a.keyboard&&(c.tabIndex="0");this._icon=c;if(a.riseOnHover)this.on({mouseover:this._bringToFront,
mouseout:this._resetZIndex});c=a.icon.createShadow(this._shadow);var e=!1;c!==this._shadow&&(this._removeShadow(),e=!0);c&&(n(c,b),c.alt="");this._shadow=c;1>a.opacity&&this._updateOpacity();d&&this.getPane().appendChild(this._icon);this._initInteraction();c&&e&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});A(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},
_removeShadow:function(){this._shadow&&A(this._shadow);this._shadow=null},_setPos:function(a){this._icon&&E(this._icon,a);this._shadow&&E(this._shadow,a);this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(n(this._icon,"leaflet-interactive"),
this.addInteractiveTarget(this._icon),ed)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable());this.dragging=new ed(this);a&&this.dragging.enable()}},setOpacity:function(a){this.options.opacity=a;this._map&&this._updateOpacity();return this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&N(this._icon,a);this._shadow&&N(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},
_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),ma=T.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},
onRemove:function(){this._renderer._removePath(this)},redraw:function(){this._map&&this._renderer._updatePath(this);return this},setStyle:function(a){y(this,a);this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&a.hasOwnProperty("weight")&&this._updateBounds());return this},bringToFront:function(){this._renderer&&this._renderer._bringToFront(this);return this},bringToBack:function(){this._renderer&&this._renderer._bringToBack(this);return this},getElement:function(){return this._path},
_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),rb=ma.extend({options:{fill:!0,radius:10},initialize:function(a,b){y(this,b);this._latlng=B(a);this._radius=this.options.radius},setLatLng:function(a){var b=this._latlng;this._latlng=B(a);this.redraw();return this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){this.options.radius=
this._radius=a;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var b=a&&a.radius||this._radius;ma.prototype.setStyle.call(this,a);this.setRadius(b);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var a=this._radius,b=this._radiusY||a,c=this._clickTolerance();a=[a+c,b+c];this._pxBounds=new z(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},
_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),ic=rb.extend({initialize:function(a,b,c){"number"===typeof b&&(b=v({},c,{radius:b}));y(this,b);this._latlng=B(a);if(isNaN(this.options.radius))throw Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){this._mRadius=
a;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new J(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:ma.prototype.setStyle,_project:function(){var a=this._latlng.lng,b=this._latlng.lat,c=this._map,d=c.options.crs;if(d.distance===ja.distance){var e=Math.PI/180;d=this._mRadius/ja.R/e;var f=c.project([b+d,a]),g=c.project([b-d,a]);g=f.add(g).divideBy(2);
var k=c.unproject(g).lat;e=Math.acos((Math.cos(d*e)-Math.sin(b*e)*Math.sin(k*e))/(Math.cos(b*e)*Math.cos(k*e)))/e;if(isNaN(e)||0===e)e=d/Math.cos(Math.PI/180*b);this._point=g.subtract(c.getPixelOrigin());this._radius=isNaN(e)?0:g.x-c.project([k,a-e]).x;this._radiusY=g.y-f.y}else a=d.unproject(d.project(this._latlng).subtract([this._mRadius,0])),this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(a).x;this._updateBounds()}}),da=ma.extend({options:{smoothFactor:1,
noClip:!1},initialize:function(a,b){y(this,b);this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){this._setLatLngs(a);return this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var b=Infinity,c=null,d=Na,e,f,g=0,k=this._parts.length;g<k;g++)for(var h=this._parts[g],l=1,n=h.length;l<n;l++){e=h[l-1];f=h[l];var m=d(a,e,f,!0);m<b&&(b=m,c=d(a,e,f))}c&&(c.distance=Math.sqrt(b));return c},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");
var a,b,c,d=this._rings[0],e=d.length;if(!e)return null;for(b=a=0;a<e-1;a++)b+=d[a].distanceTo(d[a+1])/2;if(0===b)return this._map.layerPointToLatLng(d[0]);for(c=a=0;a<e-1;a++){var f=d[a];var g=d[a+1];var k=f.distanceTo(g);c+=k;if(c>b)return a=(c-b)/k,this._map.layerPointToLatLng([g.x-a*(g.x-f.x),g.y-a*(g.y-f.y)])}},getBounds:function(){return this._bounds},addLatLng:function(a,b){b=b||this._defaultShape();a=B(a);b.push(a);this._bounds.extend(a);return this.redraw()},_setLatLngs:function(a){this._bounds=
new J;this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return ca(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var b=[],c=ca(a),d=0,e=a.length;d<e;d++)c?(b[d]=B(a[d]),this._bounds.extend(b[d])):b[d]=this._convertLatLngs(a[d]);return b},_project:function(){var a=new z;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,a);this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance();
a=new l(a,a);this._pxBounds=new z([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)])},_projectLatlngs:function(a,b,c){var d=a.length,e;if(a[0]instanceof w){var f=[];for(e=0;e<d;e++)f[e]=this._map.latLngToLayerPoint(a[e]),c.extend(f[e]);b.push(f)}else for(e=0;e<d;e++)this._projectLatlngs(a[e],b,c)},_clipPoints:function(){var a=this._renderer._bounds;this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else{var b=this._parts,c,
d,e,f;var g=c=0;for(d=this._rings.length;c<d;c++){var k=this._rings[c];var h=0;for(e=k.length;h<e-1;h++)if(f=Ec(k[h],k[h+1],a,h,!0))if(b[g]=b[g]||[],b[g].push(f[0]),f[1]!==k[h+1]||h===e-2)b[g].push(f[1]),g++}}},_simplifyPoints:function(){for(var a=this._parts,b=this.options.smoothFactor,c=0,d=a.length;c<d;c++)a[c]=Cc(a[c],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,
b){var c,d,e=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;var f=0;for(d=this._parts.length;f<d;f++){var g=this._parts[f];var k=0;var h=g.length;for(c=h-1;k<h;c=k++)if((b||0!==k)&&Dc(a,g[c],g[k])<=e)return!0}return!1}});da._flat=Gc;var ya=da.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var a,b,c,d,e=this._rings[0],
f=e.length;if(!f)return null;var g=b=c=d=0;for(a=f-1;g<f;a=g++){var k=e[g];a=e[a];var h=k.y*a.x-a.y*k.x;c+=(k.x+a.x)*h;d+=(k.y+a.y)*h;b+=3*h}return this._map.layerPointToLatLng(0===b?e[0]:[c/b,d/b])},_convertLatLngs:function(a){a=da.prototype._convertLatLngs.call(this,a);var b=a.length;2<=b&&a[0]instanceof w&&a[0].equals(a[b-1])&&a.pop();return a},_setLatLngs:function(a){da.prototype._setLatLngs.call(this,a);ca(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ca(this._latlngs[0])?
this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,b=this.options.weight;b=new l(b,b);a=new z(a.min.subtract(b),a.max.add(b));this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else{b=0;for(var c=this._rings.length,d;b<c;b++)d=Hc(this._rings[b],a,!0),d.length&&this._parts.push(d)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var b=!1,c,d;if(!this._pxBounds||
!this._pxBounds.contains(a))return!1;var e=0;for(d=this._parts.length;e<d;e++){var f=this._parts[e];var g=0;var k=f.length;for(c=k-1;g<k;c=g++){var h=f[g];c=f[c];h.y>a.y!==c.y>a.y&&a.x<(c.x-h.x)*(a.y-h.y)/(c.y-h.y)+h.x&&(b=!b)}}return b||da.prototype._containsPoint.call(this,a,!0)}}),ea=xa.extend({initialize:function(a,b){y(this,b);this._layers={};a&&this.addData(a)},addData:function(a){var b=V(a)?a:a.features,c;if(b){a=0;for(c=b.length;a<c;a++){var d=b[a];(d.geometries||d.geometry||d.features||d.coordinates)&&
this.addData(d)}return this}b=this.options;if(b.filter&&!b.filter(a))return this;c=Ub(a,b);if(!c)return this;c.feature=lb(a);c.defaultOptions=c.options;this.resetStyle(c);if(b.onEachFeature)b.onEachFeature(a,c);return this.addLayer(c)},resetStyle:function(a){if(void 0===a)return this.eachLayer(this.resetStyle,this);a.options=v({},a.defaultOptions);this._setLayerStyle(a,this.options.style);return this},setStyle:function(a){return this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,
b){a.setStyle&&("function"===typeof b&&(b=b(a.feature)),a.setStyle(b))}}),jc={toGeoJSON:function(a){return za(this,{type:"Point",coordinates:Wb(this.getLatLng(),a)})}};jb.include(jc);ic.include(jc);rb.include(jc);da.include({toGeoJSON:function(a){var b=!ca(this._latlngs);a=kb(this._latlngs,b?1:0,!1,a);return za(this,{type:(b?"Multi":"")+"LineString",coordinates:a})}});ya.include({toGeoJSON:function(a){var b=!ca(this._latlngs),c=b&&!ca(this._latlngs[0]);a=kb(this._latlngs,c?2:b?1:0,!0,a);b||(a=[a]);
return za(this,{type:(c?"Multi":"")+"Polygon",coordinates:a})}});Da.include({toMultiPoint:function(a){var b=[];this.eachLayer(function(c){b.push(c.toGeoJSON(a).geometry.coordinates)});return za(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(a){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===b)return this.toMultiPoint(a);var c="GeometryCollection"===b,d=[];this.eachLayer(function(b){b.toGeoJSON&&(b=b.toGeoJSON(a),c?d.push(b.geometry):(b=lb(b),"FeatureCollection"===
b.type?d.push.apply(d,b.features):d.push(b)))});return c?za(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});var sb=T.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,b,c){this._url=a;this._bounds=G(b);y(this,c)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity());this.options.interactive&&(n(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image));
this.getPane().appendChild(this._image);this._reset()},onRemove:function(){A(this._image);this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){this.options.opacity=a;this._image&&this._updateOpacity();return this},setStyle:function(a){a.opacity&&this.setOpacity(a.opacity);return this},bringToFront:function(){this._map&&ua(this._image);return this},bringToBack:function(){this._map&&va(this._image);return this},setUrl:function(a){this._url=a;this._image&&(this._image.src=
a);return this},setBounds:function(a){this._bounds=G(a);this._map&&this._reset();return this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};this._zoomAnimated&&(a.zoomanim=this._animateZoom);return a},setZIndex:function(a){this.options.zIndex=a;this._updateZIndex();return this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a="IMG"===this._url.tagName,b=this._image=a?this._url:q("img");n(b,"leaflet-image-layer");
this._zoomAnimated&&n(b,"leaflet-zoom-animated");this.options.className&&n(b,this.options.className);b.onselectstart=F;b.onmousemove=F;b.onload=x(this.fire,this,"load");b.onerror=x(this._overlayOnError,this,"error");if(this.options.crossOrigin||""===this.options.crossOrigin)b.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin;this.options.zIndex&&this._updateZIndex();a?this._url=b.src:(b.src=this._url,b.alt=this.options.alt)},_animateZoom:function(a){var b=this._map.getZoomScale(a.zoom);
a=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;oa(this._image,a,b)},_reset:function(){var a=this._image,b=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=b.getSize();E(a,b.min);a.style.width=c.x+"px";a.style.height=c.y+"px"},_updateOpacity:function(){N(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=
this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)}}),fd=sb.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var a="VIDEO"===this._url.tagName,b=this._image=a?this._url:q("video");n(b,"leaflet-image-layer");this._zoomAnimated&&n(b,"leaflet-zoom-animated");this.options.className&&n(b,this.options.className);b.onselectstart=F;b.onmousemove=F;b.onloadeddata=x(this.fire,
this,"load");if(a){a=b.getElementsByTagName("source");for(var c=[],d=0;d<a.length;d++)c.push(a[d].src);this._url=0<a.length?c:[b.src]}else for(V(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&b.style.hasOwnProperty("objectFit")&&(b.style.objectFit="fill"),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,a=0;a<this._url.length;a++)c=q("source"),c.src=this._url[a],b.appendChild(c)}}),gd=sb.extend({_initImage:function(){var a=this._image=this._url;n(a,"leaflet-image-layer");
this._zoomAnimated&&n(a,"leaflet-zoom-animated");this.options.className&&n(a,this.options.className);a.onselectstart=F;a.onmousemove=F}}),ha=T.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(a,b){y(this,a);this._source=b},onAdd:function(a){this._zoomAnimated=a._zoomAnimated;this._container||this._initLayout();a._fadeAnimated&&N(this._container,0);clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();a._fadeAnimated&&N(this._container,
1);this.bringToFront()},onRemove:function(a){a._fadeAnimated?(N(this._container,0),this._removeTimeout=setTimeout(x(A,void 0,this._container),200)):A(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=B(a);this._map&&(this._updatePosition(),this._adjustPan());return this},getContent:function(){return this._content},setContent:function(a){this._content=a;this.update();return this},getElement:function(){return this._container},update:function(){this._map&&
(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};this._zoomAnimated&&(a.zoomanim=this._animateZoom);return a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){this._map&&ua(this._container);return this},bringToBack:function(){this._map&&va(this._container);return this},
_prepareOpen:function(a,b,c){b instanceof T||(c=b,b=a);if(b instanceof xa)for(var d in a._layers){b=a._layers[d];break}if(!c)if(b.getCenter)c=b.getCenter();else if(b.getLatLng)c=b.getLatLng();else throw Error("Unable to get source layer LatLng.");this._source=b;this.update();return c},_updateContent:function(){if(this._content){var a=this._contentNode,b="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof b)a.innerHTML=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);
a.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),b=m(this.options.offset),c=this._getAnchor();this._zoomAnimated?E(this._container,a.add(c)):b=b.add(a).add(c);a=this._containerBottom=-b.y;b=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=a+"px";this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}}),Fa=ha.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,
autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){a.openPopup(this);return this},onAdd:function(a){ha.prototype.onAdd.call(this,a);a.fire("popupopen",{popup:this});if(this._source&&(this._source.fire("popupopen",{popup:this},!0),!(this._source instanceof ma)))this._source.on("preclick",pa)},onRemove:function(a){ha.prototype.onRemove.call(this,a);a.fire("popupclose",
{popup:this});this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ma||this._source.off("preclick",pa))},getEvents:function(){var a=ha.prototype.getEvents.call(this);if(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)a.preclick=this._close;this.options.keepInView&&(a.moveend=this._adjustPan);return a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a=this._container=q("div","leaflet-popup "+
(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=q("div","leaflet-popup-content-wrapper",a);this._contentNode=q("div","leaflet-popup-content",b);Ma(b);Qb(this._contentNode);p(b,"contextmenu",pa);this._tipContainer=q("div","leaflet-popup-tip-container",a);this._tip=q("div","leaflet-popup-tip",this._tipContainer);this.options.closeButton&&(a=this._closeButton=q("a","leaflet-popup-close-button",a),a.href="#close",a.innerHTML="&#215;",p(a,"click",this._onCloseButtonClick,this))},
_updateLayout:function(){var a=this._contentNode,b=a.style;b.width="";b.whiteSpace="nowrap";var c=a.offsetWidth;c=Math.min(c,this.options.maxWidth);c=Math.max(c,this.options.minWidth);b.width=c+1+"px";b.whiteSpace="";b.height="";c=a.offsetHeight;var d=this.options.maxHeight;d&&c>d?(b.height=d+"px",n(a,"leaflet-popup-scrolled")):C(a,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);var b=
this._getAnchor();E(this._container,a.add(b))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var a=this._map,b=parseInt(Ka(this._container,"marginBottom"),10)||0;b=this._container.offsetHeight+b;var c=this._containerWidth,d=new l(this._containerLeft,-b-this._containerBottom);d._add(ia(this._container));d=a.layerPointToContainerPoint(d);var e=m(this.options.autoPanPadding),f=m(this.options.autoPanPaddingTopLeft||e);e=m(this.options.autoPanPaddingBottomRight||
e);var g=a.getSize(),k=0,h=0;d.x+c+e.x>g.x&&(k=d.x+c-g.x+e.x);0>d.x-k-f.x&&(k=d.x-f.x);d.y+b+e.y>g.y&&(h=d.y+b-g.y+e.y);0>d.y-h-f.y&&(h=d.y-f.y);(k||h)&&a.fire("autopanstart").panBy([k,h])}},_onCloseButtonClick:function(a){this._close();Y(a)},_getAnchor:function(){return m(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});r.mergeOptions({closePopupOnClick:!0});r.include({openPopup:function(a,b,c){a instanceof Fa||(a=(new Fa(c)).setContent(a));b&&a.setLatLng(b);if(this.hasLayer(a))return this;
this._popup&&this._popup.options.autoClose&&this.closePopup();this._popup=a;return this.addLayer(a)},closePopup:function(a){a&&a!==this._popup||(a=this._popup,this._popup=null);a&&this.removeLayer(a);return this}});T.include({bindPopup:function(a,b){if(a instanceof Fa)y(a,b),this._popup=a,a._source=this;else{if(!this._popup||b)this._popup=new Fa(b,this);this._popup.setContent(a)}this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),
this._popupHandlersAdded=!0);return this},unbindPopup:function(){this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null);return this},openPopup:function(a,b){this._popup&&this._map&&(b=this._popup._prepareOpen(this,a,b),this._map.openPopup(this._popup,b));return this},closePopup:function(){this._popup&&this._popup._close();return this},togglePopup:function(a){this._popup&&(this._popup._map?
this.closePopup():this.openPopup(a));return this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){this._popup&&this._popup.setContent(a);return this},getPopup:function(){return this._popup},_openPopup:function(a){var b=a.layer||a.target;this._popup&&this._map&&(Y(a),b instanceof ma?this.openPopup(a.layer||a.target,a.latlng):this._map.hasLayer(this._popup)&&this._popup._source===b?this.closePopup():this.openPopup(b,a.latlng))},_movePopup:function(a){this._popup.setLatLng(a.latlng)},
_onKeyPress:function(a){13===a.originalEvent.keyCode&&this._openPopup(a)}});var Ga=ha.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(a){ha.prototype.onAdd.call(this,a);this.setOpacity(this.options.opacity);a.fire("tooltipopen",{tooltip:this});this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(a){ha.prototype.onRemove.call(this,a);a.fire("tooltipclose",{tooltip:this});this._source&&
this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var a=ha.prototype.getEvents.call(this);X&&!this.options.permanent&&(a.preclick=this._close);return a},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=q("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var b=this._map,c=
this._container,d=b.latLngToContainerPoint(b.getCenter());b=b.layerPointToContainerPoint(a);var e=this.options.direction,f=c.offsetWidth,g=c.offsetHeight,h=m(this.options.offset),l=this._getAnchor();"top"===e?a=a.add(m(-f/2+h.x,-g+h.y+l.y,!0)):"bottom"===e?a=a.subtract(m(f/2-h.x,-h.y,!0)):"center"===e?a=a.subtract(m(f/2+h.x,g/2-l.y+h.y,!0)):"right"===e||"auto"===e&&b.x<d.x?(e="right",a=a.add(m(h.x+l.x,l.y-g/2+h.y,!0))):(e="left",a=a.subtract(m(f+l.x-h.x,g/2-l.y-h.y,!0)));C(c,"leaflet-tooltip-right");
C(c,"leaflet-tooltip-left");C(c,"leaflet-tooltip-top");C(c,"leaflet-tooltip-bottom");n(c,"leaflet-tooltip-"+e);E(c,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a;this._container&&N(this._container,a)},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(a)},_getAnchor:function(){return m(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?
this._source._getTooltipAnchor():[0,0])}});r.include({openTooltip:function(a,b,c){a instanceof Ga||(a=(new Ga(c)).setContent(a));b&&a.setLatLng(b);return this.hasLayer(a)?this:this.addLayer(a)},closeTooltip:function(a){a&&this.removeLayer(a);return this}});T.include({bindTooltip:function(a,b){if(a instanceof Ga)y(a,b),this._tooltip=a,a._source=this;else{if(!this._tooltip||b)this._tooltip=new Ga(b,this);this._tooltip.setContent(a)}this._initTooltipInteractions();this._tooltip.options.permanent&&this._map&&
this._map.hasLayer(this)&&this.openTooltip();return this},unbindTooltip:function(){this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null);return this},_initTooltipInteractions:function(a){if(a||!this._tooltipHandlersAdded){var b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),X&&(b.click=
this._openTooltip));this[a?"off":"on"](b);this._tooltipHandlersAdded=!a}},openTooltip:function(a,b){this._tooltip&&this._map&&(b=this._tooltip._prepareOpen(this,a,b),this._map.openTooltip(this._tooltip,b),this._tooltip.options.interactive&&this._tooltip._container&&(n(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container)));return this},closeTooltip:function(){this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&
(C(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container)));return this},toggleTooltip:function(a){this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(a));return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){this._tooltip&&this._tooltip.setContent(a);return this},getTooltip:function(){return this._tooltip},_openTooltip:function(a){this._tooltip&&this._map&&this.openTooltip(a.layer||a.target,
this._tooltip.options.sticky?a.latlng:void 0)},_moveTooltip:function(a){var b=a.latlng;this._tooltip.options.sticky&&a.originalEvent&&(a=this._map.mouseEventToContainerPoint(a.originalEvent),a=this._map.containerPointToLayerPoint(a),b=this._map.layerPointToLatLng(a));this._tooltip.setLatLng(b)}});var hd=Ea.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){a=a&&"DIV"===a.tagName?a:document.createElement("div");var b=this.options;b.html instanceof
Element?(ab(a),a.appendChild(b.html)):a.innerHTML=!1!==b.html?b.html:"";b.bgPos&&(b=m(b.bgPos),a.style.backgroundPosition=-b.x+"px "+-b.y+"px");this._setIconStyles(a,"icon");return a},createShadow:function(){return null}});Ea.Default=Ua;var Va=T.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ca,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){y(this,
a)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles();A(this._container);a._removeZoomLimit(this);this._container=null;this._tileZoom=void 0},bringToFront:function(){this._map&&(ua(this._container),this._setAutoZIndex(Math.max));return this},bringToBack:function(){this._map&&(va(this._container),this._setAutoZIndex(Math.min));return this},getContainer:function(){return this._container},
setOpacity:function(a){this.options.opacity=a;this._updateOpacity();return this},setZIndex:function(a){this.options.zIndex=a;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){this._map&&(this._removeAllTiles(),this._update());return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};this.options.updateWhenIdle||(this._onMove||(this._onMove=lc(this._onMoveEnd,this.options.updateInterval,
this)),a.move=this._onMove);this._zoomAnimated&&(a.zoomanim=this._animateZoom);return a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof l?a:new l(a,a)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var b=this.getPane().children,c=-a(-Infinity,Infinity),d=0,e=b.length,f;d<e;d++)f=
b[d].style.zIndex,b[d]!==this._container&&f&&(c=a(c,+f));isFinite(c)&&(this.options.zIndex=c+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ba){N(this._container,this.options.opacity);var a=+new Date,b=!1,c=!1,d;for(d in this._tiles){var e=this._tiles[d];if(e.current&&e.loaded){var f=Math.min(1,(a-e.loaded)/200);N(e.el,f);1>f?b=!0:(e.active?c=!0:this._onOpaqueTile(e),e.active=!0)}}c&&!this._noPrune&&this._pruneTiles();b&&(I(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,
this))}},_onOpaqueTile:F,_initContainer:function(){this._container||(this._container=q("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,b=this.options.maxZoom;if(void 0!==a){for(var c in this._levels)this._levels[c].el.children.length||c===a?(this._levels[c].el.style.zIndex=b-Math.abs(a-c),this._onUpdateLevel(c)):(A(this._levels[c].el),
this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);c=this._levels[a];var d=this._map;c||(c=this._levels[a]={},c.el=q("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=b,c.origin=d.project(d.unproject(d.getPixelOrigin()),a).round(),c.zoom=a,this._setZoomTransform(c,d.getCenter(),d.getZoom()),this._onCreateLevel(c));return this._level=c}},_onUpdateLevel:F,_onRemoveLevel:F,_onCreateLevel:F,_pruneTiles:function(){if(this._map){var a;var b=this._map.getZoom();
if(b>this.options.maxZoom||b<this.options.minZoom)this._removeAllTiles();else{for(a in this._tiles)b=this._tiles[a],b.retain=b.current;for(a in this._tiles)b=this._tiles[a],b.current&&!b.active&&(b=b.coords,this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2));for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}}},_removeTilesAtZoom:function(a){for(var b in this._tiles)this._tiles[b].coords.z===a&&this._removeTile(b)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},
_invalidateAll:function(){for(var a in this._levels)A(this._levels[a].el),this._onRemoveLevel(a),delete this._levels[a];this._removeAllTiles();this._tileZoom=void 0},_retainParent:function(a,b,c,d){a=Math.floor(a/2);b=Math.floor(b/2);--c;var e=new l(+a,+b);e.z=+c;e=this._tileCoordsToKey(e);if((e=this._tiles[e])&&e.active)return e.retain=!0;e&&e.loaded&&(e.retain=!0);return c>d?this._retainParent(a,b,c,d):!1},_retainChildren:function(a,b,c,d){for(var e=2*a;e<2*a+2;e++)for(var f=2*b;f<2*b+2;f++){var g=
new l(e,f);g.z=c+1;g=this._tileCoordsToKey(g);(g=this._tiles[g])&&g.active?g.retain=!0:(g&&g.loaded&&(g.retain=!0),c+1<d&&this._retainChildren(e,f,c+1,d))}},_resetView:function(a){a=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var b=this.options;return void 0!==b.minNativeZoom&&a<b.minNativeZoom?b.minNativeZoom:void 0!==b.maxNativeZoom&&b.maxNativeZoom<a?b.maxNativeZoom:
a},_setView:function(a,b,c,d){var e=this._clampZoom(Math.round(b));if(void 0!==this.options.maxZoom&&e>this.options.maxZoom||void 0!==this.options.minZoom&&e<this.options.minZoom)e=void 0;var f=this.options.updateWhenZooming&&e!==this._tileZoom;if(!d||f)this._tileZoom=e,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==e&&this._update(a),c||this._pruneTiles(),this._noPrune=!!c;this._setZoomTransforms(a,b)},_setZoomTransforms:function(a,b){for(var c in this._levels)this._setZoomTransform(this._levels[c],
a,b)},_setZoomTransform:function(a,b,c){var d=this._map.getZoomScale(c,a.zoom);b=a.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(b,c)).round();O?oa(a.el,b,d):E(a.el,b)},_resetGrid:function(){var a=this._map,b=a.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,e=this._map.getPixelWorldBounds(this._tileZoom);e&&(this._globalTileRange=this._pxBoundsToTileRange(e));this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,b.wrapLng[0]],d).x/c.x),Math.ceil(a.project([0,
b.wrapLng[1]],d).x/c.y)];this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([b.wrapLat[0],0],d).y/c.x),Math.ceil(a.project([b.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(a){var b=this._map,c=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom();c=b.getZoomScale(c,this._tileZoom);a=b.project(a,this._tileZoom).floor();b=b.getSize().divideBy(2*c);return new z(a.subtract(b),a.add(b))},
_update:function(a){var b=this._map;if(b){var c=this._clampZoom(b.getZoom());void 0===a&&(a=b.getCenter());if(void 0!==this._tileZoom){b=this._getTiledPixelBounds(a);var d=this._pxBoundsToTileRange(b),e=d.getCenter();b=[];var f=this.options.keepBuffer;f=new z(d.getBottomLeft().subtract([f,-f]),d.getTopRight().add([f,-f]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw Error("Attempted to load an infinite number of tiles");for(var g in this._tiles){var h=this._tiles[g].coords;
h.z===this._tileZoom&&f.contains(new l(h.x,h.y))||(this._tiles[g].current=!1)}if(1<Math.abs(c-this._tileZoom))this._setView(a,c);else{for(c=d.min.y;c<=d.max.y;c++)for(a=d.min.x;a<=d.max.x;a++)g=new l(a,c),g.z=this._tileZoom,this._isValidTile(g)&&((f=this._tiles[this._tileCoordsToKey(g)])?f.current=!0:b.push(g));b.sort(function(a,b){return a.distanceTo(e)-b.distanceTo(e)});if(0!==b.length){this._loading||(this._loading=!0,this.fire("loading"));d=document.createDocumentFragment();for(a=0;a<b.length;a++)this._addTile(b[a],
d);this._level.el.appendChild(d)}}}}},_isValidTile:function(a){var b=this._map.options.crs;if(!b.infinite){var c=this._globalTileRange;if(!b.wrapLng&&(a.x<c.min.x||a.x>c.max.x)||!b.wrapLat&&(a.y<c.min.y||a.y>c.max.y))return!1}if(!this.options.bounds)return!0;a=this._tileCoordsToBounds(a);return G(this.options.bounds).overlaps(a)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var b=this._map,c=this.getTileSize(),d=a.scaleBy(c);c=d.add(c);
d=b.unproject(d,a.z);a=b.unproject(c,a.z);return[d,a]},_tileCoordsToBounds:function(a){a=this._tileCoordsToNwSe(a);a=new J(a[0],a[1]);this.options.noWrap||(a=this._map.wrapLatLngBounds(a));return a},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){a=a.split(":");var b=new l(+a[0],+a[1]);b.z=+a[2];return b},_removeTile:function(a){var b=this._tiles[a];b&&(A(b.el),delete this._tiles[a],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){n(a,
"leaflet-tile");var b=this.getTileSize();a.style.width=b.x+"px";a.style.height=b.y+"px";a.onselectstart=F;a.onmousemove=F;Ba&&1>this.options.opacity&&N(a,this.options.opacity);wa&&!Qa&&(a.style.WebkitBackfaceVisibility="hidden")},_addTile:function(a,b){var c=this._getTilePos(a),d=this._tileCoordsToKey(a),e=this.createTile(this._wrapCoords(a),x(this._tileReady,this,a));this._initTile(e);2>this.createTile.length&&H(x(this._tileReady,this,a,null,e));E(e,c);this._tiles[d]={el:e,coords:a,current:!0};b.appendChild(e);
this.fire("tileloadstart",{tile:e,coords:a})},_tileReady:function(a,b,c){b&&this.fire("tileerror",{error:b,tile:c,coords:a});c=this._tileCoordsToKey(a);if(c=this._tiles[c])c.loaded=+new Date,this._map._fadeAnimated?(N(c.el,0),I(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),b||(n(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ba||!this._map._fadeAnimated?H(this._pruneTiles,
this):setTimeout(x(this._pruneTiles,this),250))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var b=new l(this._wrapX?Ha(a.x,this._wrapX):a.x,this._wrapY?Ha(a.y,this._wrapY):a.y);b.z=a.z;return b},_pxBoundsToTileRange:function(a){var b=this.getTileSize();return new z(a.min.unscaleBy(b).floor(),a.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}}),
Aa=Va.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(a,b){this._url=a;b=y(this,b);b.detectRetina&&la&&0<b.maxZoom&&(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom++):(b.zoomOffset++,b.maxZoom--),b.minZoom=Math.max(0,b.minZoom));"string"===typeof b.subdomains&&(b.subdomains=b.subdomains.split(""));if(!wa)this.on("tileunload",this._onTileRemove)},setUrl:function(a,
b){this._url===a&&void 0===b&&(b=!0);this._url=a;b||this.redraw();return this},createTile:function(a,b){var c=document.createElement("img");p(c,"load",x(this._tileOnLoad,this,b,c));p(c,"error",x(this._tileOnError,this,b,c));if(this.options.crossOrigin||""===this.options.crossOrigin)c.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin;c.alt="";c.setAttribute("role","presentation");c.src=this.getTileUrl(a);return c},getTileUrl:function(a){var b={r:la?"@2x":"",s:this._getSubdomain(a),
x:a.x,y:a.y,z:this._getZoomForUrl()};this._map&&!this._map.options.crs.infinite&&(a=this._globalTileRange.max.y-a.y,this.options.tms&&(b.y=a),b["-y"]=a);return nc(this._url,v(b,this.options))},_tileOnLoad:function(a,b){Ba?setTimeout(x(a,this,null,b),0):a(null,b)},_tileOnError:function(a,b,c){var d=this.options.errorTileUrl;d&&b.getAttribute("src")!==d&&(b.src=d);a(c,b)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,b=this.options.maxZoom,c=this.options.zoomOffset;
this.options.zoomReverse&&(a=b-a);return a+c},_getSubdomain:function(a){return this.options.subdomains[Math.abs(a.x+a.y)%this.options.subdomains.length]},_abortLoading:function(){var a;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom){var b=this._tiles[a].el;b.onload=F;b.onerror=F;b.complete||(b.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",A(b),delete this._tiles[a])}},_removeTile:function(a){var b=this._tiles[a];if(b)return Rc||b.el.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),
Va.prototype._removeTile.call(this,a)},_tileReady:function(a,b,c){if(this._map&&(!c||"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="!==c.getAttribute("src")))return Va.prototype._tileReady.call(this,a,b,c)}}),id=Aa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,b){this._url=a;a=v({},this.defaultWmsParams);for(var c in b)c in this.options||(a[c]=b[c]);
b=y(this,b);b=b.detectRetina&&la?2:1;c=this.getTileSize();a.width=c.x*b;a.height=c.y*b;this.wmsParams=a},onAdd:function(a){this._crs=this.options.crs||a.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;Aa.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=this._tileCoordsToNwSe(a),c=this._crs;c=P(c.project(b[0]),c.project(b[1]));b=c.min;c=c.max;b=(1.3<=this._wmsVersion&&this._crs===dd?[b.y,b.x,c.y,c.x]:[b.x,b.y,
c.x,c.y]).join(",");a=Aa.prototype.getTileUrl.call(this,a);return a+mc(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+b},setParams:function(a,b){v(this.wmsParams,a);b||this.redraw();return this}});Aa.WMS=id;Kc.wms=function(a,b){return new id(a,b)};var aa=T.extend({options:{padding:.1,tolerance:0},initialize:function(a){y(this,a);u(this);this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&n(this._container,
"leaflet-zoom-animated"));this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};this._zoomAnimated&&(a.zoomanim=this._onAnimZoom);return a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),
this._map.getZoom())},_updateTransform:function(a,b){var c=this._map.getZoomScale(b,this._zoom),d=ia(this._container),e=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,b);a=this._map.project(a,b).subtract(f);d=e.multiplyBy(-c).add(d).add(e).subtract(a);O?oa(this._container,d,c):E(this._container,d)},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},
_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,b=this._map.getSize(),c=this._map.containerPointToLayerPoint(b.multiplyBy(-a)).round();this._bounds=new z(c,c.add(b.multiplyBy(1+2*a)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}}),Nc=aa.extend({getEvents:function(){var a=aa.prototype.getEvents.call(this);a.viewprereset=this._onViewPreReset;return a},_onViewPreReset:function(){this._postponeUpdatePaths=
!0},onAdd:function(){aa.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");p(a,"mousemove",this._onMouseMove,this);p(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this);p(a,"mouseout",this._handleMouseOut,this);this._ctx=a.getContext("2d")},_destroyContainer:function(){I(this._redrawRequest);delete this._ctx;A(this._container);D(this._container);delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=
null;for(var a in this._layers){var b=this._layers[a];b._update()}this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){aa.prototype._update.call(this);var a=this._bounds,b=this._container,c=a.getSize(),d=la?2:1;E(b,a.min);b.width=d*c.x;b.height=d*c.y;b.style.width=c.x+"px";b.style.height=c.y+"px";la&&this._ctx.scale(2,2);this._ctx.translate(-a.min.x,-a.min.y);this.fire("update")}},_reset:function(){aa.prototype._reset.call(this);this._postponeUpdatePaths&&(this._postponeUpdatePaths=
!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a);this._layers[u(a)]=a;a=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a);this._drawLast=a;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var b=a._order,c=b.next;b=b.prev;c?c.prev=b:this._drawLast=b;b?b.next=c:this._drawFirst=c;delete a._order;delete this._layers[u(a)];this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a);
a._project();a._update();this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a);this._requestRedraw(a)},_updateDashArray:function(a){if("string"===typeof a.options.dashArray){var b=a.options.dashArray.split(/[, ]+/),c=[],d;for(d=0;d<b.length;d++){var e=Number(b[d]);if(isNaN(e))return;c.push(e)}a.options._dashArray=c}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||H(this._redraw,
this))},_extendRedrawBounds:function(a){if(a._pxBounds){var b=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z;this._redrawBounds.extend(a._pxBounds.min.subtract([b,b]));this._redrawBounds.extend(a._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null;this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil());this._clear();this._draw();this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var b=a.getSize();this._ctx.clearRect(a.min.x,
a.min.y,b.x,b.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var a=this._redrawBounds;this._ctx.save();if(a){var b=a.getSize();this._ctx.beginPath();this._ctx.rect(a.min.x,a.min.y,b.x,b.y);this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)b=c.layer,(!a||b._pxBounds&&b._pxBounds.intersects(a))&&b._updatePath();this._drawing=!1;this._ctx.restore()},_updatePoly:function(a,b){if(this._drawing){var c,d,e=a._parts,f=e.length,g=this._ctx;
if(f){g.beginPath();for(c=0;c<f;c++){var h=0;for(d=e[c].length;h<d;h++){var l=e[c][h];g[h?"lineTo":"moveTo"](l.x,l.y)}b&&g.closePath()}this._fillStroke(g,a)}}},_updateCircle:function(a){if(this._drawing&&!a._empty()){var b=a._point,c=this._ctx,d=Math.max(Math.round(a._radius),1),e=(Math.max(Math.round(a._radiusY),1)||d)/d;1!==e&&(c.save(),c.scale(1,e));c.beginPath();c.arc(b.x,b.y/e,d,0,2*Math.PI,!1);1!==e&&c.restore();this._fillStroke(c,a)}},_fillStroke:function(a,b){var c=b.options;c.fill&&(a.globalAlpha=
c.fillOpacity,a.fillStyle=c.fillColor||c.color,a.fill(c.fillRule||"evenodd"));c.stroke&&0!==c.weight&&(a.setLineDash&&a.setLineDash(b.options&&b.options._dashArray||[]),a.globalAlpha=c.opacity,a.lineWidth=c.weight,a.strokeStyle=c.color,a.lineCap=c.lineCap,a.lineJoin=c.lineJoin,a.stroke())},_onClick:function(a){for(var b=this._map.mouseEventToLayerPoint(a),c,d,e=this._drawFirst;e;e=e.next)c=e.layer,c.options.interactive&&c._containsPoint(b)&&!this._map._draggableMoved(c)&&(d=c);d&&(Rb(a),this._fireEvent([d],
a))},_onMouseMove:function(a){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var b=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,b)}},_handleMouseOut:function(a){var b=this._hoveredLayer;b&&(C(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,b){if(!this._mouseHoverThrottled){for(var c,d,e=this._drawFirst;e;e=e.next)c=e.layer,c.options.interactive&&c._containsPoint(b)&&
(d=c);d!==this._hoveredLayer&&(this._handleMouseOut(a),d&&(n(this._container,"leaflet-interactive"),this._fireEvent([d],a,"mouseover"),this._hoveredLayer=d));this._hoveredLayer&&this._fireEvent([this._hoveredLayer],a);this._mouseHoverThrottled=!0;setTimeout(L.bind(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,b,c){this._map._fireDOMEvent(b,c||b.type,a)},_bringToFront:function(a){var b=a._order;if(b){var c=b.next,d=b.prev;c&&((c.prev=d)?d.next=c:c&&(this._drawFirst=c),
b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(a))}},_bringToBack:function(a){var b=a._order;if(b){var c=b.next,d=b.prev;d&&((d.next=c)?c.prev=d:d&&(this._drawLast=d),b.prev=null,b.next=this._drawFirst,this._drawFirst=this._drawFirst.prev=b,this._requestRedraw(a))}}}),Wa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch(a){return function(a){return document.createElement("<"+
a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Rd={_initContainer:function(){this._container=q("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(aa.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var b=a._container=Wa("shape");n(b,"leaflet-vml-shape "+(this.options.className||""));b.coordsize="1 1";a._path=Wa("path");b.appendChild(a._path);this._updateStyle(a);this._layers[u(a)]=a},_addPath:function(a){var b=a._container;this._container.appendChild(b);
a.options.interactive&&a.addInteractiveTarget(b)},_removePath:function(a){var b=a._container;A(b);a.removeInteractiveTarget(b);delete this._layers[u(a)]},_updateStyle:function(a){var b=a._stroke,c=a._fill,d=a.options,e=a._container;e.stroked=!!d.stroke;e.filled=!!d.fill;d.stroke?(b||(b=a._stroke=Wa("stroke")),e.appendChild(b),b.weight=d.weight+"px",b.color=d.color,b.opacity=d.opacity,b.dashStyle=d.dashArray?V(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):"",b.endcap=d.lineCap.replace("butt",
"flat"),b.joinstyle=d.lineJoin):b&&(e.removeChild(b),a._stroke=null);d.fill?(c||(c=a._fill=Wa("fill")),e.appendChild(c),c.color=d.fillColor||d.color,c.opacity=d.fillOpacity):c&&(e.removeChild(c),a._fill=null)},_updateCircle:function(a){var b=a._point.round(),c=Math.round(a._radius),d=Math.round(a._radiusY||c);this._setPath(a,a._empty()?"M0 0":"AL "+b.x+","+b.y+" "+c+","+d+" 0,23592600")},_setPath:function(a,b){a._path.v=b},_bringToFront:function(a){ua(a._container)},_bringToBack:function(a){va(a._container)}},
tb=mb?Wa:sc,Oa=aa.extend({getEvents:function(){var a=aa.prototype.getEvents.call(this);a.zoomstart=this._onZoomStart;return a},_initContainer:function(){this._container=tb("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=tb("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){A(this._container);D(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||
!this._bounds){aa.prototype._update.call(this);var a=this._bounds,b=a.getSize(),c=this._container;this._svgSize&&this._svgSize.equals(b)||(this._svgSize=b,c.setAttribute("width",b.x),c.setAttribute("height",b.y));E(c,a.min);c.setAttribute("viewBox",[a.min.x,a.min.y,b.x,b.y].join(" "));this.fire("update")}},_initPath:function(a){var b=a._path=tb("path");a.options.className&&n(b,a.options.className);a.options.interactive&&n(b,"leaflet-interactive");this._updateStyle(a);this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||
this._initContainer();this._rootGroup.appendChild(a._path);a.addInteractiveTarget(a._path)},_removePath:function(a){A(a._path);a.removeInteractiveTarget(a._path);delete this._layers[u(a)]},_updatePath:function(a){a._project();a._update()},_updateStyle:function(a){var b=a._path;a=a.options;b&&(a.stroke?(b.setAttribute("stroke",a.color),b.setAttribute("stroke-opacity",a.opacity),b.setAttribute("stroke-width",a.weight),b.setAttribute("stroke-linecap",a.lineCap),b.setAttribute("stroke-linejoin",a.lineJoin),
a.dashArray?b.setAttribute("stroke-dasharray",a.dashArray):b.removeAttribute("stroke-dasharray"),a.dashOffset?b.setAttribute("stroke-dashoffset",a.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),a.fill?(b.setAttribute("fill",a.fillColor||a.color),b.setAttribute("fill-opacity",a.fillOpacity),b.setAttribute("fill-rule",a.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(a,b){this._setPath(a,tc(a._parts,b))},_updateCircle:function(a){var b=
a._point,c=Math.max(Math.round(a._radius),1),d="a"+c+","+(Math.max(Math.round(a._radiusY),1)||c)+" 0 1,0 ";b=a._empty()?"M0 0":"M"+(b.x-c)+","+b.y+d+2*c+",0 "+d+2*-c+",0 ";this._setPath(a,b)},_setPath:function(a,b){a._path.setAttribute("d",b)},_bringToFront:function(a){ua(a._path)},_bringToBack:function(a){va(a._path)}});mb&&Oa.include(Rd);r.include({getRenderer:function(a){a=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;a||(a=this._renderer=this._createRenderer());
this.hasLayer(a)||this.addLayer(a);return a},_getPaneRenderer:function(a){if("overlayPane"===a||void 0===a)return!1;var b=this._paneRenderers[a];void 0===b&&(b=this._createRenderer({pane:a}),this._paneRenderers[a]=b);return b},_createRenderer:function(a){return this.options.preferCanvas&&Lc(a)||Oc(a)}});var jd=ya.extend({initialize:function(a,b){ya.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){a=
G(a);return[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});Oa.create=tb;Oa.pointsToPath=tc;ea.geometryToLayer=Ub;ea.coordsToLatLng=Vb;ea.coordsToLatLngs=ib;ea.latLngToCoords=Wb;ea.latLngsToCoords=kb;ea.getFeature=za;ea.asFeature=lb;r.mergeOptions({boxZoom:!0});var kd=Z.extend({initialize:function(a){this._map=a;this._container=a._container;this._pane=a._panes.overlayPane;this._resetStateTimeout=0;a.on("unload",this._destroy,this)},addHooks:function(){p(this._container,"mousedown",
this._onMouseDown,this)},removeHooks:function(){D(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){A(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;this._clearDeferredResetState();this._resetState();
pb();Ib();this._startPoint=this._map.mouseEventToContainerPoint(a);p(document,{contextmenu:Y,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=q("div","leaflet-zoom-box",this._container),n(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart"));this._point=this._map.mouseEventToContainerPoint(a);a=new z(this._point,this._startPoint);var b=a.getSize();E(this._box,a.min);this._box.style.width=
b.x+"px";this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(A(this._box),C(this._container,"leaflet-crosshair"));qb();Jb();D(document,{contextmenu:Y,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(1===a.which||1===a.button)this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(x(this._resetState,this),0),a=new J(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),
this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a}))},_onKeyDown:function(a){27===a.keyCode&&this._finish()}});r.addInitHook("addHandler","boxZoom",kd);r.mergeOptions({doubleClickZoom:!0});var ld=Z.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var b=this._map,c=b.getZoom(),d=b.options.zoomDelta;c=a.originalEvent.shiftKey?c-d:c+d;"center"===b.options.doubleClickZoom?
b.setZoom(c):b.setZoomAround(a.containerPoint,c)}});r.addInitHook("addHandler","doubleClickZoom",ld);r.mergeOptions({dragging:!0,inertia:!Qa,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var md=Z.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new ra(a._mapPane,a._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,
this);a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}n(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){C(this._map._container,"leaflet-grab");C(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&
this._draggable._moving},_onDragStart:function(){var a=this._map;a._stop();if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=G(this._map.options.maxBounds);this._offsetLimit=P(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart");
a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var b=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c);this._times.push(b);this._prunePositions(b)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;1<this._positions.length&&50<a-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2);this._initialWorldOffset=
this._map.latLngToLayerPoint([0,0]).subtract(a).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,b){return a-(a-b)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var a=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;a.x<b.min.x&&(a.x=this._viscousLimit(a.x,b.min.x));a.y<b.min.y&&(a.y=this._viscousLimit(a.y,b.min.y));a.x>b.max.x&&(a.x=this._viscousLimit(a.x,b.max.x));a.y>b.max.y&&(a.y=this._viscousLimit(a.y,
b.max.y));this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,b=Math.round(a/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,e=(d-b+c)%a+b-c;a=(d+b+c)%a-b-c;c=Math.abs(e+c)<Math.abs(a+c)?e:a;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=c},_onDragEnd:function(a){var b=this._map,c=b.options,d=!c.inertia||2>this._times.length;b.fire("dragend",a);if(d)b.fire("moveend");else{this._prunePositions(+new Date);
a=this._lastPos.subtract(this._positions[0]);var e=c.easeLinearity;d=a.multiplyBy(e/((this._lastTime-this._times[0])/1E3));var f=d.distanceTo([0,0]);a=Math.min(c.inertiaMaxSpeed,f);d=d.multiplyBy(a/f);var g=a/(c.inertiaDeceleration*e),h=d.multiplyBy(-g/2).round();h.x||h.y?(h=b._limitOffset(h,b.options.maxBounds),H(function(){b.panBy(h,{duration:g,easeLinearity:e,noMoveStart:!0,animate:!0})})):b.fire("moveend")}}});r.addInitHook("addHandler","dragging",md);r.mergeOptions({keyboard:!0,keyboardPanDelta:80});
var nd=Z.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a;this._setPanDelta(a.options.keyboardPanDelta);this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;0>=a.tabIndex&&(a.tabIndex="0");p(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();
D(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,b=document.documentElement,c=a.scrollTop||b.scrollTop;a=a.scrollLeft||b.scrollLeft;this._map._container.focus();window.scrollTo(a,c)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanDelta:function(a){var b=
this._panKeys={},c=this.keyCodes,d;var e=0;for(d=c.left.length;e<d;e++)b[c.left[e]]=[-1*a,0];e=0;for(d=c.right.length;e<d;e++)b[c.right[e]]=[a,0];e=0;for(d=c.down.length;e<d;e++)b[c.down[e]]=[0,a];e=0;for(d=c.up.length;e<d;e++)b[c.up[e]]=[0,-1*a]},_setZoomDelta:function(a){var b=this._zoomKeys={},c=this.keyCodes,d;var e=0;for(d=c.zoomIn.length;e<d;e++)b[c.zoomIn[e]]=a;e=0;for(d=c.zoomOut.length;e<d;e++)b[c.zoomOut[e]]=-a},_addHooks:function(){p(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){D(document,
"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var b=a.keyCode,c=this._map;if(b in this._panKeys)c._panAnim&&c._panAnim._inProgress||(b=this._panKeys[b],a.shiftKey&&(b=m(b).multiplyBy(3)),c.panBy(b),c.options.maxBounds&&c.panInsideBounds(c.options.maxBounds));else if(b in this._zoomKeys)c.setZoom(c.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[b]);else if(27===b&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Y(a)}}});r.addInitHook("addHandler",
"keyboard",nd);r.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var od=Z.extend({addHooks:function(){p(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){D(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var b=Bc(a),c=this._map.options.wheelDebounceTime;this._delta+=b;this._lastMousePos=this._map.mouseEventToContainerPoint(a);this._startTime||(this._startTime=+new Date);b=Math.max(c-
(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(x(this._performZoom,this),b);Y(a)},_performZoom:function(){var a=this._map,b=a.getZoom(),c=this._map.options.zoomSnap||0;a._stop();var d=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2;c=c?Math.ceil(d/c)*c:d;c=a._limitZoom(b+(0<this._delta?c:-c))-b;this._delta=0;this._startTime=null;c&&("center"===a.options.scrollWheelZoom?a.setZoom(b+c):a.setZoomAround(this._lastMousePos,
b+c))}});r.addInitHook("addHandler","scrollWheelZoom",od);r.mergeOptions({tap:!0,tapTolerance:15});var pd=Z.extend({addHooks:function(){p(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){D(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches)if(M(a),this._fireClick=!0,1<a.touches.length)this._fireClick=!1,clearTimeout(this._holdTimeout);else{var b=a.touches[0];a=b.target;this._startPos=this._newPos=new l(b.clientX,b.clientY);a.tagName&&
"a"===a.tagName.toLowerCase()&&n(a,"leaflet-active");this._holdTimeout=setTimeout(x(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",b))},this),1E3);this._simulateEvent("mousedown",b);p(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(a){clearTimeout(this._holdTimeout);D(document,{touchmove:this._onMove,touchend:this._onUp},this);if(this._fireClick&&a&&a.changedTouches){a=a.changedTouches[0];var b=a.target;b&&b.tagName&&
"a"===b.tagName.toLowerCase()&&C(b,"leaflet-active");this._simulateEvent("mouseup",a);this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){a=a.touches[0];this._newPos=new l(a.clientX,a.clientY);this._simulateEvent("mousemove",a)},_simulateEvent:function(a,b){var c=document.createEvent("MouseEvents");c._simulated=!0;b.target._simulatedClick=!0;c.initMouseEvent(a,!0,!0,window,1,
b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(c)}});X&&!Q&&r.addInitHook("addHandler","tap",pd);r.mergeOptions({touchZoom:X&&!Qa,bounceAtZoomLimits:!0});var qd=Z.extend({addHooks:function(){n(this._map._container,"leaflet-touch-zoom");p(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){C(this._map._container,"leaflet-touch-zoom");D(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var b=this._map;
if(a.touches&&2===a.touches.length&&!b._animatingZoom&&!this._zooming){var c=b.mouseEventToContainerPoint(a.touches[0]),d=b.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=b.getSize()._divideBy(2);this._startLatLng=b.containerPointToLatLng(this._centerPoint);"center"!==b.options.touchZoom&&(this._pinchStartLatLng=b.containerPointToLatLng(c.add(d)._divideBy(2)));this._startDist=c.distanceTo(d);this._startZoom=b.getZoom();this._moved=!1;this._zooming=!0;b._stop();p(document,"touchmove",this._onTouchMove,
this);p(document,"touchend",this._onTouchEnd,this);M(a)}},_onTouchMove:function(a){if(a.touches&&2===a.touches.length&&this._zooming){var b=this._map,c=b.mouseEventToContainerPoint(a.touches[0]),d=b.mouseEventToContainerPoint(a.touches[1]),e=c.distanceTo(d)/this._startDist;this._zoom=b.getScaleZoom(e,this._startZoom);!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&1>e||this._zoom>b.getMaxZoom()&&1<e)&&(this._zoom=b._limitZoom(this._zoom));if("center"===b.options.touchZoom){if(this._center=
this._startLatLng,1===e)return}else{c=c._add(d)._divideBy(2)._subtract(this._centerPoint);if(1===e&&0===c.x&&0===c.y)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(c),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0);I(this._animRequest);b=x(b._move,b,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=H(b,this,!0);M(a)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,I(this._animRequest),D(document,"touchmove",this._onTouchMove),
D(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});r.addInitHook("addHandler","touchZoom",qd);r.BoxZoom=kd;r.DoubleClickZoom=ld;r.Drag=md;r.Keyboard=nd;r.ScrollWheelZoom=od;r.Tap=pd;r.TouchZoom=qd;Object.freeze=Pc;h.version="1.6.0+HEAD.0c81bdf";h.Control=S;h.control=Ta;h.Browser=Id;h.Evented=
Pa;h.Mixin=Ld;h.Util=Cd;h.Class=ba;h.Handler=Z;h.extend=v;h.bind=x;h.stamp=u;h.setOptions=y;h.DomEvent=Kd;h.DomUtil=Jd;h.PosAnimation=Zc;h.Draggable=ra;h.LineUtil=Md;h.PolyUtil=Nd;h.Point=l;h.point=m;h.Bounds=z;h.bounds=P;h.Transformation=xb;h.transformation=Ia;h.Projection=Od;h.LatLng=w;h.latLng=B;h.LatLngBounds=J;h.latLngBounds=G;h.CRS=fa;h.GeoJSON=ea;h.geoJSON=Jc;h.geoJson=Jc;h.Layer=T;h.LayerGroup=Da;h.layerGroup=function(a,b){return new Da(a,b)};h.FeatureGroup=xa;h.featureGroup=function(a){return new xa(a)};
h.ImageOverlay=sb;h.imageOverlay=function(a,b,c){return new sb(a,b,c)};h.VideoOverlay=fd;h.videoOverlay=function(a,b,c){return new fd(a,b,c)};h.SVGOverlay=gd;h.svgOverlay=function(a,b,c){return new gd(a,b,c)};h.DivOverlay=ha;h.Popup=Fa;h.popup=function(a,b){return new Fa(a,b)};h.Tooltip=Ga;h.tooltip=function(a,b){return new Ga(a,b)};h.Icon=Ea;h.icon=function(a){return new Ea(a)};h.DivIcon=hd;h.divIcon=function(a){return new hd(a)};h.Marker=jb;h.marker=function(a,b){return new jb(a,b)};h.TileLayer=
Aa;h.tileLayer=Kc;h.GridLayer=Va;h.gridLayer=function(a){return new Va(a)};h.SVG=Oa;h.svg=Oc;h.Renderer=aa;h.Canvas=Nc;h.canvas=Lc;h.Path=ma;h.CircleMarker=rb;h.circleMarker=function(a,b){return new rb(a,b)};h.Circle=ic;h.circle=function(a,b,c){return new ic(a,b,c)};h.Polyline=da;h.polyline=function(a,b){return new da(a,b)};h.Polygon=ya;h.polygon=function(a,b){return new ya(a,b)};h.Rectangle=jd;h.rectangle=function(a,b){return new jd(a,b)};h.Map=r;h.map=function(a,b){return new r(a,b)};var Sd=window.L;
h.noConflict=function(){window.L=Sd;return this};window.L=h});