'use strict';!function(l,z){"object"==typeof exports&&"undefined"!=typeof module?z(exports):"function"==typeof define&&define.amd?define(["exports"],z):z((l="undefined"!=typeof globalThis?globalThis:l||self).leaflet={})}(this,function(l){function z(a){for(var b,c,d=1,e=arguments.length;d<e;d++)for(b in c=arguments[d])a[b]=c[b];return a}function lc(){}function C(a,b){var c,d=Array.prototype.slice;return a.bind?a.bind.apply(a,d.call(arguments,1)):(c=d.call(arguments,2),function(){return a.apply(b,c.length?
c.concat(d.call(arguments)):arguments)})}function x(a){return"_leaflet_id"in a||(a._leaflet_id=++mc),a._leaflet_id}function nc(a,b,c){var d,e,f=function(){d=!1;e&&(g.apply(c,e),e=!1)},g=function(){d?e=arguments:(a.apply(c,arguments),setTimeout(f,b),d=!0)};return g}function La(a,b,c){var d=b[1];b=b[0];var e=d-b;return a===d&&c?a:((a-b)%e+e)%e+b}function I(){return!1}function aa(a,b){return!1===b?a:(b=Math.pow(10,void 0===b?6:b),Math.round(a*b)/b)}function Ib(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,
"")}function sa(a){return Ib(a).split(/\s+/)}function D(a,b){for(var c in Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?fb(a.options):{}),b)a.options[c]=b[c];return a.options}function oc(a,b,c){var d,e=[];for(d in a)e.push(encodeURIComponent(c?d.toUpperCase():d)+"="+encodeURIComponent(a[d]));return(b&&-1!==b.indexOf("?")?"&":"?")+e.join("&")}function pc(a,b){return a.replace(ld,function(c,d){d=b[d];if(void 0===d)throw Error("No value provided for variable "+c);return"function"==
typeof d?d(b):d})}function Jb(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function Kb(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}function qc(a){var b=+new Date,c=Math.max(0,16-(b-rc));return rc=b+c,window.setTimeout(a,c)}function O(a,b,c){if(!c||Lb!==qc)return Lb.call(window,C(a,b));a.call(b)}function U(a){a&&sc.call(window,a)}function fa(){}function q(a,b,c){this.x=c?Math.round(a):a;this.y=c?Math.round(b):b}function p(a,b,c){return a instanceof q?a:Y(a)?new q(a[0],
a[1]):null==a?a:"object"==typeof a&&"x"in a&&"y"in a?new q(a.x,a.y):new q(a,b,c)}function E(a,b){if(a){a=b?[a,b]:a;b=0;for(var c=a.length;b<c;b++)this.extend(a[b])}}function P(a,b){return!a||a instanceof E?a:new E(a,b)}function Q(a,b){if(a){a=b?[a,b]:a;b=0;for(var c=a.length;b<c;b++)this.extend(a[b])}}function J(a,b){return a instanceof Q?a:new Q(a,b)}function A(a,b,c){if(isNaN(a)||isNaN(b))throw Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=+a;this.lng=+b;void 0!==c&&(this.alt=+c)}function v(a,
b,c){return a instanceof A?a:Y(a)&&"object"!=typeof a[0]?3===a.length?new A(a[0],a[1],a[2]):2===a.length?new A(a[0],a[1]):null:null==a?a:"object"==typeof a&&"lat"in a?new A(a.lat,"lng"in a?a.lng:a.lon,a.alt):void 0===b?null:new A(a,b,c)}function Mb(a,b,c,d){Y(a)?(this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3]):(this._a=a,this._b=b,this._c=c,this._d=d)}function Ma(a,b,c,d){return new Mb(a,b,c,d)}function tc(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function uc(a,b){for(var c,
d,e,f,g="",h=0,k=a.length;h<k;h++){c=0;for(d=(e=a[h]).length;c<d;c++)g+=(c?"L":"M")+(f=e[c]).x+" "+f.y;g+=b?m.svg?"z":"x":""}return g||"M0 0"}function ba(a){return 0<=navigator.userAgent.toLowerCase().indexOf(a)}function md(a,b,c){return"touchstart"!==b||vc||(document.addEventListener(wc,nd,!0),document.addEventListener(xc,od,!0),document.addEventListener(yc,zc,!0),document.addEventListener(Ac,zc,!0),vc=!0),Bc[b]?(c=Bc[b].bind(this,c),a.addEventListener(Nb[b],c,!1),c):(console.warn("wrong event specified:",
b),I)}function nd(a){Aa[a.pointerId]=a}function od(a){Aa[a.pointerId]&&(Aa[a.pointerId]=a)}function zc(a){delete Aa[a.pointerId]}function gb(a,b){if(b.pointerType!==(b.MSPOINTER_TYPE_MOUSE||"mouse")){for(var c in b.touches=[],Aa)b.touches.push(Aa[c]);b.changedTouches=[b];a(b)}}function pd(a,b){function c(f){var g;1!==f.detail?d=f.detail:"mouse"===f.pointerType||f.sourceCapabilities&&!f.sourceCapabilities.firesTouchEvents||(g=Cc(f)).some(function(h){return h instanceof HTMLLabelElement&&h.attributes.for})&&
!g.some(function(h){return h instanceof HTMLInputElement||h instanceof HTMLSelectElement})||(200>=(g=Date.now())-e?2===++d&&b(function(h){var k,n={};for(k in h){var u=h[k];n[k]=u&&u.bind?u.bind(h):u}return(h=n).type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}(f)):d=1,e=g)}a.addEventListener("dblclick",b);var d,e=0;return a.addEventListener("click",c),{dblclick:b,simDblclick:c}}function Dc(a){return"string"==typeof a?document.getElementById(a):a}function Na(a,b){var c=a.style[b]||a.currentStyle&&
a.currentStyle[b];return"auto"===(c=c&&"auto"!==c||!document.defaultView?c:(a=document.defaultView.getComputedStyle(a,null))?a[b]:null)?null:c}function y(a,b,c){a=document.createElement(a);return a.className=b||"",c&&c.appendChild(a),a}function F(a){var b=a.parentNode;b&&b.removeChild(a)}function hb(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ba(a){var b=a.parentNode;b&&b.lastChild!==a&&b.appendChild(a)}function Ca(a){var b=a.parentNode;b&&b.firstChild!==a&&b.insertBefore(a,b.firstChild)}
function Ob(a,b){return void 0!==a.classList?a.classList.contains(b):0<(a=ib(a)).length&&(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a)}function t(a,b){if(void 0!==a.classList){b=sa(b);var c=0;for(var d=b.length;c<d;c++)a.classList.add(b[c])}else Ob(a,b)||Pb(a,((c=ib(a))?c+" ":"")+b)}function G(a,b){void 0!==a.classList?a.classList.remove(b):Pb(a,Ib((" "+ib(a)+" ").replace(" "+b+" "," ")))}function Pb(a,b){void 0===a.className.baseVal?a.className=b:a.className.baseVal=b}function ib(a){return void 0===
(a=a.correspondingElement?a.correspondingElement:a).className.baseVal?a.className:a.className.baseVal}function V(a,b){if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style){var c=!1;try{c=a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){if(1===b)return}b=Math.round(100*b);c?(c.Enabled=100!==b,c.Opacity=b):a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+b+")"}}function jb(a){for(var b=document.documentElement.style,c=0;c<a.length;c++)if(a[c]in b)return a[c];
return!1}function ta(a,b,c){b=b||new q(0,0);a.style[Qb]=(m.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(c?" scale("+c+")":"")}function K(a,b){a._leaflet_pos=b;m.any3d?ta(a,b):(a.style.left=b.x+"px",a.style.top=b.y+"px")}function ua(a){return a._leaflet_pos||new q(0,0)}function Rb(){r(window,"dragstart",N)}function Sb(){B(window,"dragstart",N)}function Tb(a){for(;-1===a.tabIndex;)a=a.parentNode;a.style&&(kb(),Ub=(lb=a).style.outlineStyle,a.style.outlineStyle="none",
r(window,"keydown",kb))}function kb(){lb&&(lb.style.outlineStyle=Ub,Ub=lb=void 0,B(window,"keydown",kb))}function Ec(a){for(;!((a=a.parentNode).offsetWidth&&a.offsetHeight||a===document.body););return a}function Vb(a){var b=a.getBoundingClientRect();return{x:b.width/a.offsetWidth||1,y:b.height/a.offsetHeight||1,boundingClientRect:b}}function r(a,b,c,d){if(b&&"object"==typeof b)for(var e in b)Wb(a,e,b[e],c);else{e=0;for(var f=(b=sa(b)).length;e<f;e++)Wb(a,b[e],c,d)}return this}function B(a,b,c,d){if(1===
arguments.length)Fc(a),delete a[ca];else if(b&&"object"==typeof b)for(var e in b)Xb(a,e,b[e],c);else if(b=sa(b),2===arguments.length)Fc(a,function(g){return-1!==Jb(b,g)});else{e=0;for(var f=b.length;e<f;e++)Xb(a,b[e],c,d)}return this}function Fc(a,b){for(var c in a[ca]){var d=c.split(/\d/)[0];b&&!b(d)||Xb(a,d,null,null,c)}}function Wb(a,b,c,d){var e,f,g=b+x(c)+(d?"_"+x(d):"");a[ca]&&a[ca][g]||(f=e=function(h){return c.call(d||a,h||window.event)},!m.touchNative&&m.pointer&&0===b.indexOf("touch")?e=
md(a,b,e):m.touch&&"dblclick"===b?e=pd(a,e):"addEventListener"in a?"touchstart"===b||"touchmove"===b||"wheel"===b||"mousewheel"===b?a.addEventListener(Yb[b]||b,e,!!m.passiveEvents&&{passive:!1}):"mouseenter"===b||"mouseleave"===b?a.addEventListener(Yb[b],e=function(h){h=h||window.event;Zb(a,h)&&f(h)},!1):a.addEventListener(b,f,!1):a.attachEvent("on"+b,e),a[ca]=a[ca]||{},a[ca][g]=e)}function Xb(a,b,c,d,e){e=e||b+x(c)+(d?"_"+x(d):"");var f;(c=a[ca]&&a[ca][e])&&(!m.touchNative&&m.pointer&&0===b.indexOf("touch")?
(d=a,f=c,Nb[b]?d.removeEventListener(Nb[b],f,!1):console.warn("wrong event specified:",b)):m.touch&&"dblclick"===b?(d=c,(f=a).removeEventListener("dblclick",d.dblclick),f.removeEventListener("click",d.simDblclick)):"removeEventListener"in a?a.removeEventListener(Yb[b]||b,c,!1):a.detachEvent("on"+b,c),a[ca][e]=null)}function va(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function $b(a){return Wb(a,"wheel",va),this}function Oa(a){return r(a,
"mousedown touchstart dblclick contextmenu",va),a._leaflet_disable_click=!0,this}function N(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function wa(a){return N(a),va(a),this}function Cc(a){if(a.composedPath)return a.composedPath();var b=[];for(a=a.target;a;)b.push(a),a=a.parentNode;return b}function Gc(a,b){var c,d;return b?(d=(c=Vb(b)).boundingClientRect,new q((a.clientX-d.left)/c.x-b.clientLeft,(a.clientY-d.top)/c.y-b.clientTop)):new q(a.clientX,a.clientY)}function Hc(a){return m.edge?
a.wheelDeltaY/2:a.deltaY&&0===a.deltaMode?-a.deltaY/qd:a.deltaY&&1===a.deltaMode?20*-a.deltaY:a.deltaY&&2===a.deltaMode?60*-a.deltaY:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&32765>Math.abs(a.detail)?20*-a.detail:a.detail?a.detail/-32765*60:0}function Zb(a,b){b=b.relatedTarget;if(!b)return!0;try{for(;b&&b!==a;)b=b.parentNode}catch(c){return!1}return b!==a}function Pa(a){return new Z(a)}function Ic(a,b,c){for(var d,e,f,g,h,k,n=[1,4,2,8],u=0,H=a.length;u<H;u++)a[u]._code=
xa(a[u],b);for(f=0;4>f;f++){h=n[f];d=[];u=0;for(e=(H=a.length)-1;u<H;e=u++)g=a[u],e=a[e],g._code&h?e._code&h||((k=mb(e,g,h,b,c))._code=xa(k,b),d.push(k)):(e._code&h&&((k=mb(e,g,h,b,c))._code=xa(k,b),d.push(k)),d.push(g));a=d}return a}function Jc(a,b){var c,d,e;if(!a||0===a.length)throw Error("latlngs not passed");W(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var f=v([0,0]),g=J(a);g=(1700>g.getNorthWest().distanceTo(g.getSouthWest())*g.getNorthEast().distanceTo(g.getNorthWest())&&
(f=ac(a)),a.length);for(var h=[],k=0;k<g;k++){var n=v(a[k]);h.push(b.project(v([n.lat-f.lat,n.lng-f.lng])))}k=n=d=e=0;for(c=g-1;k<g;c=k++){a=h[k];c=h[c];var u=a.y*c.x-c.y*a.x;d+=(a.x+c.x)*u;e+=(a.y+c.y)*u;n+=3*u}g=0===n?h[0]:[d/n,e/n];g=b.unproject(p(g));return v([g.lat+f.lat,g.lng+f.lng])}function ac(a){for(var b=0,c=0,d=0,e=0;e<a.length;e++){var f=v(a[e]);b+=f.lat;c+=f.lng;d++}return v([b/d,c/d])}function Kc(a,b){if(b&&a.length){var c=a=function(f,g){for(var h=[f[0]],k=1,n=0,u=f.length;k<u;k++){var H=
f[k],M=f[n],da=M.x-H.x;M=M.y-H.y;da*da+M*M>g&&(h.push(f[k]),n=k)}n<u-1&&h.push(f[u-1]);return h}(a,b*=b);a=c.length;var d=new ("undefined"!=typeof Uint8Array?Uint8Array:Array)(a);d[0]=d[a-1]=1;(function H(g,h,k,n,u){var M,da,Da=0;for(da=n+1;da<=u-1;da++){var nb=Qa(g[da],g[n],g[u],!0);Da<nb&&(M=da,Da=nb)}k<Da&&(h[M]=1,H(g,h,k,n,M),H(g,h,k,M,u))})(c,d,b,0,a-1);var e=[];for(b=0;b<a;b++)d[b]&&e.push(c[b]);return e}return a.slice()}function Lc(a,b,c){return Math.sqrt(Qa(a,b,c,!0))}function Mc(a,b,c,d,
e){var f,g=d?Nc:xa(a,c),h=xa(b,c);for(Nc=h;;){if(!(g|h))return[a,b];if(g&h)return!1;var k=xa(f=mb(a,b,d=g||h,c,e),c);d===g?(a=f,g=k):(b=f,h=k)}}function mb(a,b,c,d,e){var f,g,h=b.x-a.x;b=b.y-a.y;var k=d.min;d=d.max;return 8&c?(f=a.x+h*(d.y-a.y)/b,g=d.y):4&c?(f=a.x+h*(k.y-a.y)/b,g=k.y):2&c?(f=d.x,g=a.y+b*(d.x-a.x)/h):1&c&&(f=k.x,g=a.y+b*(k.x-a.x)/h),new q(f,g,e)}function xa(a,b){var c=0;return a.x<b.min.x?c|=1:a.x>b.max.x&&(c|=2),a.y<b.min.y?c|=4:a.y>b.max.y&&(c|=8),c}function Qa(a,b,c,d){var e=b.x;
b=b.y;var f=c.x-e,g=c.y-b,h=f*f+g*g;return 0<h&&(1<(h=((a.x-e)*f+(a.y-b)*g)/h)?(e=c.x,b=c.y):0<h&&(e+=f*h,b+=g*h)),f=a.x-e,g=a.y-b,d?f*f+g*g:new q(e,b)}function W(a){return!Y(a[0])||"object"!=typeof a[0][0]&&void 0!==a[0][0]}function Oc(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),W(a)}function Pc(a,b){var c,d,e;if(!a||0===a.length)throw Error("latlngs not passed");W(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var f=
v([0,0]),g=J(a);g=(1700>g.getNorthWest().distanceTo(g.getSouthWest())*g.getNorthEast().distanceTo(g.getNorthWest())&&(f=ac(a)),a.length);for(var h=[],k=0;k<g;k++){var n=v(a[k]);h.push(b.project(v([n.lat-f.lat,n.lng-f.lng])))}for(a=k=0;k<g-1;k++)a+=h[k].distanceTo(h[k+1])/2;if(0===a)var u=h[0];else for(n=k=0;k<g-1;k++)if(c=h[k],d=h[k+1],a<(n+=e=c.distanceTo(d))){u=[d.x-(e=(n-a)/e)*(d.x-c.x),d.y-e*(d.y-c.y)];break}g=b.unproject(p(u));return v([g.lat+f.lat,g.lng+f.lng])}function ob(a,b){var c,d="Feature"===
a.type?a.geometry:a,e=d?d.coordinates:null,f=[],g=b&&b.pointToLayer,h=b&&b.coordsToLatLng||bc;if(!e&&!d)return null;switch(d.type){case "Point":return f=h(e),g?g(a,f):new Ra(f,b&&b.markersInheritOptions&&b);case "MultiPoint":var k=0;for(c=e.length;k<c;k++){var n=h(e[k]);d=f;var u=d.push,H=b;n=g?g(a,n):new Ra(n,H&&H.markersInheritOptions&&H);u.call(d,n)}return new ha(f);case "LineString":case "MultiLineString":return k=pb(e,"LineString"===d.type?0:1,h),new ia(k,b);case "Polygon":case "MultiPolygon":return k=
pb(e,"Polygon"===d.type?1:2,h),new Ea(k,b);case "GeometryCollection":k=0;for(c=d.geometries.length;k<c;k++)(g=ob({geometry:d.geometries[k],type:"Feature",properties:a.properties},b))&&f.push(g);return new ha(f);case "FeatureCollection":k=0;for(c=d.features.length;k<c;k++)(a=ob(d.features[k],b))&&f.push(a);return new ha(f);default:throw Error("Invalid GeoJSON object.");}}function bc(a){return new A(a[1],a[0],a[2])}function pb(a,b,c){for(var d,e=[],f=0,g=a.length;f<g;f++)d=b?pb(a[f],b-1,c):(c||bc)(a[f]),
e.push(d);return e}function cc(a,b){return void 0!==(a=v(a)).alt?[aa(a.lng,b),aa(a.lat,b),aa(a.alt,b)]:[aa(a.lng,b),aa(a.lat,b)]}function qb(a,b,c,d){for(var e=[],f=0,g=a.length;f<g;f++)e.push(b?qb(a[f],W(a[f])?0:b-1,c,d):cc(a[f],d));return!b&&c&&0<e.length&&e.push(e[0].slice()),e}function Fa(a,b){return a.feature?z({},a.feature,{geometry:b}):rb(b)}function rb(a){return"Feature"===a.type||"FeatureCollection"===a.type?a:{type:"Feature",properties:{},geometry:a}}function Qc(a,b){return new ja(a,b)}
function Rc(a,b){return new Ga(a,b)}function Sc(a){return m.canvas?new Tc(a):null}function Uc(a){return m.svg||m.vml?new Sa(a):null}var fb=Object.create||function(a){return lc.prototype=a,new lc},mc=0,ld=/\{ *([\w_ -]+) *\}/g,Y=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},rc=0,Lb=window.requestAnimationFrame||Kb("RequestAnimationFrame")||qc,sc=window.cancelAnimationFrame||Kb("CancelAnimationFrame")||Kb("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)},
rd={__proto__:null,extend:z,create:fb,bind:C,get lastId(){return mc},stamp:x,throttle:nc,wrapNum:La,falseFn:I,formatNum:aa,trim:Ib,splitWords:sa,setOptions:D,getParamString:oc,template:pc,isArray:Y,indexOf:Jb,emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",requestFn:Lb,cancelFn:sc,requestAnimFrame:O,cancelAnimFrame:U};fa.extend=function(a){function b(){D(this);this.initialize&&this.initialize.apply(this,arguments);this.callInitHooks()}var c=b.__super__=this.prototype,d=
fb(c);for(e in(d.constructor=b).prototype=d,this)Object.prototype.hasOwnProperty.call(this,e)&&"prototype"!==e&&"__super__"!==e&&(b[e]=this[e]);if(a.statics&&z(b,a.statics),a.includes){var e=a.includes;if("undefined"!=typeof L&&L&&L.Mixin){e=Y(e)?e:[e];for(var f=0;f<e.length;f++)e[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",Error().stack)}z.apply(null,[d].concat(a.includes))}return z(d,
a),delete d.statics,delete d.includes,d.options&&(d.options=c.options?fb(c.options):{},z(d.options,a.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this);this._initHooksCalled=!0;for(var g=0,h=d._initHooks.length;g<h;g++)d._initHooks[g].call(this)}},b};fa.include=function(a){var b=this.prototype.options;return z(this.prototype,a),a.options&&(this.prototype.options=b,this.mergeOptions(a.options)),this};fa.mergeOptions=function(a){return z(this.prototype.options,
a),this};fa.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1);return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push("function"==typeof a?a:function(){this[a].apply(this,b)}),this};var S={on:function(a,b,c){if("object"==typeof a)for(var d in a)this._on(d,a[d],b);else{d=0;for(var e=(a=sa(a)).length;d<e;d++)this._on(a[d],b,c)}return this},off:function(a,b,c){if(arguments.length)if("object"==typeof a)for(var d in a)this._off(d,a[d],b);else{a=
sa(a);d=1===arguments.length;for(var e=0,f=a.length;e<f;e++)d?this._off(a[e]):this._off(a[e],b,c)}else delete this._events;return this},_on:function(a,b,c,d){"function"!=typeof b?console.warn("wrong listener type: "+typeof b):!1===this._listens(a,b,c)&&(b={fn:b,ctx:c===this?void 0:c},d&&(b.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b))},_off:function(a,b,c){var d,e;if(this._events&&(d=this._events[a]))if(1===arguments.length){if(this._firingCount){var f=
0;for(e=d.length;f<e;f++)d[f].fn=I}delete this._events[a]}else"function"!=typeof b?console.warn("wrong listener type: "+typeof b):!1!==(b=this._listens(a,b,c))&&(c=d[b],this._firingCount&&(c.fn=I,this._events[a]=d=d.slice()),d.splice(b,1))},fire:function(a,b,c){if(this.listens(a,c)){b=z({},b,{type:a,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events){var d=this._events[a];if(d){this._firingCount=this._firingCount+1||1;for(var e=0,f=d.length;e<f;e++){var g=d[e],h=g.fn;g.once&&this.off(a,
h,g.ctx);h.call(g.ctx||this,b)}this._firingCount--}}c&&this._propagateEvent(b)}return this},listens:function(a,b,c,d){"string"!=typeof a&&console.warn('"string" type argument expected');var e=b,f=("function"!=typeof b&&(d=!!b,c=e=void 0),this._events&&this._events[a]);if(f&&f.length&&!1!==this._listens(a,e,c))return!0;if(d)for(var g in this._eventParents)if(this._eventParents[g].listens(a,b,c,d))return!0;return!1},_listens:function(a,b,c){if(this._events){a=this._events[a]||[];if(!b)return!!a.length;
c===this&&(c=void 0);for(var d=0,e=a.length;d<e;d++)if(a[d].fn===b&&a[d].ctx===c)return d}return!1},once:function(a,b,c){if("object"==typeof a)for(var d in a)this._on(d,a[d],b,!0);else{d=0;for(var e=(a=sa(a)).length;d<e;d++)this._on(a[d],b,c,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[x(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[x(a)],this},_propagateEvent:function(a){for(var b in this._eventParents)this._eventParents[b].fire(a.type,
z({layer:a.target,propagatedFrom:a.target},a),!0)}},Ta=(S.addEventListener=S.on,S.removeEventListener=S.clearAllEventListeners=S.off,S.addOneTimeEventListener=S.once,S.fireEvent=S.fire,S.hasEventListeners=S.listens,fa.extend(S)),Vc=Math.trunc||function(a){return 0<a?Math.floor(a):Math.ceil(a)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(a){return this.clone()._add(p(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(p(a))},
_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new q(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new q(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=
Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Vc(this.x),this.y=Vc(this.y),this},distanceTo:function(a){var b=(a=p(a)).x-this.x;a=a.y-this.y;return Math.sqrt(b*b+a*a)},equals:function(a){return(a=
p(a)).x===this.x&&a.y===this.y},contains:function(a){return a=p(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+aa(this.x)+", "+aa(this.y)+")"}};E.prototype={extend:function(a){var b;if(a){if(a instanceof q||"number"==typeof a[0]||"x"in a)var c=b=p(a);else if(c=(a=P(a)).min,b=a.max,!c||!b)return this;this.min||this.max?(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(b.y,
this.max.y)):(this.min=c.clone(),this.max=b.clone())}return this},getCenter:function(a){return p((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return p(this.min.x,this.max.y)},getTopRight:function(){return p(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var b,c;return(a=("number"==typeof a[0]||a instanceof q?p:P)(a))instanceof E?
(b=a.min,c=a.max):b=c=a,b.x>=this.min.x&&c.x<=this.max.x&&b.y>=this.min.y&&c.y<=this.max.y},intersects:function(a){a=P(a);var b=this.min,c=this.max,d=a.min;a=a.max;var e=a.x>=b.x&&d.x<=c.x;a=a.y>=b.y&&d.y<=c.y;return e&&a},overlaps:function(a){a=P(a);var b=this.min,c=this.max,d=a.min;a=a.max;var e=a.x>b.x&&d.x<c.x;a=a.y>b.y&&d.y<c.y;return e&&a},isValid:function(){return!(!this.min||!this.max)},pad:function(a){var b=this.min,c=this.max,d=Math.abs(b.x-c.x)*a;a*=Math.abs(b.y-c.y);return P(p(b.x-d,b.y-
a),p(c.x+d,c.y+a))},equals:function(a){return!!a&&(a=P(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight()))}};Q.prototype={extend:function(a){var b,c=this._southWest,d=this._northEast;if(a instanceof A)var e=b=a;else{if(!(a instanceof Q))return a?this.extend(v(a)||J(a)):this;if(b=a._southWest,e=a._northEast,!b||!e)return this}return c||d?(c.lat=Math.min(b.lat,c.lat),c.lng=Math.min(b.lng,c.lng),d.lat=Math.max(e.lat,d.lat),d.lng=Math.max(e.lng,d.lng)):(this._southWest=new A(b.lat,
b.lng),this._northEast=new A(e.lat,e.lng)),this},pad:function(a){var b=this._southWest,c=this._northEast,d=Math.abs(b.lat-c.lat)*a;a*=Math.abs(b.lng-c.lng);return new Q(new A(b.lat-d,b.lng-a),new A(c.lat+d,c.lng+a))},getCenter:function(){return new A((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new A(this.getNorth(),this.getWest())},
getSouthEast:function(){return new A(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a=("number"==typeof a[0]||a instanceof A||"lat"in a?v:J)(a);var b,c,d=this._southWest,e=this._northEast;return a instanceof Q?(b=a.getSouthWest(),c=a.getNorthEast()):b=c=a,b.lat>=d.lat&&c.lat<=e.lat&&b.lng>=d.lng&&c.lng<=
e.lng},intersects:function(a){a=J(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest();a=a.getNorthEast();var e=a.lat>=b.lat&&d.lat<=c.lat;a=a.lng>=b.lng&&d.lng<=c.lng;return e&&a},overlaps:function(a){a=J(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest();a=a.getNorthEast();var e=a.lat>b.lat&&d.lat<c.lat;a=a.lng>b.lng&&d.lng<c.lng;return e&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(a,b){return!!a&&
(a=J(a),this._southWest.equals(a.getSouthWest(),b)&&this._northEast.equals(a.getNorthEast(),b))},isValid:function(){return!(!this._southWest||!this._northEast)}};var ka={latLngToPoint:function(a,b){a=this.projection.project(a);b=this.scale(b);return this.transformation._transform(a,b)},pointToLatLng:function(a,b){b=this.scale(b);a=this.transformation.untransform(a,b);return this.projection.unproject(a)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},
scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){var b;return this.infinite?null:(b=this.projection.bounds,a=this.scale(a),new E(this.transformation.transform(b.min,a),this.transformation.transform(b.max,a)))},infinite:!(A.prototype={equals:function(a,b){return!!a&&(a=v(a),Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=(void 0===b?1E-9:b))},toString:function(a){return"LatLng("+aa(this.lat,a)+", "+aa(this.lng,
a)+")"},distanceTo:function(a){return oa.distance(this,v(a))},wrap:function(){return oa.wrapLatLng(this)},toBounds:function(a){a=180*a/40075017;var b=a/Math.cos(Math.PI/180*this.lat);return J([this.lat-a,this.lng-b],[this.lat+a,this.lng+b])},clone:function(){return new A(this.lat,this.lng,this.alt)}}),wrapLatLng:function(a){var b=this.wrapLng?La(a.lng,this.wrapLng,!0):a.lng;return new A(this.wrapLat?La(a.lat,this.wrapLat,!0):a.lat,b,a.alt)},wrapLatLngBounds:function(a){var b=a.getCenter(),c=this.wrapLatLng(b),
d=b.lat-c.lat;b=b.lng-c.lng;return 0==d&&0==b?a:(c=a.getSouthWest(),a=a.getNorthEast(),new Q(new A(c.lat-d,c.lng-b),new A(a.lat-d,a.lng-b)))}},oa=z({},ka,{wrapLng:[-180,180],R:6371E3,distance:function(a,b){var c=Math.PI/180,d=a.lat*c,e=b.lat*c,f=Math.sin((b.lat-a.lat)*c/2);b=Math.sin((b.lng-a.lng)*c/2);a=f*f+Math.cos(d)*Math.cos(e)*b*b;c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*c}}),la=6378137;la={R:la,MAX_LATITUDE:85.0511287798,project:function(a){var b=Math.PI/180,c=this.MAX_LATITUDE;
c=Math.max(Math.min(c,a.lat),-c);c=Math.sin(c*b);return new q(this.R*a.lng*b,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(a){var b=180/Math.PI;return new A((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*b,a.x*b/this.R)},bounds:new E([-(la*=Math.PI),-la],[la,la])};Mb.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){return a.x=(b=b||1)*(this._a*a.x+this._b),a.y=b*(this._c*a.y+this._d),a},untransform:function(a,b){return new q((a.x/(b=b||1)-this._b)/
this._a,(a.y/b-this._d)/this._c)}};var Ua=z({},oa,{code:"EPSG:3857",projection:la,transformation:Ma(Ua=.5/(Math.PI*la.R),.5,-Ua,.5)}),sd=z({},Ua,{code:"EPSG:900913"}),ma=document.documentElement.style,Ha="ActiveXObject"in window,dc=Ha&&!document.addEventListener,T="msLaunchUri"in navigator&&!("documentMode"in document),Va=ba("webkit"),sb=ba("android"),tb=ba("android 2")||ba("android 3"),ya=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10);ya=sb&&ba("Google")&&537>ya&&!("AudioNode"in window);
var za=!!window.opera,ub=!T&&ba("chrome"),vb=ba("gecko")&&!Va&&!za&&!Ha,ec=!ub&&ba("safari"),wb=ba("phantom"),R="OTransition"in ma,Wa=0===navigator.platform.indexOf("Win"),xb=Ha&&"transition"in ma,Xa="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!tb;ma="MozPerspective"in ma;var yb=!window.L_DISABLE_3D&&(xb||Xa||ma)&&!R&&!wb,pa="undefined"!=typeof orientation||ba("mobile"),zb=pa&&Va,Ab=pa&&Xa,Ya=!window.PointerEvent&&window.MSPointerEvent,Za=!(!window.PointerEvent&&!Ya),Wc="ontouchstart"in
window||!!window.TouchEvent,td=!window.L_NO_TOUCH&&(Wc||Za),ud=pa&&za,vd=pa&&vb,wd=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),xd=function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",I,b);window.removeEventListener("testPassiveEventSupport",I,b)}catch(c){}return a}(),yd=!!document.createElement("canvas").getContext,fc=!(!document.createElementNS||!tc("svg").createSVGRect),Bb=!!fc&&
((Bb=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(Bb.firstChild&&Bb.firstChild.namespaceURI)),m={ie:Ha,ielt9:dc,edge:T,webkit:Va,android:sb,android23:tb,androidStock:ya,opera:za,chrome:ub,gecko:vb,safari:ec,phantom:wb,opera12:R,win:Wa,ie3d:xb,webkit3d:Xa,gecko3d:ma,any3d:yb,mobile:pa,mobileWebkit:zb,mobileWebkit3d:Ab,msPointer:Ya,pointer:Za,touch:td,touchNative:Wc,mobileOpera:ud,mobileGecko:vd,retina:wd,passiveEvents:xd,canvas:yd,svg:fc,vml:!fc&&function(){try{var a=
document.createElement("div"),b=(a.innerHTML='<v:shape adj="1"/>',a.firstChild);return b.style.behavior="url(#default#VML)",b&&"object"==typeof b.adj}catch(c){return!1}}(),inlineSvg:Bb,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},wc=m.msPointer?"MSPointerDown":"pointerdown",xc=m.msPointer?"MSPointerMove":"pointermove",yc=m.msPointer?"MSPointerUp":"pointerup",Ac=m.msPointer?"MSPointerCancel":"pointercancel",Nb={touchstart:wc,touchmove:xc,touchend:yc,touchcancel:Ac},
Bc={touchstart:function(a,b){b.MSPOINTER_TYPE_TOUCH&&b.pointerType===b.MSPOINTER_TYPE_TOUCH&&N(b);gb(a,b)},touchmove:gb,touchend:gb,touchcancel:gb},Aa={},vc=!1,gc,Ia,$a,lb,Ub,Qb=jb(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ab=jb(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xc="webkitTransition"===ab||"OTransition"===ab?ab+"End":"transitionend";var hc="onselectstart"in document?($a=function(){r(window,"selectstart",N)},function(){B(window,
"selectstart",N)}):(Ia=jb(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),$a=function(){var a;Ia&&(a=document.documentElement.style,gc=a[Ia],a[Ia]="none")},function(){Ia&&(document.documentElement.style[Ia]=gc,gc=void 0)});Ha={__proto__:null,TRANSFORM:Qb,TRANSITION:ab,TRANSITION_END:Xc,get:Dc,getStyle:Na,create:y,remove:F,empty:hb,toFront:Ba,toBack:Ca,hasClass:Ob,addClass:t,removeClass:G,setClass:Pb,getClass:ib,setOpacity:V,testProp:jb,setTransform:ta,setPosition:K,
getPosition:ua,get disableTextSelection(){return $a},get enableTextSelection(){return hc},disableImageDrag:Rb,enableImageDrag:Sb,preventOutline:Tb,restoreOutline:kb,getSizedParentNode:Ec,getScale:Vb};var ca="_leaflet_events",Yb={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"},qd=m.linux&&m.chrome?window.devicePixelRatio:m.mac?3*window.devicePixelRatio:0<window.devicePixelRatio?2*window.devicePixelRatio:1;dc={__proto__:null,on:r,off:B,stopPropagation:va,disableScrollPropagation:$b,
disableClickPropagation:Oa,preventDefault:N,stop:wa,getPropagationPath:Cc,getMousePosition:Gc,getWheelDelta:Hc,isExternalTarget:Zb,addListener:r,removeListener:B};var Yc=Ta.extend({run:function(a,b,c,d){this.stop();this._el=a;this._inProgress=!0;this._duration=c||.25;this._easeOutPower=1/Math.max(d||.5,.2);this._startPos=ua(a);this._offset=b.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=
O(this._animate,this);this._step()},_step:function(a){var b=+new Date-this._startTime,c=1E3*this._duration;b<c?this._runFrame(this._easeOut(b/c),a):(this._runFrame(1),this._complete())},_runFrame:function(a,b){a=this._startPos.add(this._offset.multiplyBy(a));b&&a._round();K(this._el,a);this.fire("step")},_complete:function(){U(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),w=Ta.extend({options:{crs:Ua,center:void 0,zoom:void 0,
minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,b){b=D(this,b);this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this._initContainer(a);this._initLayout();this._onResize=C(this._onResize,this);this._initEvents();b.maxBounds&&this.setMaxBounds(b.maxBounds);void 0!==b.zoom&&(this._zoom=
this._limitZoom(b.zoom));b.center&&void 0!==b.zoom&&this.setView(v(b.center),b.zoom,{reset:!0});this.callInitHooks();(this._zoomAnimated=ab&&m.any3d&&!m.mobileOpera&&this.options.zoomAnimation)&&(this._createAnimProxy(),r(this._proxy,Xc,this._catchTransitionEnd,this));this._addLayers(this.options.layers)},setView:function(a,b,c){return(b=void 0===b?this._zoom:this._limitZoom(b),a=this._limitCenter(v(a),b,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&!0!==c)&&(void 0!==c.animate&&
(c.zoom=z({animate:c.animate},c.zoom),c.pan=z({animate:c.animate,duration:c.duration},c.pan)),this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,b,c.zoom):this._tryAnimatedPan(a,c.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(a,b,c.pan&&c.pan.noMoveStart),this)},setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=a,this)},zoomIn:function(a,b){return a=a||(m.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,b)},zoomOut:function(a,
b){return a=a||(m.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,b)},setZoomAround:function(a,b,c){var d=this.getZoomScale(b),e=this.getSize().divideBy(2);a=(a instanceof q?a:this.latLngToContainerPoint(a)).subtract(e).multiplyBy(1-1/d);d=this.containerPointToLatLng(e.add(a));return this.setView(d,b,{zoom:c})},_getBoundsCenterZoom:function(a,b){b=b||{};a=a.getBounds?a.getBounds():J(a);var c=p(b.paddingTopLeft||b.padding||[0,0]),d=p(b.paddingBottomRight||b.padding||[0,0]),e=this.getBoundsZoom(a,
!1,c.add(d));return(e="number"==typeof b.maxZoom?Math.min(b.maxZoom,e):e)===1/0?{center:a.getCenter(),zoom:e}:(b=d.subtract(c).divideBy(2),d=this.project(a.getSouthWest(),e),c=this.project(a.getNorthEast(),e),{center:this.unproject(d.add(c).divideBy(2).add(b),e),zoom:e})},fitBounds:function(a,b){if((a=J(a)).isValid())return a=this._getBoundsCenterZoom(a,b),this.setView(a.center,a.zoom,b);throw Error("Bounds are not valid.");},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,
b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a,b){var c;return b=b||{},(a=p(a).round()).x||a.y?(!0===b.animate||this.getSize().contains(a)?(this._panAnim||(this._panAnim=new Yc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),!1!==b.animate?(t(this._mapPane,"leaflet-pan-anim"),c=this._getMapPanePos().subtract(a).round(),this._panAnim.run(this._mapPane,c,b.duration||.25,b.easeLinearity)):(this._rawPanBy(a),this.fire("move").fire("moveend"))):
this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this):this.fire("moveend")},flyTo:function(a,b,c){function d(X){X=(u*u-n*n+2.0164*(X?-1:1)*2.0164*H*H)/(4.0328*(X?u:n)*H);X=Math.sqrt(X*X+1)-X;return 1E-9>X?-18:Math.log(X)}function e(X){return(Math.exp(X)+Math.exp(-X))/2}if(!1===(c=c||{}).animate||!m.any3d)return this.setView(a,b,c);this._stop();var f=this.project(this.getCenter()),g=this.project(a),h=this.getSize(),k=this._zoom,n=(a=v(a),b=void 0===b?k:b,Math.max(h.x,
h.y)),u=n*this.getZoomScale(k,b),H=g.distanceTo(f)||1,M=d(0),da=Date.now(),Da=(d(1)-M)/1.42,nb=c.duration?1E3*c.duration:800*Da;return this._moveStart(!0,c.noMoveStart),function zd(){var Cb=(Date.now()-da)/nb,Zc=(1-Math.pow(1-Cb,1.5))*Da;if(1>=Cb){this._flyToFrame=O(zd,this);var Ad=this._move,Bd=this.unproject,Cd=f.add,$c=g.subtract(f),Dd=$c.multiplyBy;var bb=Zc;var Ed=e(M),ad=bb=M+1.42*bb;bb=n*(Ed*((Math.exp(ad)-Math.exp(-ad))/2/e(bb))-(Math.exp(M)-Math.exp(-M))/2)/2.0164;Ad.call(this,Bd.call(this,
Cd.call(f,Dd.call($c,bb/H)),k),this.getScaleZoom(n/(Cb=Zc,n*(e(M)/e(M+1.42*Cb))),k),{flyTo:!0})}else this._move(a,b)._moveEnd(!0)}.call(this),this},flyToBounds:function(a,b){a=this._getBoundsCenterZoom(a,b);return this.flyTo(a.center,a.zoom,b)},setMaxBounds:function(a){return a=J(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):
(this.options.maxBounds=null,this)},setMinZoom:function(a){var b=this.options.minZoom;return this.options.minZoom=a,this._loaded&&b!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var b=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&b!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,b){this._enforcingBounds=!0;var c=this.getCenter();a=this._limitCenter(c,
this._zoom,J(a));return c.equals(a)||this.panTo(a,b),this._enforcingBounds=!1,this},panInside:function(a,b){var c=p((b=b||{}).paddingTopLeft||b.padding||[0,0]),d=p(b.paddingBottomRight||b.padding||[0,0]),e=this.project(this.getCenter());a=this.project(a);var f=this.getPixelBounds();c=P([f.min.add(c),f.max.subtract(d)]);f=c.getSize();return c.contains(a)||(this._enforcingBounds=!0,d=a.subtract(c.getCenter()),c=c.extend(a).getSize().subtract(f),e.x+=0>d.x?-c.x:c.x,e.y+=0>d.y?-c.y:c.y,this.panTo(this.unproject(e),
b),this._enforcingBounds=!1),this},invalidateSize:function(a){if(!this._loaded)return this;a=z({animate:!1,pan:!0},!0===a?{animate:!0}:a);var b=this.getSize(),c=(this._sizeChanged=!0,this._lastCenter=null,this.getSize()),d=b.divideBy(2).round(),e=c.divideBy(2).round();d=d.subtract(e);return d.x||d.y?(a.animate&&a.pan?this.panBy(d):(a.pan&&this._rawPanBy(d),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(C(this.fire,this,"moveend"),200)):this.fire("moveend")),
this.fire("resize",{oldSize:b,newSize:c})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){var b,c;return a=this._locateOptions=z({timeout:1E4,watch:!1},a),"geolocation"in navigator?(b=C(this._handleGeolocationResponse,this),c=C(this._handleGeolocationError,this),a.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,c,a):navigator.geolocation.getCurrentPosition(b,c,a)):this._handleGeolocationError({code:0,
message:"Geolocation not supported."}),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){var b;this._container._leaflet_id&&(b=a.code,a=a.message||(1===b?"permission denied":2===b?"position unavailable":"timeout"),this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,
message:"Geolocation error: "+a+"."}))},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var b,c,d=new A(a.coords.latitude,a.coords.longitude),e=d.toBounds(2*a.coords.accuracy),f=this._locateOptions;d=(f.setView&&(b=this.getBoundsZoom(e),this.setView(d,f.maxZoom?Math.min(b,f.maxZoom):b)),{latlng:d,bounds:e,timestamp:a.timestamp});for(c in a.coords)"number"==typeof a.coords[c]&&(d[c]=a.coords[c]);this.fire("locationfound",d)}},addHandler:function(a,b){return b&&(b=this[a]=new b(this),
this._handlers.push(b),this.options[a]&&b.enable()),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(b){this._containerId=this._container._leaflet_id=void 0}for(var a in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),F(this._mapPane),
this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[a].remove();for(a in this._panes)F(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,b){b=y("div","leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),
this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds();return new Q(this.unproject(a.getBottomLeft()),this.unproject(a.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},
getBoundsZoom:function(a,b,c){a=J(a);c=p(c||[0,0]);var d=this.getZoom()||0,e=this.getMinZoom(),f=this.getMaxZoom(),g=a.getNorthWest();a=a.getSouthEast();c=this.getSize().subtract(c);a=P(this.project(a,d),this.project(g,d)).getSize();g=m.any3d?this.options.zoomSnap:1;var h=c.x/a.x;c=c.y/a.y;a=b?Math.max(h,c):Math.min(h,c);d=this.getScaleZoom(a,d);return g&&(d=g/100*Math.round(d/(g/100)),d=b?Math.ceil(d/g)*g:Math.floor(d/g)*g),Math.max(e,Math.min(f,d))},getSize:function(){return this._size&&!this._sizeChanged||
(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,b){a=this._getTopLeftPoint(a,b);return new E(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(void 0===a?this.getZoom():a)},getPane:function(a){return"string"==typeof a?this._panes[a]:a},getPanes:function(){return this._panes},
getContainer:function(){return this._container},getZoomScale:function(a,b){var c=this.options.crs;return b=void 0===b?this._zoom:b,c.scale(a)/c.scale(b)},getScaleZoom:function(a,b){var c=this.options.crs;a=(b=void 0===b?this._zoom:b,c.zoom(a*c.scale(b)));return isNaN(a)?1/0:a},project:function(a,b){return b=void 0===b?this._zoom:b,this.options.crs.latLngToPoint(v(a),b)},unproject:function(a,b){return b=void 0===b?this._zoom:b,this.options.crs.pointToLatLng(p(a),b)},layerPointToLatLng:function(a){a=
p(a).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){return this.project(v(a))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(v(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(J(a))},distance:function(a,b){return this.options.crs.distance(v(a),v(b))},containerPointToLayerPoint:function(a){return p(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return p(a).add(this._getMapPanePos())},
containerPointToLatLng:function(a){a=this.containerPointToLayerPoint(p(a));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(v(a)))},mouseEventToContainerPoint:function(a){return Gc(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){a=
this._container=Dc(a);if(!a)throw Error("Map container not found.");if(a._leaflet_id)throw Error("Map container is already initialized.");r(a,"scroll",this._onScroll,this);this._containerId=x(a)},_initLayout:function(){var a=this._container,b=(this._fadeAnimated=this.options.fadeAnimation&&m.any3d,t(a,"leaflet-container"+(m.touch?" leaflet-touch":"")+(m.retina?" leaflet-retina":"")+(m.ielt9?" leaflet-oldie":"")+(m.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":"")),Na(a,"position"));
"absolute"!==b&&"relative"!==b&&"fixed"!==b&&"sticky"!==b&&(a.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);K(this._mapPane,new q(0,0));this.createPane("tilePane");this.createPane("overlayPane");this.createPane("shadowPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");this.options.markerZoomAnimation||
(t(a.markerPane,"leaflet-zoom-hide"),t(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,b,c){K(this._mapPane,new q(0,0));var d=!this._loaded,e=(this._loaded=!0,b=this._limitZoom(b),this.fire("viewprereset"),this._zoom!==b);this._moveStart(e,c)._move(a,b)._moveEnd(e);this.fire("viewreset");d&&this.fire("load")},_moveStart:function(a,b){return a&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(a,b,c,d){void 0===b&&(b=this._zoom);var e=this._zoom!==b;return this._zoom=
b,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),d?c&&c.pinch&&this.fire("zoom",c):((e||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){K(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||
this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(a){this._targets={};var b=a?B:r;b((this._targets[x(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this);this.options.trackResize&&b(window,"resize",this._onResize,this);m.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,
"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest);this._resizeRequest=O(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,b){for(var c,d=[],e="mouseout"===b||"mouseover"===b,f=a.target||a.srcElement,
g=!1;f;){if((c=this._targets[x(f)])&&("click"===b||"preclick"===b)&&this._draggableMoved(c)){g=!0;break}if(c&&c.listens(b,!0)){if(e&&!Zb(f,a))break;if(d.push(c),e)break}if(f===this._container)break;f=f.parentNode}return d.length||g||e||!this.listens(b,!0)?d:[this]},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var b,c=a.target||a.srcElement;!this._loaded||c._leaflet_disable_events||"click"===a.type&&this._isClickDisabled(c)||
("mousedown"===(b=a.type)&&Tb(c),this._fireDOMEvent(a,b))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,b,c){"click"===a.type&&((g=z({},a)).type="preclick",this._fireDOMEvent(g,g.type,c));var d=this._findEventTargets(a,b);if(c){var e=[];for(g=0;g<c.length;g++)c[g].listens(b,!0)&&e.push(c[g]);d=e.concat(d)}if(d.length){"contextmenu"===b&&N(a);var f,g=d[0];c={originalEvent:a};"keypress"!==a.type&&"keydown"!==a.type&&"keyup"!==a.type&&(f=g.getLatLng&&
(!g._radius||10>=g._radius),c.containerPoint=f?this.latLngToContainerPoint(g.getLatLng()):this.mouseEventToContainerPoint(a),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=f?g.getLatLng():this.layerPointToLatLng(c.layerPoint));for(g=0;g<d.length&&!(d[g].fire(b,c,!0),c.originalEvent._stopped||!1===d[g].options.bubblingMouseEvents&&-1!==Jb(this._mouseEvents,b));g++);}},_draggableMoved:function(a){return(a=a.dragging&&a.dragging.enabled()?a:this).dragging&&a.dragging.moved()||
this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,b=this._handlers.length;a<b;a++)this._handlers[a].disable()},whenReady:function(a,b){return this._loaded?a.call(b||this,{target:this}):this.on("load",a,b),this},_getMapPanePos:function(){return ua(this._mapPane)||new q(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,b){return(a&&void 0!==b?this._getNewPixelOrigin(a,b):this.getPixelOrigin()).subtract(this._getMapPanePos())},
_getNewPixelOrigin:function(a,b){var c=this.getSize()._divideBy(2);return this.project(a,b)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,b,c){c=this._getNewPixelOrigin(c,b);return this.project(a,b)._subtract(c)},_latLngBoundsToNewLayerBounds:function(a,b,c){c=this._getNewPixelOrigin(c,b);return P([this.project(a.getSouthWest(),b)._subtract(c),this.project(a.getNorthWest(),b)._subtract(c),this.project(a.getSouthEast(),b)._subtract(c),this.project(a.getNorthEast(),
b)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,b,c){var d,e;return!c||(d=this.project(a,b),e=this.getSize().divideBy(2),e=new E(d.subtract(e),d.add(e)),e=this._getBoundsOffset(e,c,b),1>=Math.abs(e.x)&&1>=Math.abs(e.y))?a:this.unproject(d.add(e),b)},_limitOffset:function(a,b){var c;return b?(c=new E((c=
this.getPixelBounds()).min.add(a),c.max.add(a)),a.add(this._getBoundsOffset(c,b))):a},_getBoundsOffset:function(a,b,c){b=P(this.project(b.getNorthEast(),c),this.project(b.getSouthWest(),c));c=b.min.subtract(a.min);b=b.max.subtract(a.max);return new q(this._rebound(c.x,-b.x),this._rebound(c.y,-b.y))},_rebound:function(a,b){return 0<a+b?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var b=this.getMinZoom(),c=this.getMaxZoom(),d=m.any3d?this.options.zoomSnap:
1;return d&&(a=Math.round(a/d)*d),Math.max(b,Math.min(c,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){G(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(a,b){a=this._getCenterOffset(a)._trunc();return!(!0!==(b&&b.animate)&&!this.getSize().contains(a))&&(this.panBy(a,b),!0)},_createAnimProxy:function(){var a=this._proxy=y("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a);this.on("zoomanim",function(b){var c=
Qb,d=this._proxy.style[c];ta(this._proxy,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1));d===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",this._animMoveEnd,this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){F(this._proxy);this.off("load moveend",this._animMoveEnd,this);delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),b=this.getZoom();ta(this._proxy,this.project(a,b),this.getZoomScale(b,
1))},_catchTransitionEnd:function(a){this._animatingZoom&&0<=a.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,c){if(!this._animatingZoom){if(c=c||{},!this._zoomAnimated||!1===c.animate||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(b);d=this._getCenterOffset(a)._divideBy(1-
1/d);if(!0!==c.animate&&!this.getSize().contains(d))return!1;O(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(a,b,!0)},this)}return!0},_animateZoom:function(a,b,c,d){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=b,t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:b,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,
!0),setTimeout(C(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&G(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}}),Z=fa.extend({options:{position:"topright"},initialize:function(a){D(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=
this._map;return b&&b.removeControl(this),this.options.position=a,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove();this._map=a;var b=this._container=this.onAdd(a),c=this.getPosition();a=a._controlCorners[c];return t(b,"leaflet-control"),-1!==c.indexOf("bottom")?a.insertBefore(b,a.firstChild):a.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(F(this._container),this.onRemove&&this.onRemove(this._map),
this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(a){this._map&&a&&0<a.screenX&&0<a.screenY&&this._map.getContainer().focus()}}),bd=(w.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){function a(d,e){b[d+e]=y("div","leaflet-"+d+" leaflet-"+e,c)}var b=this._controlCorners={},c=this._controlContainer=y("div","leaflet-control-container",this._container);a("top","left");a("top","right");
a("bottom","left");a("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)F(this._controlCorners[a]);F(this._controlContainer);delete this._controlCorners;delete this._controlContainer}}),Z.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,b,c,d){return c<d?-1:d<c?1:0}},initialize:function(a,b,c){for(var d in D(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=
!1,this._preventClick=!1,a)this._addLayer(a[d],d);for(d in b)this._addLayer(b[d],d,!0)},onAdd:function(a){this._initLayout();this._update();(this._map=a).on("zoomend",this._checkDisabledLayers,this);for(a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Z.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",
this._onLayerChange,this)},addBaseLayer:function(a,b){return this._addLayer(a,b),this._map?this._update():this},addOverlay:function(a,b){return this._addLayer(a,b,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);a=this._getLayer(x(a));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){t(this._container,"leaflet-control-layers-expanded");this._section.style.height=null;var a=this._map.getSize().y-
(this._container.offsetTop+50);return a<this._section.clientHeight?(t(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):G(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return G(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a=this._container=y("div","leaflet-control-layers"),b=this.options.collapsed,c=(a.setAttribute("aria-haspopup",!0),Oa(a),$b(a),this._section=y("section",
"leaflet-control-layers-list")),d=(b&&(this._map.on("click",this.collapse,this),r(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this)),this._layersLink=y("a","leaflet-control-layers-toggle",a));d.href="#";d.title="Layers";d.setAttribute("role","button");r(d,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){N(e);this._expandSafely()}},this);b||this.expand();this._baseLayersList=y("div","leaflet-control-layers-base",c);this._separator=y("div","leaflet-control-layers-separator",
c);this._overlaysList=y("div","leaflet-control-layers-overlays",c);a.appendChild(c)},_getLayer:function(a){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&x(this._layers[b].layer)===a)return this._layers[b]},_addLayer:function(a,b,c){this._map&&a.on("add remove",this._onLayerChange,this);this._layers.push({layer:a,name:b,overlay:c});this.options.sortLayers&&this._layers.sort(C(function(d,e){return this.options.sortFunction(d.layer,e.layer,d.name,e.name)},this));this.options.autoZIndex&&
a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex));this._expandIfNotCollapsed()},_update:function(){if(this._container){hb(this._baseLayersList);hb(this._overlaysList);this._layerControlInputs=[];for(var a,b,c,d=0,e=0;e<this._layers.length;e++)c=this._layers[e],this._addItem(c),b=b||c.overlay,a=a||!c.overlay,d+=c.overlay?0:1;this.options.hideSingleBase&&(this._baseLayersList.style.display=(a=a&&1<d)?"":"none");this._separator.style.display=b&&a?"":"none"}return this},_onLayerChange:function(a){this._handlingClick||
this._update();var b=this._getLayer(x(a.target));(a=b.overlay?"add"===a.type?"overlayadd":"overlayremove":"add"===a.type?"baselayerchange":null)&&this._map.fire(a,b)},_createRadioElement:function(a,b){a='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(b?' checked="checked"':"")+"/>";b=document.createElement("div");return b.innerHTML=a,b.firstChild},_addItem:function(a){var b,c=document.createElement("label"),d=this._map.hasLayer(a.layer);d=(a.overlay?((b=document.createElement("input")).type=
"checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=d):b=this._createRadioElement("leaflet-base-layers_"+x(this),d),this._layerControlInputs.push(b),b.layerId=x(a.layer),r(b,"click",this._onInputClick,this),document.createElement("span"));var e=(d.innerHTML=" "+a.name,document.createElement("span"));return c.appendChild(e),e.appendChild(b),e.appendChild(d),(a.overlay?this._overlaysList:this._baseLayersList).appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=
this._layerControlInputs,b=[],c=[];this._handlingClick=!0;for(var d=a.length-1;0<=d;d--){var e=a[d];var f=this._getLayer(e.layerId).layer;e.checked?b.push(f):e.checked||c.push(f)}for(d=0;d<c.length;d++)this._map.hasLayer(c[d])&&this._map.removeLayer(c[d]);for(d=0;d<b.length;d++)this._map.hasLayer(b[d])||this._map.addLayer(b[d]);this._handlingClick=!1;this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a,b,c=this._layerControlInputs,d=this._map.getZoom(),e=c.length-1;0<=e;e--)a=c[e],b=this._getLayer(a.layerId).layer,
a.disabled=void 0!==b.options.minZoom&&d<b.options.minZoom||void 0!==b.options.maxZoom&&d>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section,b=(this._preventClick=!0,r(a,"click",N),this.expand(),this);setTimeout(function(){B(a,"click",N);b._preventClick=!1})}})),ic=Z.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',
zoomOutTitle:"Zoom out"},onAdd:function(a){var b=y("div","leaflet-control-zoom leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,"leaflet-control-zoom-in",b,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,"leaflet-control-zoom-out",b,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},
disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,b,c,d,e){c=y("a",c,d);return c.innerHTML=a,c.href=
"#",c.title=b,c.setAttribute("role","button"),c.setAttribute("aria-label",b),Oa(c),r(c,"click",wa),r(c,"click",e,this),r(c,"click",this._refocusOnMap,this),c},_updateDisabled:function(){var a=this._map;G(this._zoomInButton,"leaflet-disabled");G(this._zoomOutButton,"leaflet-disabled");this._zoomInButton.setAttribute("aria-disabled","false");this._zoomOutButton.setAttribute("aria-disabled","false");!this._disabled&&a._zoom!==a.getMinZoom()||(t(this._zoomOutButton,"leaflet-disabled"),this._zoomOutButton.setAttribute("aria-disabled",
"true"));!this._disabled&&a._zoom!==a.getMaxZoom()||(t(this._zoomInButton,"leaflet-disabled"),this._zoomInButton.setAttribute("aria-disabled","true"))}}),cd=(w.mergeOptions({zoomControl:!0}),w.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ic,this.addControl(this.zoomControl))}),Z.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var b=y("div","leaflet-control-scale"),c=this.options;return this._addScales(c,"leaflet-control-scale-line",
b),a.on(c.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),b},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,c){a.metric&&(this._mScale=y("div",b,c));a.imperial&&(this._iScale=y("div",b,c))},_update:function(){var a=this._map,b=a.getSize().y/2;a=a.distance(a.containerPointToLatLng([0,b]),a.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(a)},_updateScales:function(a){this.options.metric&&
a&&this._updateMetric(a);this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var b=this._getRoundNum(a);this._updateScale(this._mScale,1E3>b?b+" m":b/1E3+" km",b/a)},_updateImperial:function(a){var b,c;a*=3.2808399;5280<a?(c=this._getRoundNum(b=a/5280),this._updateScale(this._iScale,c+" mi",c/b)):(c=this._getRoundNum(a),this._updateScale(this._iScale,c+" ft",c/a))},_updateScale:function(a,b,c){a.style.width=Math.round(this.options.maxWidth*c)+"px";a.innerHTML=b},_getRoundNum:function(a){var b=
Math.pow(10,(Math.floor(a)+"").length-1);a/=b;return b*(10<=a?10:5<=a?5:3<=a?3:2<=a?2:1)}})),jc=Z.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(m.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':
"")+"Leaflet</a>"},initialize:function(a){D(this,a);this._attributions={}},onAdd:function(a){for(var b in(a.attributionControl=this)._container=y("div","leaflet-control-attribution"),Oa(this._container),a._layers)a._layers[b].getAttribution&&this.addAttribution(a._layers[b].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),
a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a&&(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update()),this},removeAttribution:function(a){return a&&this._attributions[a]&&(this._attributions[a]--,this._update()),this},_update:function(){if(this._map){var a=[];for(b in this._attributions)this._attributions[b]&&a.push(b);
var b=[];this.options.prefix&&b.push(this.options.prefix);a.length&&b.push(a.join(", "));this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});T=(w.mergeOptions({attributionControl:!0}),w.addInitHook(function(){this.options.attributionControl&&(new jc).addTo(this)}),Z.Layers=bd,Z.Zoom=ic,Z.Scale=cd,Z.Attribution=jc,Pa.layers=function(a,b,c){return new bd(a,b,c)},Pa.zoom=function(a){return new ic(a)},Pa.scale=function(a){return new cd(a)},Pa.attribution=function(a){return new jc(a)},
fa.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}}));Va=(T.addTo=function(a,b){return a.addHandler(b,this),this},{Events:S});var dd=m.touch?"touchstart mousedown":"mousedown",qa=Ta.extend({options:{clickTolerance:3},initialize:function(a,b,c,d){D(this,d);this._element=a;this._dragStartTarget=b||
a;this._preventOutline=c},enable:function(){this._enabled||(r(this._dragStartTarget,dd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qa._dragging===this&&this.finishDrag(!0),B(this._dragStartTarget,dd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){var b,c;this._enabled&&(this._moved=!1,Ob(this._element,"leaflet-zoom-anim")||(a.touches&&1!==a.touches.length?qa._dragging===this&&this.finishDrag():qa._dragging||a.shiftKey||1!==a.which&&1!==a.button&&
!a.touches||((qa._dragging=this)._preventOutline&&Tb(this._element),Rb(),$a(),this._moving||(this.fire("down"),c=a.touches?a.touches[0]:a,b=Ec(this._element),this._startPoint=new q(c.clientX,c.clientY),this._startPos=ua(this._element),this._parentScale=Vb(b),c="mousedown"===a.type,r(document,c?"mousemove":"touchmove",this._onMove,this),r(document,c?"mouseup":"touchend touchcancel",this._onUp,this)))))},_onMove:function(a){var b;this._enabled&&(a.touches&&1<a.touches.length?this._moved=!0:!(b=(new q((b=
a.touches&&1===a.touches.length?a.touches[0]:a).clientX,b.clientY))._subtract(this._startPoint)).x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,N(a),this._moved||(this.fire("dragstart"),this._moved=!0,t(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),t(this._lastTarget,
"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=a,this._updatePosition()))},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a);K(this._element,this._newPos);this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){G(document.body,"leaflet-dragging");this._lastTarget&&(G(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);B(document,"mousemove touchmove",this._onMove,this);
B(document,"mouseup touchend touchcancel",this._onUp,this);Sb();hc();var b=this._moved&&this._moving;this._moving=!1;qa._dragging=!1;b&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}}),Nc;sb={__proto__:null,clipPolygon:Ic,polygonCenter:Jc,centroid:ac};tb={__proto__:null,simplify:Kc,pointToSegmentDistance:Lc,closestPointOnSegment:function(a,b,c){return Qa(a,b,c)},clipSegment:Mc,_getEdgeIntersection:mb,_getBitCode:xa,_sqClosestPointOnSegment:Qa,isFlat:W,_flat:Oc,
polylineCenter:Pc};ya={project:function(a){return new q(a.lng,a.lat)},unproject:function(a){return new A(a.y,a.x)},bounds:new E([-180,-90],[180,90])};za={R:6378137,R_MINOR:6356752.314245179,bounds:new E([-2.003750834279E7,-1.549657073972E7],[2.003750834279E7,1.876465623138E7]),project:function(a){var b=Math.PI/180,c=this.R,d=a.lat*b,e=this.R_MINOR/c;e=Math.sqrt(1-e*e);var f=e*Math.sin(d);f=Math.tan(Math.PI/4-d/2)/Math.pow((1-f)/(1+f),e/2);d=-c*Math.log(Math.max(f,1E-10));return new q(a.lng*b*c,d)},
unproject:function(a){var b,c=180/Math.PI,d=this.R,e=this.R_MINOR/d;e=Math.sqrt(1-e*e);var f=Math.exp(-a.y/d),g=Math.PI/2-2*Math.atan(f),h=0;for(b=.1;15>h&&1E-7<Math.abs(b);h++)b=e*Math.sin(g),b=Math.pow((1-b)/(1+b),e/2),g+=b=Math.PI/2-2*Math.atan(f*b)-g;return new A(g*c,a.x*c/d)}};ub={__proto__:null,LonLat:ya,Mercator:za,SphericalMercator:la};ec=z({},oa,{code:"EPSG:3395",projection:za,transformation:Ma(vb=.5/(Math.PI*za.R),.5,-vb,.5)});var ed=z({},oa,{code:"EPSG:4326",projection:ya,transformation:Ma(1/
180,1,-1/180,.5)});wb=z({},ka,{projection:ya,transformation:Ma(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,b){var c=b.lng-a.lng;b=b.lat-a.lat;return Math.sqrt(c*c+b*b)},infinite:!0});R=(ka.Earth=oa,ka.EPSG3395=ec,ka.EPSG3857=Ua,ka.EPSG900913=sd,ka.EPSG4326=ed,ka.Simple=wb,Ta.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||
this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[x(a)]=this},removeInteractiveTarget:function(a){return delete this._map._targets[x(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var b,c=a.target;c.hasLayer(this)&&(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents&&(b=this.getEvents(),
c.on(b,this),this.once("remove",function(){c.off(b,this)},this)),this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this}))}}));var Ja=(w.include({addLayer:function(a){var b;if(a._layerAdd)return b=x(a),this._layers[b]||((this._layers[b]=a)._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a)),this;throw Error("The provided object is not a Layer.");},removeLayer:function(a){var b=x(a);return this._layers[b]&&(this._loaded&&a.onRemove(this),delete this._layers[b],this._loaded&&
(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null),this},hasLayer:function(a){return x(a)in this._layers},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},_addLayers:function(a){for(var b=0,c=(a=a?Y(a)?a:[a]:[]).length;b<c;b++)this.addLayer(a[b])},_addZoomLimit:function(a){isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[x(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){a=x(a);this._zoomBoundLayers[a]&&
(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var a,b=1/0,c=-1/0,d=this._getZoomSpan();for(a in this._zoomBoundLayers){var e=this._zoomBoundLayers[a].options;b=void 0===e.minZoom?b:Math.min(b,e.minZoom);c=void 0===e.maxZoom?c:Math.max(c,e.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c;this._layersMinZoom=b===1/0?void 0:b;d!==this._getZoomSpan()&&this.fire("zoomlevelschange");void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&
this.setZoom(this._layersMaxZoom);void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}}),R.extend({initialize:function(a,b){var c;if(D(this,b),this._layers={},a)for(b=0,c=a.length;b<c;b++)this.addLayer(a[b])},addLayer:function(a){var b=this.getLayerId(a);return this._layers[b]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){a=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),
delete this._layers[a],this},hasLayer:function(a){return("number"==typeof a?a:this.getLayerId(a))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var b,c,d=Array.prototype.slice.call(arguments,1);for(b in this._layers)(c=this._layers[b])[a]&&c[a].apply(c,d);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);
return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:x})),ha=Ja.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Ja.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?((a=a in this._layers?this._layers[a]:a).removeEventParent(this),Ja.prototype.removeLayer.call(this,
a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a,b=new Q;for(a in this._layers){var c=this._layers[a];b.extend(c.getBounds?c.getBounds():c.getLatLng())}return b}}),Ka=fa.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){D(this,a)},createIcon:function(a){return this._createIcon("icon",
a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var c=this._getIconUrl(a);if(c)return c=this._createImg(c,b&&"IMG"===b.tagName?b:null),this._setIconStyles(c,a),!this.options.crossOrigin&&""!==this.options.crossOrigin||(c.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),c;if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");return null},_setIconStyles:function(a,b){var c=this.options,d=c[b+"Size"];d=p(d="number"==
typeof d?[d,d]:d);var e=p("shadow"===b&&c.shadowAnchor||c.iconAnchor||d&&d.divideBy(2,!0));a.className="leaflet-marker-"+b+" "+(c.className||"");e&&(a.style.marginLeft=-e.x+"px",a.style.marginTop=-e.y+"px");d&&(a.style.width=d.x+"px",a.style.height=d.y+"px")},_createImg:function(a,b){return(b=b||document.createElement("img")).src=a,b},_getIconUrl:function(a){return m.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}}),cb=Ka.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",
shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return"string"!=typeof cb.imagePath&&(cb.imagePath=this._detectIconPath()),(this.options.imagePath||cb.imagePath)+Ka.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var b=/^url\((['"])?(.+)\1\)$/,c;if(c=a=(b=b.exec(a))&&b[2])b=/^(.*)marker-icon\.png$/,c=(b=b.exec(a))&&b[1];return c},_detectIconPath:function(){var a=y("div","leaflet-default-icon-path",
document.body),b=Na(a,"background-image")||Na(a,"backgroundImage");return document.body.removeChild(a),(b=this._stripUrl(b))?b:(a=document.querySelector('link[href$="leaflet.css"]'))?a.href.substring(0,a.href.length-11-1):""}}),fd=T.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new qa(a,a,!0));this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();
t(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&G(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var b=this._marker,c=b._map,d=this._marker.options.autoPanSpeed,e=this._marker.options.autoPanPadding,f=ua(b._icon),g=c.getPixelBounds(),h=c.getPixelOrigin();
h=P(g.min._subtract(h).add(e),g.max._subtract(h).subtract(e));h.contains(f)||(e=p((Math.max(h.max.x,f.x)-h.max.x)/(g.max.x-h.max.x)-(Math.min(h.min.x,f.x)-h.min.x)/(g.min.x-h.min.x),(Math.max(h.max.y,f.y)-h.max.y)/(g.max.y-h.max.y)-(Math.min(h.min.y,f.y)-h.min.y)/(g.min.y-h.min.y)).multiplyBy(d),c.panBy(e,{animate:!1}),this._draggable._newPos._add(e),this._draggable._startPos._add(e),K(b._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=O(this._adjustPan.bind(this,a)))},_onDragStart:function(){this._oldLatLng=
this._marker.getLatLng();this._marker.closePopup&&this._marker.closePopup();this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,a)))},_onDrag:function(a){var b=this._marker,c=b._shadow,d=ua(b._icon),e=b._map.layerPointToLatLng(d);c&&K(c,d);b._latlng=e;a.latlng=e;a.oldLatLng=this._oldLatLng;b.fire("move",a).fire("drag",a)},_onDragEnd:function(a){U(this._panRequest);delete this._oldLatLng;
this._marker.fire("moveend").fire("dragend",a)}}),Ra=R.extend({options:{icon:new cb,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,b){D(this,b);this._latlng=v(a)},onAdd:function(a){(this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation)&&a.on("zoomanim",this._animateZoom,
this);this._initIcon();this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks());delete this.dragging;this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this);this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var b=this._latlng;return this._latlng=v(a),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},
setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var a;return this._icon&&this._map&&(a=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(a)),this},_initIcon:function(){var a=this.options,b="leaflet-zoom-"+
(this._zoomAnimated?"animated":"hide"),c=a.icon.createIcon(this._icon),d=!1;c=(c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,a.title&&(c.title=a.title),"IMG"===c.tagName&&(c.alt=a.alt||"")),t(c,b),a.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&r(c,"focus",this._panOnFocus,this),a.icon.createShadow(this._shadow));var e=!1;c!==this._shadow&&(this._removeShadow(),
e=!0);c&&(t(c,b),c.alt="");this._shadow=c;1>a.opacity&&this._updateOpacity();d&&this.getPane().appendChild(this._icon);this._initInteraction();c&&e&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});this.options.autoPanOnFocus&&B(this._icon,"focus",this._panOnFocus,this);F(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&
F(this._shadow);this._shadow=null},_setPos:function(a){this._icon&&K(this._icon,a);this._shadow&&K(this._shadow,a);this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(a)},_initInteraction:function(){var a;this.options.interactive&&(t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),
fd&&(a=this.options.draggable,this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new fd(this),a&&this.dragging.enable()))},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&V(this._icon,a);this._shadow&&V(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a,
b,c=this._map;c&&(a=(b=this.options.icon.options).iconSize?p(b.iconSize):p(0,0),b=b.iconAnchor?p(b.iconAnchor):p(0,0),c.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:a.subtract(b)}))},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),ra=R.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,
fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return D(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,
"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Db=ra.extend({options:{fill:!0,radius:10},initialize:function(a,b){D(this,b);
this._latlng=v(a);this._radius=this.options.radius},setLatLng:function(a){var b=this._latlng;return this._latlng=v(a),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var b=a&&a.radius||this._radius;return ra.prototype.setStyle.call(this,a),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);
this._updateBounds()},_updateBounds:function(){var a=this._radius,b=this._radiusY||a,c=this._clickTolerance();a=[a+c,b+c];this._pxBounds=new E(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),kc=Db.extend({initialize:function(a,
b,c){if(D(this,"number"==typeof b?z({},c,{radius:b}):b),this._latlng=v(a),isNaN(this.options.radius))throw Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Q(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:ra.prototype.setStyle,
_project:function(){var a,b,c,d,e,f=this._latlng.lng,g=this._latlng.lat,h=this._map,k=h.options.crs;k.distance===oa.distance?(d=Math.PI/180,e=this._mRadius/oa.R/d,a=h.project([g+e,f]),b=h.project([g-e,f]),b=a.add(b).divideBy(2),c=h.unproject(b).lat,d=Math.acos((Math.cos(e*d)-Math.sin(g*d)*Math.sin(c*d))/(Math.cos(g*d)*Math.cos(c*d)))/d,!isNaN(d)&&0!==d||(d=e/Math.cos(Math.PI/180*g)),this._point=b.subtract(h.getPixelOrigin()),this._radius=isNaN(d)?0:b.x-h.project([c,f-d]).x,this._radiusY=b.y-a.y):
(e=k.unproject(k.project(this._latlng).subtract([this._mRadius,0])),this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(e).x);this._updateBounds()}}),ia=ra.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,b){D(this,b);this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var b=1/0,c=
null,d=Qa,e=0,f=this._parts.length;e<f;e++)for(var g=this._parts[e],h=1,k=g.length;h<k;h++){var n,u,H=d(a,n=g[h-1],u=g[h],!0);H<b&&(b=H,c=d(a,n,u))}return c&&(c.distance=Math.sqrt(b)),c},getCenter:function(){if(this._map)return Pc(this._defaultShape(),this._map.options.crs);throw Error("Must add layer to map before using getCenter()");},getBounds:function(){return this._bounds},addLatLng:function(a,b){return b=b||this._defaultShape(),a=v(a),b.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=
new Q;this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return W(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var b=[],c=W(a),d=0,e=a.length;d<e;d++)c?(b[d]=v(a[d]),this._bounds.extend(b[d])):b[d]=this._convertLatLngs(a[d]);return b},_project:function(){var a=new E;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,a);this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance();
a=new q(a,a);this._rawPxBounds&&(this._pxBounds=new E([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(a,b,c){var d,e=a.length;if(a[0]instanceof A){var f=[];for(d=0;d<e;d++)f[d]=this._map.latLngToLayerPoint(a[d]),c.extend(f[d]);b.push(f)}else for(d=0;d<e;d++)this._projectLatlngs(a[d],b,c)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else for(var b,
c,d,e,f=this._parts,g=0,h=0,k=this._rings.length;g<k;g++)for(b=0,c=(e=this._rings[g]).length;b<c-1;b++)(d=Mc(e[b],e[b+1],a,b,!0))&&(f[h]=f[h]||[],f[h].push(d[0]),d[1]===e[b+1]&&b!==c-2||(f[h].push(d[1]),h++))},_simplifyPoints:function(){for(var a=this._parts,b=this.options.smoothFactor,c=0,d=a.length;c<d;c++)a[c]=Kc(a[c],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,
b){var c,d,e,f,g=this._clickTolerance();if(this._pxBounds&&this._pxBounds.contains(a)){var h=0;for(d=this._parts.length;h<d;h++){var k=0;for(c=(e=(f=this._parts[h]).length)-1;k<e;c=k++)if((b||0!==k)&&Lc(a,f[c],f[k])<=g)return!0}}return!1}});ia._flat=Oc;var Ea=ia.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(this._map)return Jc(this._defaultShape(),this._map.options.crs);throw Error("Must add layer to map before using getCenter()");
},_convertLatLngs:function(a){a=ia.prototype._convertLatLngs.call(this,a);var b=a.length;return 2<=b&&a[0]instanceof A&&a[0].equals(a[b-1])&&a.pop(),a},_setLatLngs:function(a){ia.prototype._setLatLngs.call(this,a);W(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(W(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var a=this._renderer._bounds,b=this.options.weight;b=new q(b,b);a=new E(a.min.subtract(b),a.max.add(b));if(this._parts=[],this._pxBounds&&
this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else{var c;b=0;for(var d=this._rings.length;b<d;b++)(c=Ic(this._rings[b],a,!0)).length&&this._parts.push(c)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var b,c,d,e,f=!1;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;var g=0;for(d=this._parts.length;g<d;g++){var h=0;for(c=(e=(b=this._parts[g]).length)-1;h<e;c=h++){var k=b[h];c=b[c];k.y>a.y!=c.y>a.y&&a.x<(c.x-k.x)*(a.y-
k.y)/(c.y-k.y)+k.x&&(f=!f)}}return f||ia.prototype._containsPoint.call(this,a,!0)}}),ja=ha.extend({initialize:function(a,b){D(this,b);this._layers={};a&&this.addData(a)},addData:function(a){var b,c,d=Y(a)?a:a.features;if(d){a=0;for(b=d.length;a<b;a++)((c=d[a]).geometries||c.geometry||c.features||c.coordinates)&&this.addData(c);return this}c=this.options;return c.filter&&!c.filter(a)||!(b=ob(a,c))?this:(b.feature=rb(a),b.defaultOptions=b.options,this.resetStyle(b),c.onEachFeature&&c.onEachFeature(a,
b),this.addLayer(b))},resetStyle:function(a){return void 0===a?this.eachLayer(this.resetStyle,this):(a.options=z({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){a.setStyle&&("function"==typeof b&&(b=b(a.feature)),a.setStyle(b))}});Wa={toGeoJSON:function(a){return Fa(this,{type:"Point",coordinates:cc(this.getLatLng(),a)})}};Ra.include(Wa);kc.include(Wa);Db.include(Wa);
ia.include({toGeoJSON:function(a){var b=!W(this._latlngs);return Fa(this,{type:(b?"Multi":"")+"LineString",coordinates:qb(this._latlngs,b?1:0,!1,a)})}});Ea.include({toGeoJSON:function(a){var b=!W(this._latlngs),c=b&&!W(this._latlngs[0]);a=qb(this._latlngs,c?2:b?1:0,!0,a);return Fa(this,{type:(c?"Multi":"")+"Polygon",coordinates:b?a:[a]})}});Ja.include({toMultiPoint:function(a){var b=[];return this.eachLayer(function(c){b.push(c.toGeoJSON(a).geometry.coordinates)}),Fa(this,{type:"MultiPoint",coordinates:b})},
toGeoJSON:function(a){var b,c,d=this.feature&&this.feature.geometry&&this.feature.geometry.type;return"MultiPoint"===d?this.toMultiPoint(a):(b="GeometryCollection"===d,c=[],this.eachLayer(function(e){e.toGeoJSON&&(e=e.toGeoJSON(a),b?c.push(e.geometry):"FeatureCollection"===(e=rb(e)).type?c.push.apply(c,e.features):c.push(e))}),b?Fa(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c})}});xb=Qc;var Eb=R.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,
errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,b,c){this._url=a;this._bounds=J(b);D(this,c)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity());this.options.interactive&&(t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image));this.getPane().appendChild(this._image);this._reset()},onRemove:function(){F(this._image);this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=
a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ba(this._image),this},bringToBack:function(){return this._map&&Ca(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=J(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=
this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a="IMG"===this._url.tagName,b=this._image=a?this._url:y("img");t(b,"leaflet-image-layer");this._zoomAnimated&&t(b,"leaflet-zoom-animated");this.options.className&&t(b,this.options.className);b.onselectstart=I;b.onmousemove=I;b.onload=C(this.fire,this,"load");b.onerror=C(this._overlayOnError,
this,"error");!this.options.crossOrigin&&""!==this.options.crossOrigin||(b.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin);this.options.zIndex&&this._updateZIndex();a?this._url=b.src:(b.src=this._url,b.alt=this.options.alt)},_animateZoom:function(a){var b=this._map.getZoomScale(a.zoom);a=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;ta(this._image,a,b)},_reset:function(){var a=this._image,b=new E(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),
this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=b.getSize();K(a,b.min);a.style.width=c.x+"px";a.style.height=c.y+"px"},_updateOpacity:function(){V(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),
gd=Eb.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a="VIDEO"===this._url.tagName,b=this._image=a?this._url:y("video");if(t(b,"leaflet-image-layer"),this._zoomAnimated&&t(b,"leaflet-zoom-animated"),this.options.className&&t(b,this.options.className),b.onselectstart=I,b.onmousemove=I,b.onloadeddata=C(this.fire,this,"load"),a){a=b.getElementsByTagName("source");for(var c=[],d=0;d<a.length;d++)c.push(a[d].src);this._url=0<a.length?c:[b.src]}else for(Y(this._url)||
(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(b.style,"objectFit")&&(b.style.objectFit="fill"),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,b.muted=!!this.options.muted,b.playsInline=!!this.options.playsInline,a=0;a<this._url.length;a++)c=y("source"),c.src=this._url[a],b.appendChild(c)}}),hd=Eb.extend({_initImage:function(){var a=this._image=this._url;t(a,"leaflet-image-layer");this._zoomAnimated&&t(a,"leaflet-zoom-animated");this.options.className&&
t(a,this.options.className);a.onselectstart=I;a.onmousemove=I}}),ea=R.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,b){a&&(a instanceof A||Y(a))?(this._latlng=v(a),D(this,b)):(D(this,a),this._source=b);this.options.content&&(this._content=this.options.content)},openOn:function(a){return(a=arguments.length?a:this._source._map).hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?
this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated;this._container||this._initLayout();a._fadeAnimated&&V(this._container,0);clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();a._fadeAnimated&&V(this._container,1);this.bringToFront();this.options.interactive&&(t(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?
(V(this._container,0),this._removeTimeout=setTimeout(C(F,void 0,this._container),200)):F(this._container);this.options.interactive&&(G(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=v(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},
update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ba(this._container),this},bringToBack:function(){return this._map&&
Ca(this._container),this},_prepareOpen:function(a){if(!(c=this._source)._map)return!1;if(c instanceof ha){var b,c=null,d=this._source._layers;for(b in d)if(d[b]._map){c=d[b];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else{if(!c.getBounds)throw Error("Unable to get source layer LatLng.");a=c.getBounds().getCenter()}return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,
b="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof b)a.innerHTML=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){var a,b,c;this._map&&(b=this._map.latLngToLayerPoint(this._latlng),a=p(this.options.offset),c=this._getAnchor(),this._zoomAnimated?K(this._container,b.add(c)):a=a.add(b).add(c),b=this._containerBottom=-a.y,c=this._containerLeft=-Math.round(this._containerWidth/
2)+a.x,this._container.style.bottom=b+"px",this._container.style.left=c+"px")},_getAnchor:function(){return[0,0]}}),Fb=(w.include({_initOverlay:function(a,b,c,d){var e=b;return e instanceof a||(e=(new a(d)).setContent(b)),c&&e.setLatLng(c),e}}),R.include({_initOverlay:function(a,b,c,d){var e=c;return e instanceof a?(D(e,d),e._source=this):(e=b&&!d?b:new a(d,this)).setContent(c),e}}),ea.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,
autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return!(a=arguments.length?a:this._source._map).hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,ea.prototype.openOn.call(this,a)},onAdd:function(a){ea.prototype.onAdd.call(this,a);a.fire("popupopen",{popup:this});this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ra||this._source.on("preclick",
va))},onRemove:function(a){ea.prototype.onRemove.call(this,a);a.fire("popupclose",{popup:this});this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ra||this._source.off("preclick",va))},getEvents:function(){var a=ea.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a=this._container=
y("div","leaflet-popup "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=y("div","leaflet-popup-content-wrapper",a);this._contentNode=y("div","leaflet-popup-content",b);Oa(a);$b(this._contentNode);r(a,"contextmenu",va);this._tipContainer=y("div","leaflet-popup-tip-container",a);this._tip=y("div","leaflet-popup-tip",this._tipContainer);this.options.closeButton&&((b=this._closeButton=y("a","leaflet-popup-close-button",a)).setAttribute("role","button"),b.setAttribute("aria-label",
"Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',r(b,"click",function(c){N(c);this.close()},this))},_updateLayout:function(){var a=this._contentNode,b=a.style,c=(b.width="",b.whiteSpace="nowrap",a.offsetWidth);c=Math.min(c,this.options.maxWidth);c=(c=Math.max(c,this.options.minWidth),b.width=c+1+"px",b.whiteSpace="",b.height="",a.offsetHeight);var d=this.options.maxHeight;(d&&d<c?(b.height=d+"px",t):G)(a,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},
_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);var b=this._getAnchor();K(this._container,a.add(b))},_adjustPan:function(){var a,b,c,d,e,f,g,h;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning?this._autopanning=!1:(a=this._map,b=parseInt(Na(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+b,h=this._containerWidth,(c=new q(this._containerLeft,-b-this._containerBottom))._add(ua(this._container)),c=a.layerPointToContainerPoint(c),
e=p(this.options.autoPanPadding),d=p(this.options.autoPanPaddingTopLeft||e),e=p(this.options.autoPanPaddingBottomRight||e),f=a.getSize(),g=0,c.x+h+e.x>f.x&&(g=c.x+h-f.x+e.x),c.x-g-d.x<(h=0)&&(g=c.x-d.x),c.y+b+e.y>f.y&&(h=c.y+b-f.y+e.y),0>c.y-h-d.y&&(h=c.y-d.y),(g||h)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([g,h]))))},_getAnchor:function(){return p(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}})),Gb=(w.mergeOptions({closePopupOnClick:!0}),
w.include({openPopup:function(a,b,c){return this._initOverlay(Fb,a,b,c).openOn(this),this},closePopup:function(a){return(a=arguments.length?a:this._popup)&&a.close(),this}}),R.include({bindPopup:function(a,b){return this._popup=this._initOverlay(Fb,this._popup,a,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,
keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ha||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},
setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){var b;this._popup&&this._map&&(wa(a),b=a.layer||a.target,this._popup._source!==b||b instanceof ra?(this._popup._source=b,this.openPopup(a.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng))},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){13===a.originalEvent.keyCode&&this._openPopup(a)}}),ea.extend({options:{pane:"tooltipPane",
offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){ea.prototype.onAdd.call(this,a);this.setOpacity(this.options.opacity);a.fire("tooltipopen",{tooltip:this});this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){ea.prototype.onRemove.call(this,a);a.fire("tooltipclose",{tooltip:this});this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=
ea.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){this._contentNode=this._container=y("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"));this._container.setAttribute("role","tooltip");this._container.setAttribute("id","leaflet-tooltip-"+x(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var b,c=this._map,d=this._container,e=c.latLngToContainerPoint(c.getCenter());
c=c.layerPointToContainerPoint(a);var f=this.options.direction,g=d.offsetWidth,h=d.offsetHeight,k=p(this.options.offset),n=this._getAnchor();c="top"===f?(b=g/2,h):"bottom"===f?(b=g/2,0):(b="center"===f?g/2:"right"===f?0:"left"===f?g:c.x<e.x?(f="right",0):(f="left",g+2*(k.x+n.x)),h/2);a=a.subtract(p(b,c,!0)).add(k).add(n);G(d,"leaflet-tooltip-right");G(d,"leaflet-tooltip-left");G(d,"leaflet-tooltip-top");G(d,"leaflet-tooltip-bottom");t(d,"leaflet-tooltip-"+f);K(d,a)},_updatePosition:function(){var a=
this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a;this._container&&V(this._container,a)},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(a)},_getAnchor:function(){return p(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}})),id=(w.include({openTooltip:function(a,b,c){return this._initOverlay(Gb,a,b,c).openOn(this),this},
closeTooltip:function(a){return a.close(),this}}),R.include({bindTooltip:function(a,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Gb,this._tooltip,a,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){var b,
c;!a&&this._tooltipHandlersAdded||(b=a?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[b](c),this._tooltipHandlersAdded=!a)},openTooltip:function(a){return this._tooltip&&(this instanceof ha||(this._tooltip._source=
this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},
_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var b="function"==typeof a.getElement&&a.getElement();b&&(r(b,"focus",function(){this._tooltip._source=a;this.openTooltip()},this),r(b,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){(a="function"==typeof a.getElement&&a.getElement())&&a.setAttribute("aria-describedby",this._tooltip._container.id)},
_openTooltip:function(a){var b;this._tooltip&&this._map&&(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag?(this._openOnceFlag=!0,(b=this)._map.once("moveend",function(){b._openOnceFlag=!1;b._openTooltip(a)})):(this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)))},_moveTooltip:function(a){var b=a.latlng;this._tooltip.options.sticky&&a.originalEvent&&(a=this._map.mouseEventToContainerPoint(a.originalEvent),a=this._map.containerPointToLayerPoint(a),
b=this._map.layerPointToLatLng(a));this._tooltip.setLatLng(b)}}),Ka.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){a=a&&"DIV"===a.tagName?a:document.createElement("div");var b=this.options;return b.html instanceof Element?(hb(a),a.appendChild(b.html)):a.innerHTML=!1!==b.html?b.html:"",b.bgPos&&(b=p(b.bgPos),a.style.backgroundPosition=-b.x+"px "+-b.y+"px"),this._setIconStyles(a,"icon"),a},createShadow:function(){return null}}));Ka.Default=
cb;var db=R.extend({options:{tileSize:256,opacity:1,updateWhenIdle:m.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){D(this,a)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles();F(this._container);a._removeZoomLimit(this);
this._container=null;this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ba(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ca(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){var a;
return this._map&&(this._removeAllTiles(),(a=this._clampZoom(this._map.getZoom()))!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()),this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=nc(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},
getTileSize:function(){var a=this.options.tileSize;return a instanceof q?a:new q(a,a)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var b,c=this.getPane().children,d=-a(-1/0,1/0),e=0,f=c.length;e<f;e++)b=c[e].style.zIndex,c[e]!==this._container&&b&&(d=a(d,+b));isFinite(d)&&(this.options.zIndex=d+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&
!m.ielt9){V(this._container,this.options.opacity);var a,b=+new Date,c=!1,d=!1;for(a in this._tiles){var e,f=this._tiles[a];f.current&&f.loaded&&(e=Math.min(1,(b-f.loaded)/200),V(f.el,e),1>e?c=!0:(f.active?d=!0:this._onOpaqueTile(f),f.active=!0))}d&&!this._noPrune&&this._pruneTiles();c&&(U(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:I,_initContainer:function(){this._container||(this._container=y("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),
1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,b=this.options.maxZoom;if(void 0!==a){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===a?(this._levels[c].el.style.zIndex=b-Math.abs(a-c),this._onUpdateLevel(c)):(F(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);c=this._levels[a];var d=this._map;return c||((c=this._levels[a]={}).el=y("div",
"leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=b,c.origin=d.project(d.unproject(d.getPixelOrigin()),a).round(),c.zoom=a,this._setZoomTransform(c,d.getCenter(),d.getZoom()),this._onCreateLevel(c)),this._level=c}},_onUpdateLevel:I,_onRemoveLevel:I,_onCreateLevel:I,_pruneTiles:function(){if(this._map){var a,b,c,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom)this._removeAllTiles();else{for(a in this._tiles)(c=this._tiles[a]).retain=c.current;
for(a in this._tiles)(c=this._tiles[a]).current&&!c.active&&(b=c.coords,this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2));for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}}},_removeTilesAtZoom:function(a){for(var b in this._tiles)this._tiles[b].coords.z===a&&this._removeTile(b)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)F(this._levels[a].el),this._onRemoveLevel(Number(a)),
delete this._levels[a];this._removeAllTiles();this._tileZoom=void 0},_retainParent:function(a,b,c,d){a=Math.floor(a/2);b=Math.floor(b/2);--c;var e=new q(+a,+b);e=(e.z=c,this._tileCoordsToKey(e));return(e=this._tiles[e])&&e.active?e.retain=!0:(e&&e.loaded&&(e.retain=!0),d<c&&this._retainParent(a,b,c,d))},_retainChildren:function(a,b,c,d){for(var e=2*a;e<2*a+2;e++)for(var f=2*b;f<2*b+2;f++){var g=new q(e,f);g=(g.z=c+1,this._tileCoordsToKey(g));(g=this._tiles[g])&&g.active?g.retain=!0:(g&&g.loaded&&
(g.retain=!0),c+1<d&&this._retainChildren(e,f,c+1,d))}},_resetView:function(a){a=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var b=this.options;return void 0!==b.minNativeZoom&&a<b.minNativeZoom?b.minNativeZoom:void 0!==b.maxNativeZoom&&b.maxNativeZoom<a?b.maxNativeZoom:a},_setView:function(a,b,c,d){var e=Math.round(b);e=void 0!==this.options.maxZoom&&e>this.options.maxZoom||
void 0!==this.options.minZoom&&e<this.options.minZoom?void 0:this._clampZoom(e);var f=this.options.updateWhenZooming&&e!==this._tileZoom;d&&!f||(this._tileZoom=e,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==e&&this._update(a),c||this._pruneTiles(),this._noPrune=!!c);this._setZoomTransforms(a,b)},_setZoomTransforms:function(a,b){for(var c in this._levels)this._setZoomTransform(this._levels[c],a,b)},_setZoomTransform:function(a,b,c){var d=this._map.getZoomScale(c,
a.zoom);b=a.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(b,c)).round();m.any3d?ta(a.el,b,d):K(a.el,b)},_resetGrid:function(){var a=this._map,b=a.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,e=this._map.getPixelWorldBounds(this._tileZoom);e&&(this._globalTileRange=this._pxBoundsToTileRange(e));this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,b.wrapLng[0]],d).x/c.x),Math.ceil(a.project([0,b.wrapLng[1]],d).x/c.y)];this._wrapY=b.wrapLat&&!this.options.noWrap&&
[Math.floor(a.project([b.wrapLat[0],0],d).y/c.x),Math.ceil(a.project([b.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(a){var b=this._map,c=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom();c=b.getZoomScale(c,this._tileZoom);a=b.project(a,this._tileZoom).floor();b=b.getSize().divideBy(2*c);return new E(a.subtract(b),a.add(b))},_update:function(a){var b=this._map;if(b){var c=this._clampZoom(b.getZoom());
if(void 0===a&&(a=b.getCenter()),void 0!==this._tileZoom){b=this._getTiledPixelBounds(a);var d=this._pxBoundsToTileRange(b),e=d.getCenter(),f=[];b=this.options.keepBuffer;b=new E(d.getBottomLeft().subtract([b,-b]),d.getTopRight().add([b,-b]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw Error("Attempted to load an infinite number of tiles");for(k in this._tiles){var g=this._tiles[k].coords;g.z===this._tileZoom&&b.contains(new q(g.x,g.y))||(this._tiles[k].current=
!1)}if(1<Math.abs(c-this._tileZoom))this._setView(a,c);else{for(c=d.min.y;c<=d.max.y;c++)for(a=d.min.x;a<=d.max.x;a++){var h;var k=new q(a,c);k.z=this._tileZoom;this._isValidTile(k)&&((h=this._tiles[this._tileCoordsToKey(k)])?h.current=!0:f.push(k))}if(f.sort(function(n,u){return n.distanceTo(e)-u.distanceTo(e)}),0!==f.length){this._loading||(this._loading=!0,this.fire("loading"));d=document.createDocumentFragment();for(a=0;a<f.length;a++)this._addTile(f[a],d);this._level.el.appendChild(d)}}}}},_isValidTile:function(a){var b=
this._map.options.crs;if(!b.infinite){var c=this._globalTileRange;if(!b.wrapLng&&(a.x<c.min.x||a.x>c.max.x)||!b.wrapLat&&(a.y<c.min.y||a.y>c.max.y))return!1}return!this.options.bounds||(b=this._tileCoordsToBounds(a),J(this.options.bounds).overlaps(b))},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var b=this._map,c=this.getTileSize(),d=a.scaleBy(c);c=d.add(c);return[b.unproject(d,a.z),b.unproject(c,a.z)]},_tileCoordsToBounds:function(a){a=
this._tileCoordsToNwSe(a);a=new Q(a[0],a[1]);return this.options.noWrap?a:this._map.wrapLatLngBounds(a)},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){a=a.split(":");var b=new q(+a[0],+a[1]);return b.z=+a[2],b},_removeTile:function(a){var b=this._tiles[a];b&&(F(b.el),delete this._tiles[a],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){t(a,"leaflet-tile");var b=this.getTileSize();a.style.width=b.x+"px";a.style.height=
b.y+"px";a.onselectstart=I;a.onmousemove=I;m.ielt9&&1>this.options.opacity&&V(a,this.options.opacity)},_addTile:function(a,b){var c=this._getTilePos(a),d=this._tileCoordsToKey(a),e=this.createTile(this._wrapCoords(a),C(this._tileReady,this,a));this._initTile(e);2>this.createTile.length&&O(C(this._tileReady,this,a,null,e));K(e,c);this._tiles[d]={el:e,coords:a,current:!0};b.appendChild(e);this.fire("tileloadstart",{tile:e,coords:a})},_tileReady:function(a,b,c){b&&this.fire("tileerror",{error:b,tile:c,
coords:a});var d=this._tileCoordsToKey(a);(c=this._tiles[d])&&(c.loaded=+new Date,this._map._fadeAnimated?(V(c.el,0),U(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),b||(t(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),m.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(C(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},
_wrapCoords:function(a){var b=new q(this._wrapX?La(a.x,this._wrapX):a.x,this._wrapY?La(a.y,this._wrapY):a.y);return b.z=a.z,b},_pxBoundsToTileRange:function(a){var b=this.getTileSize();return new E(a.min.unscaleBy(b).floor(),a.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}}),Ga=db.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,
referrerPolicy:!1},initialize:function(a,b){this._url=a;(b=D(this,b)).detectRetina&&m.retina&&0<b.maxZoom?(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom=Math.min(b.maxZoom,b.minZoom+1)):(b.zoomOffset++,b.maxZoom=Math.max(b.minZoom,b.maxZoom-1)),b.minZoom=Math.max(0,b.minZoom)):b.zoomReverse?b.minZoom=Math.min(b.maxZoom,b.minZoom):b.maxZoom=Math.max(b.minZoom,b.maxZoom);"string"==typeof b.subdomains&&(b.subdomains=b.subdomains.split(""));this.on("tileunload",this._onTileRemove)},
setUrl:function(a,b){return this._url===a&&void 0===b&&(b=!0),this._url=a,b||this.redraw(),this},createTile:function(a,b){var c=document.createElement("img");return r(c,"load",C(this._tileOnLoad,this,b,c)),r(c,"error",C(this._tileOnError,this,b,c)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(c.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(a),
c},getTileUrl:function(a){var b={r:m.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(a=this._globalTileRange.max.y-a.y,this.options.tms&&(b.y=a),b["-y"]=a),pc(this._url,z(b,this.options))},_tileOnLoad:function(a,b){m.ielt9?setTimeout(C(a,this,null,b),0):a(null,b)},_tileOnError:function(a,b,c){var d=this.options.errorTileUrl;d&&b.getAttribute("src")!==d&&(b.src=d);a(c,b)},_onTileRemove:function(a){a.tile.onload=null},
_getZoomForUrl:function(){var a=this._tileZoom,b=this.options.maxZoom;return(this.options.zoomReverse?b-a:a)+this.options.zoomOffset},_getSubdomain:function(a){a=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var a,b,c;for(a in this._tiles)this._tiles[a].coords.z!==this._tileZoom&&((c=this._tiles[a].el).onload=I,c.onerror=I,c.complete||(c.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",b=this._tiles[a].coords,F(c),delete this._tiles[a],
this.fire("tileabort",{tile:c,coords:b})))},_removeTile:function(a){var b=this._tiles[a];if(b)return b.el.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),db.prototype._removeTile.call(this,a)},_tileReady:function(a,b,c){if(this._map&&(!c||"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="!==c.getAttribute("src")))return db.prototype._tileReady.call(this,a,b,c)}}),jd=Ga.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",
transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,b){this._url=a;var c,d=z({},this.defaultWmsParams);for(c in b)c in this.options||(d[c]=b[c]);a=D(this,b).detectRetina&&m.retina?2:1;b=this.getTileSize();d.width=b.x*a;d.height=b.y*a;this.wmsParams=d},onAdd:function(a){this._crs=this.options.crs||a.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;Ga.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=
this._tileCoordsToNwSe(a),c=this._crs;c=P(c.project(b[0]),c.project(b[1]));b=c.min;c=c.max;b=(1.3<=this._wmsVersion&&this._crs===ed?[b.y,b.x,c.y,c.x]:[b.x,b.y,c.x,c.y]).join(",");c=Ga.prototype.getTileUrl.call(this,a);return c+oc(this.wmsParams,c,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+b},setParams:function(a,b){return z(this.wmsParams,a),b||this.redraw(),this}});Ga.WMS=jd;Rc.wms=function(a,b){return new jd(a,b)};var na=R.extend({options:{padding:.1},initialize:function(a){D(this,
a);x(this);this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),t(this._container,"leaflet-zoom-animated"));this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),
a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,b){var c=this._map.getZoomScale(b,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),e=this._map.project(this._center,b);d=d.multiplyBy(-c).add(e).subtract(this._map._getNewPixelOrigin(a,b));m.any3d?ta(this._container,d,c):K(this._container,d)},_reset:function(){for(var a in this._update(),this._updateTransform(this._center,
this._zoom),this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,b=this._map.getSize(),c=this._map.containerPointToLayerPoint(b.multiplyBy(-a)).round();this._bounds=new E(c,c.add(b.multiplyBy(1+2*a)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}}),Tc=na.extend({options:{tolerance:0},getEvents:function(){var a=
na.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){na.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");r(a,"mousemove",this._onMouseMove,this);r(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this);r(a,"mouseout",this._handleMouseOut,this);a._leaflet_disable_events=!0;this._ctx=a.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest);
delete this._ctx;F(this._container);B(this._container);delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var a in this._redrawBounds=null,this._layers)this._layers[a]._update();this._redraw()}},_update:function(){var a,b,c,d;this._map._animatingZoom&&this._bounds||(na.prototype._update.call(this),a=this._bounds,b=this._container,c=a.getSize(),d=m.retina?2:1,K(b,a.min),b.width=d*c.x,b.height=d*c.y,b.style.width=c.x+"px",b.style.height=c.y+"px",m.retina&&this._ctx.scale(2,
2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update"))},_reset:function(){na.prototype._reset.call(this);this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a);a=(this._layers[x(a)]=a)._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a);this._drawLast=a;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var b=a._order,
c=b.next;b=b.prev;c?c.prev=b:this._drawLast=b;b?b.next=c:this._drawFirst=c;delete a._order;delete this._layers[x(a)];this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a);a._project();a._update();this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a);this._requestRedraw(a)},_updateDashArray:function(a){if("string"==typeof a.options.dashArray){for(var b,c=a.options.dashArray.split(/[, ]+/),d=[],e=0;e<c.length;e++){if(b=Number(c[e]),isNaN(b))return;d.push(b)}a.options._dashArray=
d}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(a){var b;a._pxBounds&&(b=(a.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new E,this._redrawBounds.extend(a._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(a._pxBounds.max.add([b,b])))},_redraw:function(){this._redrawRequest=null;this._redrawBounds&&(this._redrawBounds.min._floor(),
this._redrawBounds.max._ceil());this._clear();this._draw();this._redrawBounds=null},_clear:function(){var a,b=this._redrawBounds;b?(a=b.getSize(),this._ctx.clearRect(b.min.x,b.min.y,a.x,a.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var a,b=this._redrawBounds;this._ctx.save();b&&(a=b.getSize(),this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,a.x,a.y),this._ctx.clip());this._drawing=
!0;for(var c=this._drawFirst;c;c=c.next)a=c.layer,(!b||a._pxBounds&&a._pxBounds.intersects(b))&&a._updatePath();this._drawing=!1;this._ctx.restore()},_updatePoly:function(a,b){if(this._drawing){var c,d,e=a._parts,f=e.length,g=this._ctx;if(f){g.beginPath();for(c=0;c<f;c++){var h=0;for(d=e[c].length;h<d;h++){var k=e[c][h];g[h?"lineTo":"moveTo"](k.x,k.y)}b&&g.closePath()}this._fillStroke(g,a)}}},_updateCircle:function(a){var b,c,d,e;this._drawing&&!a._empty()&&(b=a._point,c=this._ctx,d=Math.max(Math.round(a._radius),
1),1!=(e=(Math.max(Math.round(a._radiusY),1)||d)/d)&&(c.save(),c.scale(1,e)),c.beginPath(),c.arc(b.x,b.y/e,d,0,2*Math.PI,!1),1!=e&&c.restore(),this._fillStroke(c,a))},_fillStroke:function(a,b){var c=b.options;c.fill&&(a.globalAlpha=c.fillOpacity,a.fillStyle=c.fillColor||c.color,a.fill(c.fillRule||"evenodd"));c.stroke&&0!==c.weight&&(a.setLineDash&&a.setLineDash(b.options&&b.options._dashArray||[]),a.globalAlpha=c.opacity,a.lineWidth=c.weight,a.strokeStyle=c.color,a.lineCap=c.lineCap,a.lineJoin=c.lineJoin,
a.stroke())},_onClick:function(a){for(var b,c,d=this._map.mouseEventToLayerPoint(a),e=this._drawFirst;e;e=e.next)(b=e.layer).options.interactive&&b._containsPoint(d)&&(("click"===a.type||"preclick"===a.type)&&this._map._draggableMoved(b)||(c=b));this._fireEvent(!!c&&[c],a)},_onMouseMove:function(a){var b;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(b=this._map.mouseEventToLayerPoint(a),this._handleMouseHover(a,b))},_handleMouseOut:function(a){var b=this._hoveredLayer;b&&(G(this._container,
"leaflet-interactive"),this._fireEvent([b],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,b){if(!this._mouseHoverThrottled){for(var c,d,e=this._drawFirst;e;e=e.next)(c=e.layer).options.interactive&&c._containsPoint(b)&&(d=c);d!==this._hoveredLayer&&(this._handleMouseOut(a),d&&(t(this._container,"leaflet-interactive"),this._fireEvent([d],a,"mouseover"),this._hoveredLayer=d));this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],a);this._mouseHoverThrottled=
!0;setTimeout(C(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,b,c){this._map._fireDOMEvent(b,c||b.type,a)},_bringToFront:function(a){var b,c,d=a._order;d&&(b=d.next,c=d.prev,b&&((b.prev=c)?c.next=b:b&&(this._drawFirst=b),d.prev=this._drawLast,(this._drawLast.next=d).next=null,this._drawLast=d,this._requestRedraw(a)))},_bringToBack:function(a){var b,c,d=a._order;d&&(b=d.next,(c=d.prev)&&((c.next=b)?b.prev=c:c&&(this._drawLast=c),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=
d,this._drawFirst=d,this._requestRedraw(a)))}}),eb=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch(a){}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}();Xa={_initContainer:function(){this._container=y("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(na.prototype._update.call(this),this.fire("update"))},
_initPath:function(a){var b=a._container=eb("shape");t(b,"leaflet-vml-shape "+(this.options.className||""));b.coordsize="1 1";a._path=eb("path");b.appendChild(a._path);this._updateStyle(a);this._layers[x(a)]=a},_addPath:function(a){var b=a._container;this._container.appendChild(b);a.options.interactive&&a.addInteractiveTarget(b)},_removePath:function(a){var b=a._container;F(b);a.removeInteractiveTarget(b);delete this._layers[x(a)]},_updateStyle:function(a){var b=a._stroke,c=a._fill,d=a.options,e=
a._container;e.stroked=!!d.stroke;e.filled=!!d.fill;d.stroke?(b=b||(a._stroke=eb("stroke")),e.appendChild(b),b.weight=d.weight+"px",b.color=d.color,b.opacity=d.opacity,d.dashArray?b.dashStyle=Y(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=d.lineCap.replace("butt","flat"),b.joinstyle=d.lineJoin):b&&(e.removeChild(b),a._stroke=null);d.fill?(c=c||(a._fill=eb("fill")),e.appendChild(c),c.color=d.fillColor||d.color,c.opacity=d.fillOpacity):c&&(e.removeChild(c),
a._fill=null)},_updateCircle:function(a){var b=a._point.round(),c=Math.round(a._radius),d=Math.round(a._radiusY||c);this._setPath(a,a._empty()?"M0 0":"AL "+b.x+","+b.y+" "+c+","+d+" 0,23592600")},_setPath:function(a,b){a._path.v=b},_bringToFront:function(a){Ba(a._container)},_bringToBack:function(a){Ca(a._container)}};var Hb=m.vml?eb:tc,Sa=na.extend({_initContainer:function(){this._container=Hb("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=Hb("g");this._container.appendChild(this._rootGroup)},
_destroyContainer:function(){F(this._container);B(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_update:function(){var a,b,c;this._map._animatingZoom&&this._bounds||(na.prototype._update.call(this),b=(a=this._bounds).getSize(),c=this._container,this._svgSize&&this._svgSize.equals(b)||(this._svgSize=b,c.setAttribute("width",b.x),c.setAttribute("height",b.y)),K(c,a.min),c.setAttribute("viewBox",[a.min.x,a.min.y,b.x,b.y].join(" ")),this.fire("update"))},_initPath:function(a){var b=
a._path=Hb("path");a.options.className&&t(b,a.options.className);a.options.interactive&&t(b,"leaflet-interactive");this._updateStyle(a);this._layers[x(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer();this._rootGroup.appendChild(a._path);a.addInteractiveTarget(a._path)},_removePath:function(a){F(a._path);a.removeInteractiveTarget(a._path);delete this._layers[x(a)]},_updatePath:function(a){a._project();a._update()},_updateStyle:function(a){var b=a._path;a=a.options;b&&(a.stroke?(b.setAttribute("stroke",
a.color),b.setAttribute("stroke-opacity",a.opacity),b.setAttribute("stroke-width",a.weight),b.setAttribute("stroke-linecap",a.lineCap),b.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?b.setAttribute("stroke-dasharray",a.dashArray):b.removeAttribute("stroke-dasharray"),a.dashOffset?b.setAttribute("stroke-dashoffset",a.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),a.fill?(b.setAttribute("fill",a.fillColor||a.color),b.setAttribute("fill-opacity",a.fillOpacity),
b.setAttribute("fill-rule",a.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(a,b){this._setPath(a,uc(a._parts,b))},_updateCircle:function(a){var b=a._point,c=Math.max(Math.round(a._radius),1),d="a"+c+","+(Math.max(Math.round(a._radiusY),1)||c)+" 0 1,0 ";b=a._empty()?"M0 0":"M"+(b.x-c)+","+b.y+d+2*c+",0 "+d+2*-c+",0 ";this._setPath(a,b)},_setPath:function(a,b){a._path.setAttribute("d",b)},_bringToFront:function(a){Ba(a._path)},_bringToBack:function(a){Ca(a._path)}});m.vml&&
Sa.include(Xa);w.include({getRenderer:function(a){a=(a=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer());return this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(a){var b;return"overlayPane"!==a&&void 0!==a&&(void 0===(b=this._paneRenderers[a])&&(b=this._createRenderer({pane:a}),this._paneRenderers[a]=b),b)},_createRenderer:function(a){return this.options.preferCanvas&&Sc(a)||Uc(a)}});var kd=Ea.extend({initialize:function(a,
b){Ea.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return[(a=J(a)).getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});Sa.create=Hb;Sa.pointsToPath=uc;ja.geometryToLayer=ob;ja.coordsToLatLng=bc;ja.coordsToLatLngs=pb;ja.latLngToCoords=cc;ja.latLngsToCoords=qb;ja.getFeature=Fa;ja.asFeature=rb;w.mergeOptions({boxZoom:!0});ma=T.extend({initialize:function(a){this._map=
a;this._container=a._container;this._pane=a._panes.overlayPane;this._resetStateTimeout=0;a.on("unload",this._destroy,this)},addHooks:function(){r(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){B(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){F(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),
this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;this._clearDeferredResetState();this._resetState();$a();Rb();this._startPoint=this._map.mouseEventToContainerPoint(a);r(document,{contextmenu:wa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=y("div","leaflet-zoom-box",this._container),t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart"));
this._point=this._map.mouseEventToContainerPoint(a);a=new E(this._point,this._startPoint);var b=a.getSize();K(this._box,a.min);this._box.style.width=b.x+"px";this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(F(this._box),G(this._container,"leaflet-crosshair"));hc();Sb();B(document,{contextmenu:wa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){1!==a.which&&1!==a.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),
this._resetStateTimeout=setTimeout(C(this._resetState,this),0),a=new Q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})))},_onKeyDown:function(a){27===a.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});yb=(w.addInitHook("addHandler","boxZoom",ma),w.mergeOptions({doubleClickZoom:!0}),T.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},
removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var b=this._map,c=b.getZoom(),d=b.options.zoomDelta;c=a.originalEvent.shiftKey?c-d:c+d;"center"===b.options.doubleClickZoom?b.setZoom(c):b.setZoomAround(a.containerPoint,c)}}));pa=(w.addInitHook("addHandler","doubleClickZoom",yb),w.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),T.extend({addHooks:function(){var a;
this._draggable||(a=this._map,this._draggable=new qa(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this)));t(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},
removeHooks:function(){G(this._map._container,"leaflet-grab");G(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a,b=this._map;b._stop();this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(a=J(this._map.options.maxBounds),this._offsetLimit=P(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),
this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null;b.fire("movestart").fire("dragstart");b.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){var b,c;this._map.options.inertia&&(b=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(c),this._times.push(b),this._prunePositions(b));
this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;1<this._positions.length&&50<a-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(a).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,b){return a-(a-b)*this._viscosity},_onPreDragLimit:function(){var a,b;this._viscosity&&this._offsetLimit&&(a=this._draggable._newPos.subtract(this._draggable._startPos),
b=this._offsetLimit,a.x<b.min.x&&(a.x=this._viscousLimit(a.x,b.min.x)),a.y<b.min.y&&(a.y=this._viscousLimit(a.y,b.min.y)),a.x>b.max.x&&(a.x=this._viscousLimit(a.x,b.max.x)),a.y>b.max.y&&(a.y=this._viscousLimit(a.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(a))},_onPreDragWrap:function(){var a=this._worldWidth,b=Math.round(a/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,e=(d-b+c)%a+b-c;d=(d+b+c)%a-b-c;a=Math.abs(e+c)<Math.abs(d+c)?e:d;this._draggable._absPos=this._draggable._newPos.clone();
this._draggable._newPos.x=a},_onDragEnd:function(a){var b,c,d,e,f=this._map,g=f.options,h=!g.inertia||a.noInertia||2>this._times.length;f.fire("dragend",a);!h&&(this._prunePositions(+new Date),a=this._lastPos.subtract(this._positions[0]),h=(this._lastTime-this._times[0])/1E3,b=g.easeLinearity,h=(a=a.multiplyBy(b/h)).distanceTo([0,0]),c=Math.min(g.inertiaMaxSpeed,h),a=a.multiplyBy(c/h),d=c/(g.inertiaDeceleration*b),(e=a.multiplyBy(-d/2).round()).x||e.y)?(e=f._limitOffset(e,f.options.maxBounds),O(function(){f.panBy(e,
{duration:d,easeLinearity:b,noMoveStart:!0,animate:!0})})):f.fire("moveend")}}));zb=(w.addInitHook("addHandler","dragging",pa),w.mergeOptions({keyboard:!0,keyboardPanDelta:80}),T.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a;this._setPanDelta(a.options.keyboardPanDelta);this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;0>=a.tabIndex&&(a.tabIndex="0");r(a,{focus:this._onFocus,
blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();B(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var a,b,c;this._focused||(c=document.body,a=document.documentElement,b=c.scrollTop||a.scrollTop,c=c.scrollLeft||a.scrollLeft,this._map._container.focus(),
window.scrollTo(c,b))},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanDelta:function(a){for(var b=this._panKeys={},c=this.keyCodes,d=0,e=c.left.length;d<e;d++)b[c.left[d]]=[-1*a,0];d=0;for(e=c.right.length;d<e;d++)b[c.right[d]]=[a,0];d=0;for(e=c.down.length;d<e;d++)b[c.down[d]]=[0,a];d=0;for(e=c.up.length;d<e;d++)b[c.up[d]]=[0,-1*a]},_setZoomDelta:function(a){for(var b=this._zoomKeys={},c=this.keyCodes,d=0,e=c.zoomIn.length;d<
e;d++)b[c.zoomIn[d]]=a;d=0;for(e=c.zoomOut.length;d<e;d++)b[c.zoomOut[d]]=-a},_addHooks:function(){r(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){B(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var b,c,d=a.keyCode,e=this._map;if(d in this._panKeys)e._panAnim&&e._panAnim._inProgress||(c=this._panKeys[d],a.shiftKey&&(c=p(c).multiplyBy(3)),e.options.maxBounds&&(c=e._limitOffset(p(c),e.options.maxBounds)),e.options.worldCopyJump?
(b=e.wrapLatLng(e.unproject(e.project(e.getCenter()).add(c))),e.panTo(b)):e.panBy(c));else if(d in this._zoomKeys)e.setZoom(e.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[d]);else{if(27!==d||!e._popup||!e._popup.options.closeOnEscapeKey)return;e.closePopup()}wa(a)}}}));Ab=(w.addInitHook("addHandler","keyboard",zb),w.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),T.extend({addHooks:function(){r(this._map._container,"wheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){B(this._map._container,
"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var b=Hc(a),c=this._map.options.wheelDebounceTime;b=(this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date),Math.max(c-(+new Date-this._startTime),0));clearTimeout(this._timer);this._timer=setTimeout(C(this._performZoom,this),b);wa(a)},_performZoom:function(){var a=this._map,b=a.getZoom(),c=this._map.options.zoomSnap||0,d=(a._stop(),this._delta/(4*this._map.options.wheelPxPerZoomLevel));
d=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2;c=c?Math.ceil(d/c)*c:d;d=a._limitZoom(b+(0<this._delta?c:-c))-b;this._delta=0;this._startTime=null;d&&("center"===a.options.scrollWheelZoom?a.setZoom(b+d):a.setZoomAround(this._lastMousePos,b+d))}}));Ya=(w.addInitHook("addHandler","scrollWheelZoom",Ab),w.mergeOptions({tapHold:m.touchNative&&m.safari&&m.mobile,tapTolerance:15}),T.extend({addHooks:function(){r(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){B(this._map._container,
"touchstart",this._onDown,this)},_onDown:function(a){var b;clearTimeout(this._holdTimeout);1===a.touches.length&&(b=a.touches[0],this._startPos=this._newPos=new q(b.clientX,b.clientY),this._holdTimeout=setTimeout(C(function(){this._cancel();this._isTapValid()&&(r(document,"touchend",N),r(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",b))},this),600),r(document,"touchend touchcancel contextmenu",this._cancel,this),r(document,"touchmove",this._onMove,this))},
_cancelClickPrevent:function b(){B(document,"touchend",N);B(document,"touchend touchcancel",b)},_cancel:function(){clearTimeout(this._holdTimeout);B(document,"touchend touchcancel contextmenu",this._cancel,this);B(document,"touchmove",this._onMove,this)},_onMove:function(b){b=b.touches[0];this._newPos=new q(b.clientX,b.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(b,c){b=new MouseEvent(b,{bubbles:!0,cancelable:!0,
view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});b._simulated=!0;c.target.dispatchEvent(b)}}));Za=(w.addInitHook("addHandler","tapHold",Ya),w.mergeOptions({touchZoom:m.touch,bounceAtZoomLimits:!0}),T.extend({addHooks:function(){t(this._map._container,"leaflet-touch-zoom");r(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){G(this._map._container,"leaflet-touch-zoom");B(this._map._container,"touchstart",this._onTouchStart,this)},
_onTouchStart:function(b){var c,d,e=this._map;!b.touches||2!==b.touches.length||e._animatingZoom||this._zooming||(c=e.mouseEventToContainerPoint(b.touches[0]),d=e.mouseEventToContainerPoint(b.touches[1]),this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(c.add(d)._divideBy(2))),this._startDist=c.distanceTo(d),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=
!0,e._stop(),r(document,"touchmove",this._onTouchMove,this),r(document,"touchend touchcancel",this._onTouchEnd,this),N(b))},_onTouchMove:function(b){if(b.touches&&2===b.touches.length&&this._zooming){var c=this._map,d=c.mouseEventToContainerPoint(b.touches[0]),e=c.mouseEventToContainerPoint(b.touches[1]),f=d.distanceTo(e)/this._startDist;if(this._zoom=c.getScaleZoom(f,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&1>f||this._zoom>c.getMaxZoom()&&1<f)&&(this._zoom=c._limitZoom(this._zoom)),
"center"===c.options.touchZoom){if(this._center=this._startLatLng,1==f)return}else{d=d._add(e)._divideBy(2)._subtract(this._centerPoint);if(1==f&&0===d.x&&0===d.y)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(d),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0);U(this._animRequest);e=C(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(e,this,!0);N(b)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=
!1,U(this._animRequest),B(document,"touchmove",this._onTouchMove,this),B(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}}));var Fd=(w.addInitHook("addHandler","touchZoom",Za),w.BoxZoom=ma,w.DoubleClickZoom=yb,w.Drag=pa,w.Keyboard=zb,w.ScrollWheelZoom=Ab,w.TapHold=Ya,w.TouchZoom=
Za,l.Bounds=E,l.Browser=m,l.CRS=ka,l.Canvas=Tc,l.Circle=kc,l.CircleMarker=Db,l.Class=fa,l.Control=Z,l.DivIcon=id,l.DivOverlay=ea,l.DomEvent=dc,l.DomUtil=Ha,l.Draggable=qa,l.Evented=Ta,l.FeatureGroup=ha,l.GeoJSON=ja,l.GridLayer=db,l.Handler=T,l.Icon=Ka,l.ImageOverlay=Eb,l.LatLng=A,l.LatLngBounds=Q,l.Layer=R,l.LayerGroup=Ja,l.LineUtil=tb,l.Map=w,l.Marker=Ra,l.Mixin=Va,l.Path=ra,l.Point=q,l.PolyUtil=sb,l.Polygon=Ea,l.Polyline=ia,l.Popup=Fb,l.PosAnimation=Yc,l.Projection=ub,l.Rectangle=kd,l.Renderer=
na,l.SVG=Sa,l.SVGOverlay=hd,l.TileLayer=Ga,l.Tooltip=Gb,l.Transformation=Mb,l.Util=rd,l.VideoOverlay=gd,l.bind=C,l.bounds=P,l.canvas=Sc,l.circle=function(b,c,d){return new kc(b,c,d)},l.circleMarker=function(b,c){return new Db(b,c)},l.control=Pa,l.divIcon=function(b){return new id(b)},l.extend=z,l.featureGroup=function(b,c){return new ha(b,c)},l.geoJSON=Qc,l.geoJson=xb,l.gridLayer=function(b){return new db(b)},l.icon=function(b){return new Ka(b)},l.imageOverlay=function(b,c,d){return new Eb(b,c,d)},
l.latLng=v,l.latLngBounds=J,l.layerGroup=function(b,c){return new Ja(b,c)},l.map=function(b,c){return new w(b,c)},l.marker=function(b,c){return new Ra(b,c)},l.point=p,l.polygon=function(b,c){return new Ea(b,c)},l.polyline=function(b,c){return new ia(b,c)},l.popup=function(b,c){return new Fb(b,c)},l.rectangle=function(b,c){return new kd(b,c)},l.setOptions=D,l.stamp=x,l.svg=Uc,l.svgOverlay=function(b,c,d){return new hd(b,c,d)},l.tileLayer=Rc,l.tooltip=function(b,c){return new Gb(b,c)},l.transformation=
Ma,l.version="1.9.4",l.videoOverlay=function(b,c,d){return new gd(b,c,d)},window.L);l.noConflict=function(){return window.L=Fd,this};window.L=l});
