function corslite(e,b,d){function f(){var c;(c=void 0===a.status)||(c=a.status,c=200<=c&&300>c||304===c);c?b.call(a,null,a):b.call(a,a,null)}var g=!1;if("undefined"===typeof window.XMLHttpRequest)return b(Error("Browser not supported"));"undefined"===typeof d&&(d=(d=e.match(/^\s*https?:\/\/[^\/]*/))&&d[0]!==location.protocol+"//"+location.hostname+(location.port?":"+location.port:""));var a=new window.XMLHttpRequest;if(d&&!("withCredentials"in a)){a=new window.XDomainRequest;var h=b;b=function(){if(g)h.apply(this,
arguments);else{var a=this,b=arguments;setTimeout(function(){h.apply(a,b)},0)}}}"onload"in a?a.onload=f:a.onreadystatechange=function(){4===a.readyState&&f()};a.onerror=function(a){b.call(this,a||!0,null);b=function(){}};a.onprogress=function(){};a.ontimeout=function(a){b.call(this,a,null);b=function(){}};a.onabort=function(a){b.call(this,a,null);b=function(){}};a.open("GET",e,!0);a.send(null);g=!0;return a}"undefined"!==typeof module&&(module.exports=corslite);